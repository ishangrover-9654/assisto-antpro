(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"+VLl":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("lSNA"),o=n.n(r),i=n("J4zp"),a=n.n(i),s=n("Hel2"),u=n("NyNd");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=6378e3;function f(e,t){var n=e.dataArray,r=t.size,i=void 0===r?10:r,l=t.method,f=void 0===l?"sum":l,h=i/(2*Math.PI*d)*(256<<20)/2,p=n.map((function(e){var t=Object(s["d"])(e.coordinates),n=a()(t,2),r=n[0],o=n[1];return c(c({},e),{},{coordinates:[r,o]})})),v=Object(u["a"])().radius(h).x((function(e){return e.coordinates[0]})).y((function(e){return e.coordinates[1]})),g=v(p),_={dataArray:g.map((function(e,n){var r;if(t.field&&f){var i=s["c"].getColumn(e,t.field);e[f]=s["c"].statMap[f](i)}return r={},o()(r,t.method,e[f]),o()(r,"count",e.length),o()(r,"rawData",e),o()(r,"coordinates",[e.x,e.y]),o()(r,"_id",n),r})),radius:h,xOffset:h,yOffset:h,type:"hexagon"};return _}},"+em5":function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r,o,i,a,s,u,l=n("lSNA"),c=n.n(l),d=n("yG8O"),f=n.n(d),h=n("lwsE"),p=n.n(h),v=n("W8MJ"),g=n.n(v),_=n("U+yc"),m=n.n(_),y=(n("1ABj"),n("gQMU")),b=n.n(y),x=n("J2iB"),w=n.n(x),S=n("u6S6"),E=n.n(S),j=n("4cb6"),T=n("h1nZ"),P=n("bB6j"),k=n("bPkA");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",M=(r=Object(j["injectable"])(),o=Object(j["inject"])(P["a"].IShaderModuleService),r((u=function(){function e(){p()(this,e),f()(this,"shaderModuleService",s,this),this.rendererService=void 0,this.config=void 0,this.quad=A,this.enabled=!0,this.renderToScreen=!1,this.model=void 0,this.name=void 0,this.optionsToUpdate={}}return g()(e,[{key:"getName",value:function(){return this.name}},{key:"setName",value:function(e){this.name=e}},{key:"getType",value:function(){return k["a"].PostProcessing}},{key:"init",value:function(e,t){this.config=t,this.rendererService=e.getContainer().get(P["a"].IRendererService);var n=this.rendererService,r=n.createAttribute,o=n.createBuffer,i=n.createModel,a=this.setupShaders(),s=a.vs,u=a.fs,l=a.uniforms;this.model=i({vs:s,fs:u,attributes:{a_Position:r({buffer:o({data:[-4,-4,4,-4,0,4],type:T["gl"].FLOAT}),size:2})},uniforms:C(C({u_Texture:null},l),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:"copy"===this.getName()}})}},{key:"render",value:function(e){var t=this,n=e.multiPassRenderer.getPostProcessor(),r=this.rendererService,o=r.useFramebuffer,i=r.getViewportSize,a=r.clear,s=i(),u=s.width,l=s.height;o(this.renderToScreen?null:n.getWriteFBO(),(function(){a({framebuffer:n.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0}),t.model.draw({uniforms:C({u_Texture:n.getReadFBO(),u_ViewportSize:[u,l]},t.convertOptionsToUniforms(t.optionsToUpdate))})}))}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e){this.enabled=e}},{key:"setRenderToScreen",value:function(e){this.renderToScreen=e}},{key:"updateOptions",value:function(e){this.optionsToUpdate=C(C({},this.optionsToUpdate),e)}},{key:"setupShaders",value:function(){throw new Error("Method not implemented.")}},{key:"convertOptionsToUniforms",value:function(e){var t={};return Object.keys(e).forEach((function(n){w()(e[n])||(t["u_".concat(b()(E()(n)))]=e[n])})),t}}]),e}(),a=u,s=m()(a.prototype,"shaderModuleService",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=a))||i)},"/33/":function(e,t){},"/Uc5":function(e,t){},"0eqD":function(e,t){},"1Gbu":function(e,t,n){!function(t,r){e.exports=r(n("q1tI"))}(0,(function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)0>t.indexOf(r)&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){if(e.onChange!==t.onChange)return!0;for(var n=0;_.length>n;n+=1){var r=_[n];if(!window.G2.Util.isEqual(e[r],t[r]))return!0}return!1}var l=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(2),f=r(d),h=n(1),p=r(h),v=n(3),g=r(v),_=["width","height","padding","xAis","yAxis","start","end","fillerStyle","backgroundStyle","scales","textStyle","handleStyle","backgroundChart"],m=function(e){function t(){i(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.refHandle=function(t){e.container||(e.container=t)},e.reBuild=!1,e}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.createG2Instance().render()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.data,r=o(t,["data"]),i=e.data,a=o(e,["data"]);n!==i&&(this.slider.changeData(i),this.slider.repaint()),u(r,a)&&(this.reBuild=!0)}},{key:"componentDidUpdate",value:function(){this.reBuild&&(this.slider.destroy(),this.createG2Instance().render(),this.reBuild=!1)}},{key:"componentWillUnmount",value:function(){this.slider.destroy()}},{key:"createG2Instance",value:function(){return this.slider=new f.default(l({container:this.container},this.props))}},{key:"render",value:function(){return p.default.createElement("div",{ref:this.refHandle})}}]),t}(h.Component);t.default=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"render",value:function(){return p.default.createElement(g.default,null,p.default.createElement(m,this.props))}}]),t}(h.Component),e.exports=t.default},function(t,n){t.exports=e},function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){var r=n(1);window&&!window.G2&&console.err("Please load the G2 script first!"),e.exports=r},function(e,t,n){var r=n(2),o=window&&window.G2,i=o.Chart,a=o.Util,s=o.G,u=o.Global,l=s.Canvas,c=a.DomUtil,d=function(e){return"number"==typeof e};e.exports=function(){function e(e){this._initProps(),a.deepMix(this,e);var t=this.container;if(!t)throw Error("Please specify the container for the Slider!");this.domContainer=a.isString(t)?document.getElementById(t):t,this.handleStyle=a.mix({width:this.height,height:this.height},this.handleStyle),"auto"===this.width&&window.addEventListener("resize",a.wrapBehavior(this,"_initForceFitEvent"))}var t=e.prototype;return t._initProps=function(){this.height=26,this.width="auto",this.padding=u.plotCfg.padding,this.container=null,this.xAxis=null,this.yAxis=null,this.fillerStyle={fill:"#BDCCED",fillOpacity:.3},this.backgroundStyle={stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},this.range=[0,100],this.layout="horizontal",this.textStyle={fill:"#545454"},this.handleStyle={img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},this.backgroundChart={type:["area"],color:"#CCD6EC"}},t._initForceFitEvent=function(){var e=setTimeout(a.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=e},t.forceFit=function(){if(this&&!this.destroyed){var e=c.getWidth(this.domContainer),t=this.height;if(e!==this.domWidth){var n=this.canvas;n.changeSize(e,t),this.bgChart&&this.bgChart.changeWidth(e),n.clear(),this._initWidth(),this._initSlider(),this._bindEvent(),n.draw()}}},t._initWidth=function(){var e;e="auto"===this.width?c.getWidth(this.domContainer):this.width,this.domWidth=e;var t=a.toAllPadding(this.padding);"horizontal"===this.layout?(this.plotWidth=e-t[1]-t[3],this.plotPadding=t[3],this.plotHeight=this.height):"vertical"===this.layout&&(this.plotWidth=this.width,this.plotHeight=this.height-t[0]-t[2],this.plotPadding=t[0])},t.render=function(){this._initWidth(),this._initCanvas(),this._initBackground(),this._initSlider(),this._bindEvent(),this.canvas.draw()},t.changeData=function(e){this.data=e,this.repaint()},t.destroy=function(){clearTimeout(this.resizeTimer),this.rangeElement.off("sliderchange"),this.bgChart&&this.bgChart.destroy(),this.canvas.destroy();for(var e=this.domContainer;e.hasChildNodes();)e.removeChild(e.firstChild);window.removeEventListener("resize",a.getWrapBehavior(this,"_initForceFitEvent")),this.destroyed=!0},t.clear=function(){this.canvas.clear(),this.bgChart&&this.bgChart.destroy(),this.bgChart=null,this.scale=null,this.canvas.draw()},t.repaint=function(){this.clear(),this.render()},t._initCanvas=function(){var e=this.domWidth,t=this.height,n=new l({width:e,height:t,containerDOM:this.domContainer,capture:!1}),r=n.get("el");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.zIndex=3,this.canvas=n},t._initBackground=function(){var e,t=this.data,n=this.xAxis,r=this.yAxis,o=a.deepMix((e={},e[""+n]={range:[0,1]},e),this.scales);if(!t)throw Error("Please specify the data!");if(!n)throw Error("Please specify the xAxis!");if(!r)throw Error("Please specify the yAxis!");var s=this.backgroundChart,u=s.type,l=s.color;a.isArray(u)||(u=[u]);var c=a.toAllPadding(this.padding),d=new i({container:this.container,width:this.domWidth,height:this.height,padding:[0,c[1],0,c[3]],animate:!1});d.source(t),d.scale(o),d.axis(!1),d.tooltip(!1),d.legend(!1),a.each(u,(function(e){d[e]().position(n+"*"+r).color(l).opacity(1)})),d.render(),this.bgChart=d,this.scale="horizontal"===this.layout?d.getXScale():d.getYScales()[0],"vertical"===this.layout&&d.destroy()},t._initRange=function(){var e=this.startRadio,t=this.endRadio,n=this.start,r=this.end,o=this.scale,i=0,a=1;d(e)?i=e:n&&(i=o.scale(o.translate(n))),d(t)?a=t:r&&(a=o.scale(o.translate(r)));var s=this.minSpan,u=this.maxSpan,l=0;if("time"===o.type||"timeCat"===o.type){var c=o.values;l=c[c.length-1]-c[0]}else o.isLinear&&(l=o.max-o.min);l&&s&&(this.minRange=s/l*100),l&&u&&(this.maxRange=u/l*100);var f=[100*i,100*a];return this.range=f,f},t._getHandleValue=function(e){var t=this.range,n=t[0]/100,r=t[1]/100,o=this.scale;return"min"===e?this.start?this.start:o.invert(n):this.end?this.end:o.invert(r)},t._initSlider=function(){var e=this.canvas,t=this._initRange(),n=this.scale,o=e.addGroup(r,{middleAttr:this.fillerStyle,range:t,minRange:this.minRange,maxRange:this.maxRange,layout:this.layout,width:this.plotWidth,height:this.plotHeight,backgroundStyle:this.backgroundStyle,textStyle:this.textStyle,handleStyle:this.handleStyle,minText:n.getText(this._getHandleValue("min")),maxText:n.getText(this._getHandleValue("max"))});"horizontal"===this.layout?o.translate(this.plotPadding,0):"vertical"===this.layout&&o.translate(0,this.plotPadding),this.rangeElement=o},t._bindEvent=function(){var e=this;e.rangeElement.on("sliderchange",(function(t){var n=t.range;e._updateElement(n[0]/100,n[1]/100)}))},t._updateElement=function(e,t){var n=this.scale,r=this.rangeElement,o=r.get("minTextElement"),i=r.get("maxTextElement"),a=n.invert(e),s=n.invert(t),u=n.getText(a),l=n.getText(s);o.attr("text",u),i.attr("text",l),this.start=u,this.end=l,this.onChange&&this.onChange({startText:u,endText:l,startValue:a,endValue:s,startRadio:e,endRadio:t})},e}()},function(e,t){function n(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var r=window&&window.G2,o=r.Util,i=r.G,a=i.Group,s=o.DomUtil;e.exports=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var r=t.prototype;return r.getDefaultCfg=function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},r._initHandle=function(e){var t,n,r,i=this.addGroup(),a=this.get("layout"),s=this.get("handleStyle"),u=s.img,l=s.width,c=s.height;if("horizontal"===a){var d=s.width;r="ew-resize",n=i.addShape("Image",{attrs:{x:-d/2,y:0,width:d,height:c,img:u,cursor:r}}),t=i.addShape("Text",{attrs:o.mix({x:"min"===e?-(d/2+5):d/2+5,y:c/2,textAlign:"min"===e?"end":"start",textBaseline:"middle",text:this.get("min"===e?"minText":"maxText"),cursor:r},this.get("textStyle"))})}else r="ns-resize",n=i.addShape("Image",{attrs:{x:0,y:-c/2,width:l,height:c,img:u,cursor:r}}),t=i.addShape("Text",{attrs:o.mix({x:l/2,y:"min"===e?c/2+5:-(c/2+5),textAlign:"center",textBaseline:"middle",text:this.get("min"===e?"minText":"maxText"),cursor:r},this.get("textStyle"))});return this.set(e+"TextElement",t),this.set(e+"IconElement",n),i},r._initSliderBackground=function(){var e=this.addGroup();return e.initTransform(),e.translate(0,0),e.addShape("Rect",{attrs:o.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),e},r._beforeRenderUI=function(){var e=this._initSliderBackground(),t=this._initHandle("min"),n=this._initHandle("max"),r=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",r),this.set("minHandleElement",t),this.set("maxHandleElement",n),this.set("backgroundElement",e),e.set("zIndex",0),r.set("zIndex",1),t.set("zIndex",2),n.set("zIndex",2),r.attr("cursor","move"),this.sort()},r._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},r._transform=function(e){var t=this.get("range"),n=t[0]/100,r=t[1]/100,o=this.get("width"),i=this.get("height"),a=this.get("minHandleElement"),s=this.get("maxHandleElement"),u=this.get("middleHandleElement");a.resetMatrix?(a.resetMatrix(),s.resetMatrix()):(a.initTransform(),s.initTransform()),"horizontal"===e?(u.attr({x:o*n,y:0,width:(r-n)*o,height:i}),a.translate(n*o,0),s.translate(r*o,0)):(u.attr({x:0,y:i*(1-r),width:o,height:(r-n)*i}),a.translate(0,(1-n)*i),s.translate(0,(1-r)*i))},r._renderHorizontal=function(){this._transform("horizontal")},r._renderVertical=function(){this._transform("vertical")},r._bindUI=function(){this.on("mousedown",o.wrapBehavior(this,"_onMouseDown"))},r._isElement=function(e,t){var n=this.get(t);return e===n||!!n.isGroup&&n.get("children").indexOf(e)>-1},r._getRange=function(e,t){var n=e+t;return n=n>100?100:n,0>n?0:n},r._limitRange=function(e,t,n){n[0]=this._getRange(e,n[0]),(n[1]=n[0]+t)>100&&(n[1]=100,n[0]=n[1]-t)},r._updateStatus=function(e,t){var n=this.get("x"===e?"width":"height");e=o.upperFirst(e);var r,i=this.get("range"),a=this.get("page"+e),s=this.get("currentTarget"),u=this.get("rangeStash"),l=this.get("layout"),c="vertical"===l?-1:1,d=t["page"+e],f=d-a,h=f/n*100*c,p=this.get("minRange"),v=this.get("maxRange");i[1]>i[0]?(this._isElement(s,"minHandleElement")&&(i[0]=this._getRange(h,i[0]),p&&(i[1]-i[0]>p||this._limitRange(h,p,i)),v&&(v>i[1]-i[0]||this._limitRange(h,v,i))),this._isElement(s,"maxHandleElement")&&(i[1]=this._getRange(h,i[1]),p&&(i[1]-i[0]>p||this._limitRange(h,p,i)),v&&(v>i[1]-i[0]||this._limitRange(h,v,i)))):(this._isElement(s,"minHandleElement")||this._isElement(s,"maxHandleElement"))&&(i[0]=this._getRange(h,i[0]),i[1]=this._getRange(h,i[0])),this._isElement(s,"middleHandleElement")&&(r=u[1]-u[0],this._limitRange(h,r,i)),this.emit("sliderchange",{range:i}),this.set("page"+e,d),this._renderUI(),this.get("canvas").draw()},r._onMouseDown=function(e){var t=e.currentTarget,n=e.event,r=this.get("range");n.stopPropagation(),n.preventDefault(),this.set("pageX",n.pageX),this.set("pageY",n.pageY),this.set("currentTarget",t),this.set("rangeStash",[r[0],r[1]]),this._bindCanvasEvents()},r._bindCanvasEvents=function(){var e=this.get("canvas").get("containerDOM");this.onMouseMoveListener=s.addEventListener(e,"mousemove",o.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=s.addEventListener(e,"mouseup",o.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=s.addEventListener(e,"mouseleave",o.wrapBehavior(this,"_onCanvasMouseUp"))},r._onCanvasMouseMove=function(e){"horizontal"===this.get("layout")?this._updateStatus("x",e):this._updateStatus("y",e)},r._onCanvasMouseUp=function(){this._removeDocumentEvents()},r._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()},t}(a)}])}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasError:!1},n}return i(t,e),a(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"unstable_handleError",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?u.default.createElement("h1",null,"Slider error."):this.props.children}}]),t}(u.default.Component)},function(e,t,n){n(0),e.exports=n(0)}])}))},"1jvM":function(e,t){},"5gLl":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("lSNA"),o=n.n(r),i=n("Aib3"),a=n.n(i),s=n("AKIq"),u=n("cWyK");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){var n=[],r={};if(e.features=e.features.filter((function(e){var t=e.geometry;return null!=e&&t&&t.type&&t.coordinates&&t.coordinates.length>0})),a()(e,!0),0===e.features.length)return{dataArray:[],featureKeys:r};return u["flattenEach"](e,(function(e,t){var r=Object(s["getCoords"])(e),o=t;if("Polygon"===e.geometry.type)r.forEach((function(t){var r=c(c({},e.properties),{},{coordinates:[t],_id:o});n.push(r)}));else{var i=c(c({},e.properties),{},{coordinates:r,_id:o});n.push(i)}})),{dataArray:n,featureKeys:r}}},"5zYK":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("lSNA"),o=n.n(r),i=n("RIqP"),a=n.n(i),s=n("Aib3"),u=n.n(s);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){var n=t.x,r=t.y,o=t.x1,i=t.y1,s=t.coordinates,l=[];return e.forEach((function(e,t){var d=[];if(n&&r&&(d=[parseFloat(e[n]),parseFloat(e[r])]),n&&r&&o&&i){var f=[parseFloat(e[n]),parseFloat(e[r])],h=[parseFloat(e[o]),parseFloat(e[i])];d=[f,h]}if(s){var p="Polygon";Array.isArray(s[0])||(p="Point"),Array.isArray(s[0])&&!Array.isArray(s[0][0])&&(p="LineString");var v={type:p,coordinates:a()(e[s])};u()(v,!0),d=v.coordinates}var g=c(c({},e),{},{_id:t,coordinates:d});l.push(g)})),{dataArray:l}}},"6NqC":function(e,t){},"8/Fi":function(e,t,n){"use strict";n("J4zp"),n("9nhX")},"8ml+":function(e,t,n){"use strict";var r=n("h1nZ");n.o(r,"LineLayer")&&n.d(t,"LineLayer",(function(){return r["LineLayer"]})),n.o(r,"PointLayer")&&n.d(t,"PointLayer",(function(){return r["PointLayer"]})),n.o(r,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return r["PolygonLayer"]})),n.o(r,"Popup")&&n.d(t,"Popup",(function(){return r["Popup"]})),n.o(r,"Scene")&&n.d(t,"Scene",(function(){return r["Scene"]}));var o=n("kQ+U");n.d(t,"Scene",(function(){return o["a"]}));var i=n("sxDa");n.d(t,"LineLayer",(function(){return i["a"]})),n.d(t,"PointLayer",(function(){return i["b"]})),n.d(t,"PolygonLayer",(function(){return i["c"]}));var a=n("k5/I");n.d(t,"Popup",(function(){return a["b"]}));n("Hel2"),n("RL2/")},"8uyu":function(e,t){},AFH1:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["TOPRIGHT"]="topright",e["TOPLEFT"]="topleft",e["BOTTOMRIGHT"]="bottomright",e["BOTTOMLEFT"]="bottomleft"}(r||(r={}))},BpBL:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("Hel2");function o(e,t){var n=t.extent,r=new Promise((function(t){i(e,(function(e){t(e)}))})),o={images:r,_id:1,dataArray:[{_id:0,coordinates:[[n[0],n[1]],[n[2],n[3]]]}]};return o}function i(e,t){var n=e,i=[];if("string"===typeof n)Object(r["m"])({url:n},(function(e,n){i.push(n),t(i)}));else{var a=n.length,s=0;n.forEach((function(e){Object(r["m"])({url:e},(function(e,n){s++,i.push(n),s===a&&t(i)}))}))}return o}},"D+ow":function(e,t){},EfZ0:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={ProjectionMatrix:"u_ProjectionMatrix",ViewMatrix:"u_ViewMatrix",ViewProjectionMatrix:"u_ViewProjectionMatrix",Zoom:"u_Zoom",ZoomScale:"u_ZoomScale",FocalDistance:"u_FocalDistance",CameraPosition:"u_CameraPosition"}},FI6e:function(e,t){},Hel2:function(e,t,n){"use strict";n.d(t,"m",(function(){return B})),n.d(t,"l",(function(){return q})),n.d(t,"n",(function(){return Y})),n.d(t,"d",(function(){return Q})),n.d(t,"o",(function(){return J})),n.d(t,"p",(function(){return $})),n.d(t,"i",(function(){return ee})),n.d(t,"b",(function(){return te})),n.d(t,"h",(function(){return ne})),n.d(t,"q",(function(){return ie})),n.d(t,"j",(function(){return ae})),n.d(t,"k",(function(){return se})),n.d(t,"f",(function(){return re})),n.d(t,"e",(function(){return ue})),n.d(t,"g",(function(){return le})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));var r={};n.r(r),n.d(r,"getContainer",(function(){return a})),n.d(r,"trim",(function(){return s})),n.d(r,"splitWords",(function(){return u})),n.d(r,"create",(function(){return c})),n.d(r,"remove",(function(){return d})),n.d(r,"addClass",(function(){return f})),n.d(r,"removeClass",(function(){return h})),n.d(r,"hasClass",(function(){return p})),n.d(r,"setClass",(function(){return v})),n.d(r,"getClass",(function(){return g})),n.d(r,"empty",(function(){return _})),n.d(r,"setTransform",(function(){return y})),n.d(r,"triggerResize",(function(){return b})),n.d(r,"printCanvas",(function(){return x}));var o={};n.r(o),n.d(o,"sum",(function(){return fe})),n.d(o,"max",(function(){return ce})),n.d(o,"min",(function(){return de})),n.d(o,"mean",(function(){return he})),n.d(o,"mode",(function(){return pe})),n.d(o,"statMap",(function(){return ve})),n.d(o,"getColumn",(function(){return ge})),n.d(o,"getSatByColumn",(function(){return _e}));var i=window.document.documentElement.style;function a(e){var t=e;return"string"===typeof e&&(t=document.getElementById(e)),t}function s(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function u(e){return s(e).split(/\s+/)}function l(e){if(!i)return e[0];for(var t in e)if(e[t]&&e[t]in i)return e[t];return e[0]}function c(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function d(e){var t=e.parentNode;t&&t.removeChild(e)}function f(e,t){if(void 0!==e.classList)for(var n=u(t),r=0,o=n.length;r<o;r++)e.classList.add(n[r]);else if(!p(e,t)){var i=g(e);v(e,(i?i+" ":"")+t)}}function h(e,t){void 0!==e.classList?e.classList.remove(t):v(e,s((" "+g(e)+" ").replace(" "+t+" "," ")))}function p(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=g(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function v(e,t){e instanceof HTMLElement?e.className=t:e.className.baseVal=t}function g(e){return e instanceof SVGElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function _(e){while(e&&e.firstChild)e.removeChild(e.firstChild)}var m=l(["transform","WebkitTransform"]);function y(e,t){e.style[m]=t}function b(){if("function"===typeof Event)window.dispatchEvent(new Event("resize"));else{var e=window.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}}function x(e){var t=["padding: "+(e.height/2-8)+"px "+e.width/2+"px;","line-height: "+e.height+"px;","background-image: url("+e.toDataURL()+");"];console.log("%c\n",t.join(""))}var w=n("lwsE"),S=n.n(w),E=n("W8MJ"),j=n.n(E),T=n("7W2i"),P=n.n(T),k=n("a1gu"),O=n.n(k),C=n("Nsbk"),A=n.n(C),M=n("oShl"),R=n.n(M);function L(e){var t=I();return function(){var n,r=A()(e);if(t){var o=A()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O()(this,n)}}function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var N=function(e){P()(n,e);var t=L(n);function n(e,r,o){var i;return S()(this,n),i=t.call(this,e),i.status=void 0,i.url=void 0,i.status=r,i.url=o,i.name=i.constructor.name,i.message=e,i}return j()(n,[{key:"toString",value:function(){return"".concat(this.name,": ").concat(this.message," (").concat(this.status,"): ").concat(this.url)}}]),n}(R()(Error));function D(e){var t=new XMLHttpRequest;for(var n in t.open("GET",e.url,!0),e.headers)e.headers.hasOwnProperty(n)&&t.setRequestHeader(n,e.headers[n]);return t.withCredentials="include"===e.credentials,t}var z=function(e,t){var n=D(e);return n.responseType="arraybuffer",n.onerror=function(){t(new Error(n.statusText))},n.onload=function(){var r=n.response;if(0===r.byteLength&&200===n.status)return t(new Error("http status 200 returned without content."));n.status>=200&&n.status<300&&n.response?t(null,{data:r,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):t(new N(n.statusText,n.status,e.url))},n.send(),n};var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",B=function(e,t){return z(e,(function(e,n){if(e)t(e);else if(n){var r=new window.Image;r.crossOrigin="anonymous";var o=window.URL||window.webkitURL;r.onload=function(){t(null,r),o.revokeObjectURL(r.src)};var i=new window.Blob([new Uint8Array(n.data)],{type:"image/png"});r.src=n.data.byteLength?o.createObjectURL(i):F}}))},U=n("J4zp"),H=n.n(U),V=n("/rf6"),G=2*Math.PI*6378137/2;function q(e){var t=[1/0,1/0,-1/0,-1/0];return e.forEach((function(e){var n=e.coordinates;X(t,n)})),t}function X(e,t){return Array.isArray(t[0])?t.forEach((function(t){X(e,t)})):(e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])),e}function Y(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{enable:!0,decimal:1};e=K(e,t);var r=e[0],o=e[1],i=r*G/180,a=Math.log(Math.tan((90+o)*Math.PI/360))/(Math.PI/180);return a=a*G/180,n.enable&&(i=Number(i.toFixed(n.decimal)),a=Number(a.toFixed(n.decimal))),3===e.length?[i,a,e[2]]:[i,a]}function W(e){if(void 0===e||null===e)throw new Error("lng is required");return(e>180||e<-180)&&(e%=360,e>180&&(e=-360+e),e<-180&&(e=360+e),0===e&&(e=0)),e}function Z(e){if(void 0===e||null===e)throw new Error("lat is required");return(e>90||e<-90)&&(e%=180,e>90&&(e=-180+e),e<-90&&(e=180+e),0===e&&(e=0)),e}function K(e,t){if(!1===t)return e;var n=W(e[0]),r=Z(e[1]);return r>85&&(r=85),r<-85&&(r=-85),3===e.length?[n,r,e[2]]:[n,r]}function Q(e){var t=85.0511287798,n=Math.max(Math.min(t,e[1]),-t),r=256<<20,o=Math.PI/180,i=e[0]*o,a=n*o;a=Math.log(Math.tan(Math.PI/4+a/2));var s=.5/Math.PI,u=.5,l=-.5/Math.PI;return o=.5,i=r*(s*i+u),a=r*(l*a+o),[Math.floor(i),Math.floor(a)]}function J(e,t,n){var r=Object(V["degreesToRadians"])(t[1]-e[1]),o=Object(V["degreesToRadians"])(t[0]-e[0]),i=Object(V["degreesToRadians"])(e[1]),a=Object(V["degreesToRadians"])(t[1]),s=Math.pow(Math.sin(r/2),2)+Math.pow(Math.sin(o/2),2)*Math.cos(i)*Math.cos(a);return Object(V["radiansToLength"])(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),"meters")}function $(e,t){var n=Math.abs(e[1][1]-e[0][1])*t,r=Math.abs(e[1][0]-e[0][0])*t;return[[e[0][0]-r,e[0][1]-n],[e[1][0]+r,e[1][1]+n]]}function ee(e,t){return e[0][0]<=t[0][0]&&e[0][1]<=t[0][1]&&e[1][0]>=t[1][0]&&e[1][1]>=t[1][1]}var te=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,n=arguments.length>1?arguments[1]:void 0;S()(this,e),this.limit=void 0,this.cache=void 0,this.destroy=void 0,this.order=void 0,this.limit=t,this.destroy=n||this.defaultDestroy,this.order=[],this.clear()}return j()(e,[{key:"clear",value:function(){var e=this;this.order.forEach((function(t){e.delete(t)})),this.cache={},this.order=[]}},{key:"get",value:function(e){var t=this.cache[e];return t&&(this.deleteOrder(e),this.appendOrder(e)),t}},{key:"set",value:function(e,t){this.cache[e]?(this.delete(e),this.cache[e]=t,this.appendOrder(e)):(Object.keys(this.cache).length===this.limit&&this.delete(this.order[0]),this.cache[e]=t,this.appendOrder(e))}},{key:"delete",value:function(e){var t=this.cache[e];t&&(this.deleteCache(e),this.deleteOrder(e),this.destroy(t,e))}},{key:"deleteCache",value:function(e){delete this.cache[e]}},{key:"deleteOrder",value:function(e){var t=this.order.findIndex((function(t){return t===e}));t>=0&&this.order.splice(t,1)}},{key:"appendOrder",value:function(e){this.order.push(e)}},{key:"defaultDestroy",value:function(e,t){return null}}]),e}();function ne(e,t){e.forEach((function(e){t[e]&&(t[e]=t[e].bind(t))}))}var re,oe=n("FmoU");function ie(e){var t=oe["a"](e),n=[0,0,0,0];return null!=t&&(n[0]=t.r/255,n[1]=t.g/255,n[2]=t.b/255,n[3]=t.opacity),n}function ae(e){var t=H()(e,3),n=t[0],r=t[1],o=t[2],i=n+256*r+65536*o-1;return i}function se(e){return[e+1&255,e+1>>8&255,e+1>>8>>8&255]}(function(e){e["CENTER"]="center",e["TOP"]="top",e["TOP-LEFT"]="top-left",e["TOP-RIGHT"]="top-right",e["BOTTOM"]="bottom",e["BOTTOM-LEFT"]="bottom-left",e["LEFT"]="left",e["RIGHT"]="right"})(re||(re={}));var ue={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function le(e,t,n){var r=e.classList;for(var o in ue)ue.hasOwnProperty(o)&&r.remove("l7-".concat(n,"-anchor-").concat(o));r.add("l7-".concat(n,"-anchor-").concat(t))}function ce(e){if(0===e.length)throw new Error("max requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return 1*t}function de(e){if(0===e.length)throw new Error("min requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return 1*t}function fe(e){if(0===e.length)return 0;for(var t=1*e[0],n=1;n<e.length;n++)t+=1*e[n];return t}function he(e){if(0===e.length)throw new Error("mean requires at least one data point");return fe(e)/e.length}function pe(e){if(0===e.length)throw new Error("mean requires at least one data point");if(e.length<3)return e[0];e.sort();for(var t=e[0],n=NaN,r=0,o=1,i=1;i<e.length+1;i++)e[i]!==t?(o>r&&(r=o,n=t),o=1,t=e[i]):o++;return 1*n}var ve={min:de,max:ce,mean:he,sum:fe,mode:pe};function ge(e,t){return e.map((function(e){return e[t]}))}function _e(e,t){return ve[e](t)}},HthE:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),function(e){e[e["LNGLAT"]=1]="LNGLAT",e[e["LNGLAT_OFFSET"]=2]="LNGLAT_OFFSET",e[e["VECTOR_TILE"]=3]="VECTOR_TILE",e[e["IDENTITY"]=4]="IDENTITY",e[e["P20"]=5]="P20",e[e["P20_OFFSET"]=6]="P20_OFFSET",e[e["METER_OFFSET"]=7]="METER_OFFSET"}(r||(r={}));var o={CoordinateSystem:"u_CoordinateSystem",ViewportCenter:"u_ViewportCenter",ViewportCenterProjection:"u_ViewportCenterProjection",PixelsPerDegree:"u_PixelsPerDegree",PixelsPerDegree2:"u_PixelsPerDegree2",PixelsPerMeter:"u_PixelsPerMeter"}},ISu3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u}));var r={},o={},i=function(e){return o[e]},a=function(e,t){o[e]=t},s=function(e){return r[e]},u=function(e,t){r[e]=t}},J7lC:function(e,t){},L56e:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["mapload"]},O1je:function(e,t){},PSsN:function(e,t){},PUg6:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["normal"]="normal",e["additive"]="additive",e["subtractive"]="subtractive",e["min"]="min",e["max"]="max"}(r||(r={}))},QGbF:function(e,t){},"RL2/":function(e,t,n){"use strict"},RMtq:function(e,t){},U1ZX:function(e,t){},V1cb:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["Hover"]="hover",e["Click"]="click",e["Select"]="select",e["Active"]="active",e["Drag"]="drag"}(r||(r={}))},VIsB:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("Hel2");function o(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=i(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function i(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=6378e3;function u(e,t){var n=e.dataArray,r=t.size,o=void 0===r?10:r,i=l(n,o),a=i.gridHash,s=i.gridOffset,u=h(a,s,t);return{yOffset:s.yOffset/2,xOffset:s.xOffset/2,radius:s.xOffset,type:"grid",dataArray:u}}function l(e,t){var n,r,i=1/0,a=-1/0,s=o(e);try{for(s.s();!(r=s.n()).done;){var u=r.value;n=u.coordinates[1],Number.isFinite(n)&&(i=n<i?n:i,a=n>a?n:a)}}catch(x){s.e(x)}finally{s.f()}var l=(i+a)/2,d=c(t,l);if(d.xOffset<=0||d.yOffset<=0)return{gridHash:{},gridOffset:d};var f,h={},p=o(e);try{for(p.s();!(f=p.n()).done;){var v=f.value,g=v.coordinates[1],_=v.coordinates[0];if(Number.isFinite(g)&&Number.isFinite(_)){var m=Math.floor((g+90)/d.yOffset),y=Math.floor((_+180)/d.xOffset),b="".concat(m,"-").concat(y);h[b]=h[b]||{count:0,points:[]},h[b].count+=1,h[b].points.push(v)}}}catch(x){p.e(x)}finally{p.f()}return{gridHash:h,gridOffset:d}}function c(e,t){var n=d(e),r=f(t,e);return{yOffset:n,xOffset:r}}function d(e){return e/s*(180/Math.PI)}function f(e,t){return t/s*(180/Math.PI)/Math.cos(e*Math.PI/180)}function h(e,t,n){return Object.keys(e).reduce((function(o,i,a){var s=i.split("-"),u=parseInt(s[0],10),l=parseInt(s[1],10),c={};if(n.field&&n.method){var d=r["c"].getColumn(e[i].points,n.field);c[n.method]=r["c"].statMap[n.method](d)}return Object.assign(c,{_id:a,coordinates:[t.xOffset*(l+.5)-180,t.yOffset*(u+.5)-90],rawData:e[i].points,count:e[i].count}),o.push(c),o}),[])}},Y8BV:function(e,t,n){"use strict";function r(e,t){var n=t.callback;return n&&(e.dataArray=e.dataArray.filter(n)),e}n.d(t,"a",(function(){return r}))},aF1E:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("lSNA"),o=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){var n=t.sourceField,r=t.targetField,o=t.data,i={};return o.forEach((function(e){i[e[n]]=e})),e.dataArray=e.dataArray.map((function(e){var t=e[r];return a(a({},e),i[t])})),e}},bB6j:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={IEventEmitter:Symbol.for("IEventEmitter"),ISceneService:Symbol.for("ISceneService"),IGlobalConfigService:Symbol.for("IGlobalConfigService"),ICameraService:Symbol.for("ICameraService"),ICoordinateSystemService:Symbol.for("ICoordinateSystemService"),ILayerService:Symbol.for("ILayerService"),ILayerMappingService:Symbol.for("ILayerMappingService"),ILayerStyleService:Symbol.for("ILayerStyleService"),ILogService:Symbol.for("ILogService"),IMapService:Symbol.for("IMapService"),IMarkerService:Symbol.for("IMarkerService"),IPopupService:Symbol.for("PopupService"),IFactoryMapService:Symbol.for("Factory<IMapService>"),IRendererService:Symbol.for("IRendererService"),IShaderModuleService:Symbol.for("IShaderModuleService"),IIconService:Symbol.for("IIconService"),IFontService:Symbol.for("IFontService"),IInteractionService:Symbol.for("IInteractionService"),IPickingService:Symbol.for("IPickingService"),IControlService:Symbol.for("IControlService"),IStyleAttributeService:Symbol.for("IStyleAttributeService"),ILayer:Symbol.for("ILayer"),ILayerPlugin:Symbol.for("ILayerPlugin"),INormalPass:Symbol.for("INormalPass"),IPostProcessor:Symbol.for("IPostProcessor"),IPostProcessingPass:Symbol.for("IPostProcessingPass"),IFactoryPostProcessingPass:Symbol.for("Factory<IPostProcessingPass>"),IFactoryNormalPass:Symbol.for("Factory<IFactoryNormalPass>"),IMultiPassRenderer:Symbol.for("IMultiPassRenderer"),SceneID:Symbol.for("SceneID"),MapConfig:Symbol.for("MapConfig")}},bPkA:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e["Normal"]="normal",e["PostProcessing"]="post-processing"}(r||(r={}))},bTtR:function(e,t){},bYl4:function(e,t){},bzyH:function(e,t){},cQSq:function(e,t,n){(function(t,n){e.exports=n()})(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.ts")}({"./node_modules/_@antv_hierarchy@0.6.2@@antv/hierarchy/build/hierarchy.js":function(e,t,n){(function(t,n){e.exports=n()})("undefined"!==typeof self&&self,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){var r=n(7);e.exports={assign:r}},function(e,t,n){var r=n(3),o=function(){function e(e,t){void 0===t&&(t={});var n=this;n.options=t,n.rootNode=r(e,t)}var t=e.prototype;return t.execute=function(){throw new Error("please override this method")},e}();e.exports=o},function(e,t,n){var r=n(4),o=["LR","RL","TB","BT","H","V"],i=["LR","RL","H"],a=function(e){return i.indexOf(e)>-1},s=o[0];e.exports=function(e,t,n){var i=t.direction||s;if(t.isHorizontal=a(i),i&&-1===o.indexOf(i))throw new TypeError("Invalid direction: "+i);if(i===o[0])n(e,t);else if(i===o[1])n(e,t),e.right2left();else if(i===o[2])n(e,t);else if(i===o[3])n(e,t),e.bottom2top();else if(i===o[4]||i===o[5]){var u=r(e,t),l=u.left,c=u.right;n(l,t),n(c,t),t.isHorizontal?l.right2left():l.bottom2top(),c.translate(l.x-c.x,l.y-c.y),e.x=l.x,e.y=c.y;var d=e.getBoundingBox();t.isHorizontal?d.top<0&&e.translate(0,-d.top):d.left<0&&e.translate(-d.left,0)}var f=t.fixedRoot;return void 0===f&&(f=!0),f&&e.translate(-(e.x+e.width/2+e.hgap),-(e.y+e.height/2+e.vgap)),e}},function(e,t,n){var r=n(0),o=18,i=2*o,a=o,s={getId:function(e){return e.id||e.name},getHGap:function(e){return e.hgap||a},getVGap:function(e){return e.vgap||a},getChildren:function(e){return e.children},getHeight:function(e){return e.height||i},getWidth:function(e){var t=e.name||" ";return e.width||t.split("").length*o}};function u(e,t){var n=this;if(n.vgap=n.hgap=0,e instanceof u)return e;n.data=e;var r=t.getHGap(e),o=t.getVGap(e);return n.width=t.getWidth(e),n.height=t.getHeight(e),n.id=t.getId(e),n.x=n.y=0,n.depth=0,n.children||(n.children=[]),n.addGap(r,o),n}function l(e,t,n){void 0===t&&(t={}),t=r.assign({},s,t);var o,i=new u(e,t),a=[i];if(!n&&!e.collapsed)while(o=a.pop())if(!o.data.collapsed){var l=t.getChildren(o.data),c=l?l.length:0;if(o.children=new Array(c),l&&c)for(var d=0;d<c;d++){var f=new u(l[d],t);o.children[d]=f,a.push(f),f.parent=o,f.depth=o.depth+1}}return i}r.assign(u.prototype,{isRoot:function(){return 0===this.depth},isLeaf:function(){return 0===this.children.length},addGap:function(e,t){var n=this;n.hgap+=e,n.vgap+=t,n.width+=2*e,n.height+=2*t},eachNode:function(e){var t,n=this,r=[n];while(t=r.pop())e(t),r=r.concat(t.children)},DFTraverse:function(e){this.eachNode(e)},BFTraverse:function(e){var t,n=this,r=[n];while(t=r.shift())e(t),r=r.concat(t.children)},getBoundingBox:function(){var e={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode((function(t){e.left=Math.min(e.left,t.x),e.top=Math.min(e.top,t.y),e.width=Math.max(e.width,t.x+t.width),e.height=Math.max(e.height,t.y+t.height)})),e},translate:function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.eachNode((function(n){n.x+=e,n.y+=t}))},right2left:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.x=e.x-2*(e.x-t.left)-e.width})),e.translate(t.width,0)},bottom2top:function(){var e=this,t=e.getBoundingBox();e.eachNode((function(e){e.y=e.y-2*(e.y-t.top)-e.height})),e.translate(0,t.height)}}),e.exports=l},function(e,t,n){var r=n(3);e.exports=function(e,t){for(var n=r(e.data,t,!0),o=r(e.data,t,!0),i=e.children.length,a=Math.round(i/2),s=t.getSide||function(e,t){return t<a?"right":"left"},u=0;u<i;u++){var l=e.children[u],c=s(l,u);"right"===c?o.children.push(l):n.children.push(l)}return n.eachNode((function(e){e.isRoot()||(e.side="left")})),o.eachNode((function(e){e.isRoot()||(e.side="right")})),{left:n,right:o}}},function(e,t,n){var r={compactBox:n(6),dendrogram:n(9),indented:n(11),mindmap:n(13)};e.exports=r},function(e,t,n){function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(1),i=n(8),a=n(2),s=n(0),u=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.execute=function(){var e=this;return a(e.rootNode,e.options,i)},t}(o),l={};function c(e,t){return t=s.assign({},l,t),new u(e,t).execute()}e.exports=c},function(e,t){function n(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}var r=function(e,t,r,o){return t&&n(e,t),r&&n(e,r),o&&n(e,o),e};e.exports=r},function(e,t){function n(e,t,n,r){void 0===r&&(r=[]);var o=this;o.w=e||0,o.h=t||0,o.y=n||0,o.x=0,o.c=r||[],o.cs=r.length,o.prelim=0,o.mod=0,o.shift=0,o.change=0,o.tl=null,o.tr=null,o.el=null,o.er=null,o.msel=0,o.mser=0}function r(e,t,n){n?e.y+=t:e.x+=t,e.children.forEach((function(e){r(e,t,n)}))}function o(e,t){var n=t?e.y:e.x;return e.children.forEach((function(e){n=Math.min(o(e,t),n)})),n}function i(e,t){var n=o(e,t);r(e,-n,t)}function a(e,t,n){n?t.y=e.x:t.x=e.x,e.c.forEach((function(e,r){a(e,t.children[r],n)}))}function s(e,t,n){void 0===n&&(n=0),t?(e.x=n,n+=e.width):(e.y=n,n+=e.height),e.children.forEach((function(e){s(e,t,n)}))}n.fromNode=function(e,t){if(!e)return null;var r=[];return e.children.forEach((function(e){r.push(n.fromNode(e,t))})),t?new n(e.height,e.width,e.x,r):new n(e.width,e.height,e.y,r)},e.exports=function(e,t){void 0===t&&(t={});var r=t.isHorizontal;function o(e){if(0!==e.cs){o(e.c[0]);for(var t=b(h(e.c[0].el),0,null),n=1;n<e.cs;++n){o(e.c[n]);var r=h(e.c[n].er);l(e,n,t),t=b(r,n,t)}g(e),u(e)}else u(e)}function u(e){0===e.cs?(e.el=e,e.er=e,e.msel=e.mser=0):(e.el=e.c[0].el,e.msel=e.c[0].msel,e.er=e.c[e.cs-1].er,e.mser=e.c[e.cs-1].mser)}function l(e,t,n){var r=e.c[t-1],o=r.mod,i=e.c[t],a=i.mod;while(null!==r&&null!==i){h(r)>n.low&&(n=n.nxt);var s=o+r.prelim+r.w-(a+i.prelim);s>0&&(a+=s,c(e,t,n.index,s));var u=h(r),l=h(i);u<=l&&(r=f(r),null!==r&&(o+=r.mod)),u>=l&&(i=d(i),null!==i&&(a+=i.mod))}!r&&i?p(e,t,i,a):r&&!i&&v(e,t,r,o)}function c(e,t,n,r){e.c[t].mod+=r,e.c[t].msel+=r,e.c[t].mser+=r,m(e,t,n,r)}function d(e){return 0===e.cs?e.tl:e.c[0]}function f(e){return 0===e.cs?e.tr:e.c[e.cs-1]}function h(e){return e.y+e.h}function p(e,t,n,r){var o=e.c[0].el;o.tl=n;var i=r-n.mod-e.c[0].msel;o.mod+=i,o.prelim-=i,e.c[0].el=e.c[t].el,e.c[0].msel=e.c[t].msel}function v(e,t,n,r){var o=e.c[t].er;o.tr=n;var i=r-n.mod-e.c[t].mser;o.mod+=i,o.prelim-=i,e.c[t].er=e.c[t-1].er,e.c[t].mser=e.c[t-1].mser}function g(e){e.prelim=(e.c[0].prelim+e.c[0].mod+e.c[e.cs-1].mod+e.c[e.cs-1].prelim+e.c[e.cs-1].w)/2-e.w/2}function _(e,t){t+=e.mod,e.x=e.prelim+t,y(e);for(var n=0;n<e.cs;n++)_(e.c[n],t)}function m(e,t,n,r){if(n!==t-1){var o=t-n;e.c[n+1].shift+=r/o,e.c[t].shift-=r/o,e.c[t].change-=r-r/o}}function y(e){for(var t=0,n=0,r=0;r<e.cs;r++)t+=e.c[r].shift,n+=t+e.c[r].change,e.c[r].mod+=n}function b(e,t,n){while(null!==n&&e>=n.low)n=n.nxt;return{low:e,index:t,nxt:n}}s(e,r);var x=n.fromNode(e,r);return o(x),_(x,0),a(x,e,r),i(e,r),e}},function(e,t,n){function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(1),i=n(10),a=n(2),s=n(0),u=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.execute=function(){var e=this;return e.rootNode.width=0,a(e.rootNode,e.options,i)},t}(o),l={};function c(e,t){return t=s.assign({},l,t),new u(e,t).execute()}e.exports=c},function(e,t,n){var r=n(0);function o(e,t){void 0===e&&(e=0),void 0===t&&(t=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=t}var i={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function a(e,t,n){n?(t.x=e.x,t.y=e.y):(t.x=e.y,t.y=e.x),e.children.forEach((function(e,r){a(e,t.children[r],n)}))}e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},i,t);var n,s=0;function u(e){if(!e)return null;e.width=0,e.depth&&e.depth>s&&(s=e.depth);var t=e.children,n=t.length,r=new o(e.height,[]);return t.forEach((function(e,t){var o=u(e);r.children.push(o),0===t&&(r.leftChild=o),t===n-1&&(r.rightChild=o)})),r.originNode=e,r.isLeaf=e.isLeaf(),r}function l(e){if(e.isLeaf||0===e.children.length)e.drawingDepth=s;else{var t=e.children.map((function(e){return l(e)})),n=Math.min.apply(null,t);e.drawingDepth=n-1}return e.drawingDepth}function c(e){e.x=e.drawingDepth*t.rankSep,e.isLeaf?(e.y=0,n&&(e.y=n.y+n.height+t.nodeSep,e.originNode.parent!==n.originNode.parent&&(e.y+=t.subTreeSep)),n=e):(e.children.forEach((function(e){c(e)})),e.y=(e.leftChild.y+e.rightChild.y)/2)}var d=u(e);return l(d),c(d),a(d,e,t.isHorizontal),e}},function(e,t,n){function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(1),i=n(12),a=n(4),s=n(0),u=["LR","RL","H"],l=u[0],c=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.execute=function(){var e=this,t=e.options,n=e.rootNode;t.isHorizontal=!0;var r=t.indent,o=t.direction||l;if(o&&-1===u.indexOf(o))throw new TypeError("Invalid direction: "+o);if(o===u[0])i(n,r);else if(o===u[1])i(n,r),n.right2left();else if(o===u[2]){var s=a(n,t),c=s.left,d=s.right;i(c,r),c.right2left(),i(d,r);var f=c.getBoundingBox();d.translate(f.width,0),n.x=d.x-n.width/2}return n},t}(o),d={};function f(e,t){return t=s.assign({},d,t),new c(e,t).execute()}e.exports=f},function(e,t){var n=20;function r(e,t,n){e.x+=n*e.depth,e.y=t?t.y+t.height:0}e.exports=function(e,t){void 0===t&&(t=n);var o=null;e.eachNode((function(e){r(e,o,t),o=e}))}},function(e,t,n){function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(1),i=n(14),a=n(2),s=n(0),u=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.execute=function(){var e=this;return a(e.rootNode,e.options,i)},t}(o),l={};function c(e,t){return t=s.assign({},l,t),new u(e,t).execute()}e.exports=c},function(e,t,n){var r=n(0);function o(e,t){var n=0;return e.children.length?e.children.forEach((function(e){n+=o(e,t)})):n=e.height,e._subTreeSep=t.getSubTreeSep(e.data),e.totalHeight=Math.max(e.height,n)+2*e._subTreeSep,e.totalHeight}function i(e){var t=e.children,n=t.length;if(n){t.forEach((function(e){i(e)}));var r=t[0],o=t[n-1],a=o.y-r.y+o.height,s=0;if(t.forEach((function(e){s+=e.totalHeight})),a>e.height)e.y=r.y+a/2-e.height/2;else if(1!==t.length||e.height>s){var u=e.y+(e.height-a)/2-r.y;t.forEach((function(e){e.translate(0,u)}))}else e.y=(r.y+r.height/2+o.y+o.height/2)/2-e.height/2}}var a={getSubTreeSep:function(){return 0}};e.exports=function(e,t){void 0===t&&(t={}),t=r.assign({},a,t),e.parent={x:0,width:0,height:0,y:0},e.BFTraverse((function(e){e.x=e.parent.x+e.parent.width})),e.parent=null,o(e,t),e.startY=0,e.y=e.totalHeight/2-e.height/2,e.eachNode((function(e){var t=e.children,n=t.length;if(n){var r=t[0];if(r.startY=e.startY+e._subTreeSep,1===n)r.y=e.y+e.height/2-r.height/2;else{r.y=r.startY+r.totalHeight/2-r.height/2;for(var o=1;o<n;o++){var i=t[o];i.startY=t[o-1].startY+t[o-1].totalHeight,i.y=i.startY+i.totalHeight/2-i.height/2}}}})),i(e)}}])}))},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/augment.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/mix.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-function.js"),i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e[0],i=1;i<e.length;i++){var a=e[i];o.default(a)&&(a=a.prototype),r.default(n.prototype,a)}};t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/cache.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.map={}}return e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var n=this.map[e];return void 0===n?t:n},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length},e}();t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/clamp.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return e<t?t:e>n?n:e};t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/clear-animation-frame.js":function(e,t,n){"use strict";function r(e){var t=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;t(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/clone.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),o=function e(t){if("object"!==typeof t||null===t)return t;var n;if(r.default(t)){n=[];for(var o=0,i=t.length;o<i;o++)"object"===typeof t[o]&&null!=t[o]?n[o]=e(t[o]):n[o]=t[o]}else for(var a in n={},t)"object"===typeof t[a]&&null!=t[a]?n[a]=e(t[a]):n[a]=t[a];return n};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/contains.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array-like.js"),o=function(e,t){return!!r.default(e)&&e.indexOf(t)>-1};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/debounce.js":function(e,t,n){"use strict";function r(e,t,n){var r;return function(){var o=this,i=arguments,a=function(){r=null,n||e.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,t),s&&e.apply(o,i)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/deep-mix.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-plain-object.js"),i=5;function a(e,t,n,s){for(var u in n=n||0,s=s||i,t)if(t.hasOwnProperty(u)){var l=t[u];null!==l&&o.default(l)?(o.default(e[u])||(e[u]={}),n<s?a(e[u],l,n+1,s):e[u]=t[u]):r.default(l)?(e[u]=[],e[u]=e[u].concat(l)):void 0!==l&&(e[u]=l)}}var s=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r+=1)a(e,t[r]);return e};t.default=s},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/difference.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/filter.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/contains.js"),i=function(e,t){return void 0===t&&(t=[]),r.default(e,(function(e){return!o.default(t,e)}))};t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/each.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-object.js");function i(e,t){var n;if(e)if(r.default(e)){for(var i=0,a=e.length;i<a;i++)if(n=t(e[i],i),!1===n)break}else if(o.default(e))for(var s in e)if(e.hasOwnProperty(s)&&(n=t(e[s],s),!1===n))break}t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/ends-with.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-string.js");function i(e,t){return!(!r.default(e)&&!o.default(e))&&e[e.length-1]===t}t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/every.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0};t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/extend.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/mix.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-function.js"),i=function(e,t,n,i){o.default(t)||(n=t,t=e,e=function(){});var a=Object.create?function(e,t){return Object.create(e,{constructor:{value:t}})}:function(e,t){function n(){}n.prototype=e;var r=new n;return r.constructor=t,r},s=a(t.prototype,e);return e.prototype=r.default(s,e.prototype),e.superclass=a(t.prototype,t),r.default(s,n),r.default(e,i),e};t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/filter.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/each.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array-like.js"),i=function(e,t){if(!o.default(e))return e;var n=[];return r.default(e,(function(e,r){t(e,r)&&n.push(e)})),n};t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/find-index.js":function(e,t,n){"use strict";function r(e,t,n){void 0===n&&(n=0);for(var r=n;r<e.length;r++)if(t(e[r],r))return r;return-1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/find.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-function.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-match.js"),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),a=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-plain-object.js");function s(e,t){if(!i.default(e))return null;var n;if(r.default(t)&&(n=t),a.default(t)&&(n=function(e){return o.default(e,t)}),n)for(var s=0;s<e.length;s+=1)if(n(e[s]))return e[s];return null}t.default=s},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/first-value.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-nil.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),i=function(e,t){for(var n=null,i=0;i<e.length;i++){var a=e[i],s=a[t];if(!r.default(s)){n=o.default(s)?s[0]:s;break}}return n};t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/fixed-base.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var n=t.toString(),r=n.indexOf(".");if(-1===r)return Math.round(e);var o=n.substr(r+1).length;return o>20&&(o=20),parseFloat(e.toFixed(o))};t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/flatten-deep.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),o=function e(t,n){if(void 0===n&&(n=[]),r.default(t))for(var o=0;o<t.length;o+=1)e(t[o],n);else n.push(t);return n};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/flatten.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),o=function(e){if(!r.default(e))return[];for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);return t};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/for-in.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/each.js");t.default=r.default},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/get-range.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/filter.js"),i=function(e){if(e=o.default(e,(function(e){return!isNaN(e)})),!e.length)return{min:0,max:0};if(r.default(e[0])){for(var t=[],n=0;n<e.length;n++)t=t.concat(e[n]);e=t}var i=Math.max.apply(null,e),a=Math.min.apply(null,e);return{min:a,max:i}};t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/get-type.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={}.toString,o=function(e){return r.call(e).replace(/^\[object /,"").replace(/]$/,"")};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/get-wrap-behavior.js":function(e,t,n){"use strict";function r(e,t){return e["_wrap_"+t]}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/get.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-string.js");t.default=function(e,t,n){var o=0,i=r.default(t)?t.split("."):t;while(e&&o<i.length)e=e[i[o++]];return void 0===e||o<i.length?n:e}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/group-by.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/each.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-function.js"),a=Object.prototype.hasOwnProperty;function s(e,t){if(!t||!o.default(e))return{};var n,s={},u=i.default(t)?t:function(e){return e[t]};return r.default(e,(function(e){n=u(e),a.call(s,n)?s[n].push(e):s[n]=[e]})),s}t.default=s},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/group-to-map.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-function.js"),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/group-by.js"),a=function(e,t){if(!t)return{0:e};if(!o.default(t)){var n=r.default(t)?t:t.replace(/\s+/g,"").split("*");t=function(e){for(var t="_",r=0,o=n.length;r<o;r++)t+=e[n[r]]&&e[n[r]].toString();return t}}var a=i.default(e,t);return a};t.default=a},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/group.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/group-to-map.js");t.default=function(e,t){if(!t)return[e];var n=r.default(e,t),o=[];for(var i in n)o.push(n[i]);return o}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/has-key.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/has.js");t.default=r.default},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/has-value.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/contains.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/values.js");t.default=function(e,t){return r.default(o.default(e),t)}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/has.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.hasOwnProperty(t)}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/head.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array-like.js");function o(e){if(r.default(e))return e[0]}t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/identity.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/index-of.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array-like.js"),o=function(e,t){if(!r.default(e))return-1;var n=Array.prototype.indexOf;if(n)return n.call(e,t);for(var o=-1,i=0;i<e.length;i++)if(e[i]===t){o=i;break}return o};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/contains.js");t.contains=r.default,t.includes=r.default;var o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/difference.js");t.difference=o.default;var i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/find.js");t.find=i.default;var a=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/find-index.js");t.findIndex=a.default;var s=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/first-value.js");t.firstValue=s.default;var u=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/flatten.js");t.flatten=u.default;var l=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/flatten-deep.js");t.flattenDeep=l.default;var c=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/get-range.js");t.getRange=c.default;var d=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/pull.js");t.pull=d.default;var f=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/pull-at.js");t.pullAt=f.default;var h=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/reduce.js");t.reduce=h.default;var p=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/remove.js");t.remove=p.default;var v=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/sort-by.js");t.sortBy=v.default;var g=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/union.js");t.union=g.default;var _=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/uniq.js");t.uniq=_.default;var m=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/values-of-key.js");t.valuesOfKey=m.default;var y=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/head.js");t.head=y.default;var b=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/last.js");t.last=b.default;var x=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/starts-with.js");t.startsWith=x.default;var w=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/ends-with.js");t.endsWith=w.default;var S=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/filter.js");t.filter=S.default;var E=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/every.js");t.every=E.default;var j=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/some.js");t.some=j.default;var T=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/group.js");t.group=T.default;var P=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/group-by.js");t.groupBy=P.default;var k=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/group-to-map.js");t.groupToMap=k.default;var O=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/get-wrap-behavior.js");t.getWrapBehavior=O.default;var C=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/wrap-behavior.js");t.wrapBehavior=C.default;var A=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/number2color.js");t.number2color=A.default;var M=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/parse-radius.js");t.parseRadius=M.default;var R=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/clamp.js");t.clamp=R.default;var L=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/fixed-base.js");t.fixedBase=L.default;var I=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-decimal.js");t.isDecimal=I.default;var N=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-even.js");t.isEven=N.default;var D=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-integer.js");t.isInteger=D.default;var z=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-negative.js");t.isNegative=z.default;var F=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-number-equal.js");t.isNumberEqual=F.default;var B=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-odd.js");t.isOdd=B.default;var U=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-positive.js");t.isPositive=U.default;var H=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/max-by.js");t.maxBy=H.default;var V=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/min-by.js");t.minBy=V.default;var G=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/mod.js");t.mod=G.default;var q=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/to-degree.js");t.toDegree=q.default;var X=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/to-integer.js");t.toInteger=X.default;var Y=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/to-radian.js");t.toRadian=Y.default;var W=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/for-in.js");t.forIn=W.default;var Z=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/has.js");t.has=Z.default;var K=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/has-key.js");t.hasKey=K.default;var Q=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/has-value.js");t.hasValue=Q.default;var J=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/keys.js");t.keys=J.default;var $=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-match.js");t.isMatch=$.default;var ee=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/values.js");t.values=ee.default;var te=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/lower-case.js");t.lowerCase=te.default;var ne=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/lower-first.js");t.lowerFirst=ne.default;var re=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/substitute.js");t.substitute=re.default;var oe=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/upper-case.js");t.upperCase=oe.default;var ie=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/upper-first.js");t.upperFirst=ie.default;var ae=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/get-type.js");t.getType=ae.default;var se=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-arguments.js");t.isArguments=se.default;var ue=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js");t.isArray=ue.default;var le=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array-like.js");t.isArrayLike=le.default;var ce=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-boolean.js");t.isBoolean=ce.default;var de=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-date.js");t.isDate=de.default;var fe=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-error.js");t.isError=fe.default;var he=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-function.js");t.isFunction=he.default;var pe=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-finite.js");t.isFinite=pe.default;var ve=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-nil.js");t.isNil=ve.default;var ge=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-null.js");t.isNull=ge.default;var _e=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-number.js");t.isNumber=_e.default;var me=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-object.js");t.isObject=me.default;var ye=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-object-like.js");t.isObjectLike=ye.default;var be=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-plain-object.js");t.isPlainObject=be.default;var xe=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-prototype.js");t.isPrototype=xe.default;var we=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-reg-exp.js");t.isRegExp=we.default;var Se=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-string.js");t.isString=Se.default;var Ee=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-type.js");t.isType=Ee.default;var je=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-undefined.js");t.isUndefined=je.default;var Te=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-element.js");t.isElement=Te.default;var Pe=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/request-animation-frame.js");t.requestAnimationFrame=Pe.default;var ke=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/clear-animation-frame.js");t.clearAnimationFrame=ke.default;var Oe=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/augment.js");t.augment=Oe.default;var Ce=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/clone.js");t.clone=Ce.default;var Ae=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/debounce.js");t.debounce=Ae.default;var Me=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/memoize.js");t.memoize=Me.default;var Re=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/deep-mix.js");t.deepMix=Re.default;var Le=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/each.js");t.each=Le.default;var Ie=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/extend.js");t.extend=Ie.default;var Ne=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index-of.js");t.indexOf=Ne.default;var De=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-empty.js");t.isEmpty=De.default;var ze=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-equal.js");t.isEqual=ze.default;var Fe=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-equal-with.js");t.isEqualWith=Fe.default;var Be=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/map.js");t.map=Be.default;var Ue=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/map-values.js");t.mapValues=Ue.default;var He=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/mix.js");t.mix=He.default,t.assign=He.default;var Ve=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/get.js");t.get=Ve.default;var Ge=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/set.js");t.set=Ge.default;var qe=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/pick.js");t.pick=qe.default;var Xe=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/throttle.js");t.throttle=Xe.default;var Ye=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/to-array.js");t.toArray=Ye.default;var We=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/to-string.js");t.toString=We.default;var Ze=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/unique-id.js");t.uniqueId=Ze.default;var Ke=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/noop.js");t.noop=Ke.default;var Qe=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/identity.js");t.identity=Qe.default;var Je=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/size.js");t.size=Je.default;var $e=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/cache.js");t.Cache=$e.default},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-arguments.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-type.js"),o=function(e){return r.default(e,"Arguments")};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array-like.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return null!==e&&"function"!==typeof e&&isFinite(e.length)};t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-type.js");t.default=function(e){return Array.isArray?Array.isArray(e):r.default(e,"Array")}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-boolean.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-type.js"),o=function(e){return r.default(e,"Boolean")};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-date.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-type.js"),o=function(e){return r.default(e,"Date")};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-decimal.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-number.js"),o=function(e){return r.default(e)&&e%1!==0};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-element.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e instanceof Element||e instanceof HTMLDocument};t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-empty.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-nil.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array-like.js"),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/get-type.js"),a=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-prototype.js"),s=Object.prototype.hasOwnProperty;function u(e){if(r.default(e))return!0;if(o.default(e))return!e.length;var t=i.default(e);if("Map"===t||"Set"===t)return!e.size;if(a.default(e))return!Object.keys(e).length;for(var n in e)if(s.call(e,n))return!1;return!0}t.default=u},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-equal-with.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-function.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-equal.js");t.default=function(e,t,n){return r.default(n)?!!n(e,t):o.default(e,t)}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-equal.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-object-like.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array-like.js"),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-string.js"),a=function e(t,n){if(t===n)return!0;if(!t||!n)return!1;if(i.default(t)||i.default(n))return!1;if(o.default(t)||o.default(n)){if(t.length!==n.length)return!1;for(var a=!0,s=0;s<t.length;s++)if(a=e(t[s],n[s]),!a)break;return a}if(r.default(t)||r.default(n)){var u=Object.keys(t),l=Object.keys(n);if(u.length!==l.length)return!1;for(a=!0,s=0;s<u.length;s++)if(a=e(t[u[s]],n[u[s]]),!a)break;return a}return!1};t.default=a},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-error.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-type.js"),o=function(e){return r.default(e,"Error")};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-even.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-number.js"),o=function(e){return r.default(e)&&e%2===0};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-finite.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-number.js");function o(e){return r.default(e)&&isFinite(e)}t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-function.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-type.js");t.default=function(e){return r.default(e,"Function")}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-integer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-number.js"),o=Number.isInteger?Number.isInteger:function(e){return r.default(e)&&e%1===0};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-match.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-nil.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/keys.js");function i(e,t){var n=o.default(t),i=n.length;if(r.default(e))return!i;for(var a=0;a<i;a+=1){var s=n[a];if(t[s]!==e[s]||!(s in e))return!1}return!0}t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-negative.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-number.js"),o=function(e){return r.default(e)&&e<0};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-nil.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return null===e||void 0===e};t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-null.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return null===e};t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-number-equal.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=1e-5;function o(e,t,n){return void 0===n&&(n=r),Math.abs(e-t)<n}t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-number.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-type.js"),o=function(e){return r.default(e,"Number")};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-object-like.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return"object"===typeof e&&null!==e};t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-object.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=typeof e;return null!==e&&"object"===t||"function"===t}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-odd.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-number.js"),o=function(e){return r.default(e)&&e%2!==0};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-plain-object.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-object-like.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-type.js"),i=function(e){if(!r.default(e)||!o.default(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;var t=e;while(null!==Object.getPrototypeOf(t))t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-positive.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-number.js"),o=function(e){return r.default(e)&&e>0};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-prototype.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.prototype,o=function(e){var t=e&&e.constructor,n="function"===typeof t&&t.prototype||r;return e===n};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-reg-exp.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-type.js"),o=function(e){return r.default(e,"RegExp")};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-string.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-type.js");t.default=function(e){return r.default(e,"String")}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-type.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={}.toString,o=function(e,t){return r.call(e)==="[object "+t+"]"};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-undefined.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return void 0===e};t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/keys.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/each.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-function.js"),i=Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];return r.default(e,(function(n,r){o.default(e)&&"prototype"===r||t.push(r)})),t};t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/last.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array-like.js");function o(e){if(r.default(e)){var t=e;return t[t.length-1]}}t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/lower-case.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/to-string.js"),o=function(e){return r.default(e).toLowerCase()};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/lower-first.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/to-string.js"),o=function(e){var t=r.default(e);return t.charAt(0).toLowerCase()+t.substring(1)};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/map-values.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-nil.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-object.js"),i=function(e){return e};t.default=function(e,t){void 0===t&&(t=i);var n={};return o.default(e)&&!r.default(e)&&Object.keys(e).forEach((function(r){n[r]=t(e[r],r)})),n}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/map.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/each.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array-like.js"),i=function(e,t){if(!o.default(e))return e;var n=[];return r.default(e,(function(e,r){n.push(t(e,r))})),n};t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/max-by.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/each.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-function.js");t.default=function(e,t){if(o.default(e)){var n,a,s=e[0];return n=i.default(t)?t(e[0]):e[0][t],r.default(e,(function(e){a=i.default(t)?t(e):e[t],a>n&&(s=e,n=a)})),s}}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/memoize.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-function.js");t.default=function(e,t){if(!r.default(e))throw new TypeError("Expected a function");var n=function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=e.apply(this,r);return a.set(i,s),s};return n.cache=new Map,n}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/min-by.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/each.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-function.js");t.default=function(e,t){if(o.default(e)){var n,a,s=e[0];return n=i.default(t)?t(e[0]):e[0][t],r.default(e,(function(e){a=i.default(t)?t(e):e[t],a<n&&(s=e,n=a)})),s}}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/mix.js":function(e,t,n){"use strict";function r(e,t){for(var n in t)t.hasOwnProperty(n)&&"constructor"!==n&&void 0!==t[n]&&(e[n]=t[n])}function o(e,t,n,o){return t&&r(e,t),n&&r(e,n),o&&r(e,o),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/mod.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return(e%t+t)%t};t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/noop.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/number2color.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};function o(e){var t=r[e];if(!t){for(var n=e.toString(16),o=n.length;o<6;o++)n="0"+n;t="#"+n,r[e]=t}return t}t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/parse-radius.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js");function o(e){var t=0,n=0,o=0,i=0;return r.default(e)?1===e.length?t=n=o=i=e[0]:2===e.length?(t=o=e[0],n=i=e[1]):3===e.length?(t=e[0],n=i=e[1],o=e[2]):(t=e[0],n=e[1],o=e[2],i=e[3]):t=n=o=i=e,{r1:t,r2:n,r3:o,r4:i}}t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/pick.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/each.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-plain-object.js"),i=Object.prototype.hasOwnProperty;t.default=function(e,t){if(null===e||!o.default(e))return{};var n={};return r.default(t,(function(t){i.call(e,t)&&(n[t]=e[t])})),n}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/pull-at.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array-like.js"),o=Array.prototype.splice,i=function(e,t){if(!r.default(e))return[];var n=e?t.length:0,i=n-1;while(n--){var a=void 0,s=t[n];n!==i&&s===a||(a=s,o.call(e,s,1))}return e};t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/pull.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Array.prototype,o=r.splice,i=r.indexOf,a=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var a=t[r],s=-1;while((s=i.call(e,a))>-1)o.call(e,s,1)}return e};t.default=a},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/reduce.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/each.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-plain-object.js"),a=function(e,t,n){if(!o.default(e)&&!i.default(e))return e;var a=n;return r.default(e,(function(e,n){a=t(a,e,n)})),a};t.default=a},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/remove.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array-like.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/pull-at.js"),i=function(e,t){var n=[];if(!r.default(e))return n;var i=-1,a=[],s=e.length;while(++i<s){var u=e[i];t(u,i,e)&&(n.push(u),a.push(i))}return o.default(e,a),n};t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/request-animation-frame.js":function(e,t,n){"use strict";function r(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)};return t(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/set.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-object.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-string.js"),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-number.js");t.default=function(e,t,n){var a=e,s=o.default(t)?t.split("."):t;return s.forEach((function(e,t){t<s.length-1?(r.default(a[e])||(a[e]=i.default(s[t+1])?[]:{}),a=a[e]):a[e]=n})),e}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/size.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-nil.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array-like.js");function i(e){return r.default(e)?0:o.default(e)?e.length:Object.keys(e).length}t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/some.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1};t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/sort-by.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-string.js"),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-function.js");function a(e,t){var n;if(i.default(t))n=function(e,n){return t(e)-t(n)};else{var a=[];o.default(t)?a.push(t):r.default(t)&&(a=t),n=function(e,t){for(var n=0;n<a.length;n+=1){var r=a[n];if(e[r]>t[r])return 1;if(e[r]<t[r])return-1}return 0}}return e.sort(n),e}t.default=a},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/starts-with.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-string.js");function i(e,t){return!(!r.default(e)&&!o.default(e))&&e[0]===t}t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/substitute.js":function(e,t,n){"use strict";function r(e,t){return e&&t?e.replace(/\\?\{([^{}]+)\}/g,(function(e,n){return"\\"===e.charAt(0)?e.slice(1):void 0===t[n]?"":t[n]})):e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/throttle.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r,o,i,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:Date.now(),r=null,a=e.apply(o,i),r||(o=i=null)},l=function(){var l=Date.now();s||!1!==n.leading||(s=l);var c=t-(l-s);return o=this,i=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),s=l,a=e.apply(o,i),r||(o=i=null)):r||!1===n.trailing||(r=setTimeout(u,c)),a};return l.cancel=function(){clearTimeout(r),s=0,r=o=i=null},l}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/to-array.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array-like.js");t.default=function(e){return r.default(e)?Array.prototype.slice.call(e):[]}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/to-degree.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=180/Math.PI,o=function(e){return r*e};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/to-integer.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=parseInt},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/to-radian.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Math.PI/180,o=function(e){return r*e};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/to-string.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-nil.js");t.default=function(e){return r.default(e)?"":e.toString()}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/union.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/uniq.js"),o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.default([].concat.apply([],e))};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/uniq.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/contains.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/each.js"),i=function(e){var t=[];return o.default(e,(function(e){r.default(t,e)||t.push(e)})),t};t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/unique-id.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};t.default=function(e){return e=e||"g",r[e]?r[e]+=1:r[e]=1,e+r[e]}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/upper-case.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/to-string.js"),o=function(e){return r.default(e).toUpperCase()};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/upper-first.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/to-string.js"),o=function(e){var t=r.default(e);return t.charAt(0).toUpperCase()+t.substring(1)};t.default=o},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/values-of-key.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/each.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-array.js"),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-nil.js");t.default=function(e,t){var n=[],a={};return e.forEach((function(e){var s=e[t];i.default(s)||(o.default(s)||(s=[s]),r.default(s,(function(e){a[e]||(n.push(e),a[e]=!0)})))})),n}},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/values.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/each.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/is-function.js"),i=Object.values?function(e){return Object.values(e)}:function(e){var t=[];return r.default(e,(function(n,r){o.default(e)&&"prototype"===r||t.push(n)})),t};t.default=i},"./node_modules/_@antv_util@2.0.7@@antv/util/lib/wrap-behavior.js":function(e,t,n){"use strict";function r(e,t){if(e["_wrap_"+t])return e["_wrap_"+t];var n=function(n){e[t](n)};return e["_wrap_"+t]=n,n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"./node_modules/_abs-svg-path@0.1.1@abs-svg-path/index.js":function(e,t){function n(e){var t=0,n=0,r=0,o=0;return e.map((function(e){e=e.slice();var i=e[0],a=i.toUpperCase();if(i!=a)switch(e[0]=a,i){case"a":e[6]+=r,e[7]+=o;break;case"v":e[1]+=o;break;case"h":e[1]+=r;break;default:for(var s=1;s<e.length;)e[s++]+=r,e[s++]+=o}switch(a){case"Z":r=t,o=n;break;case"H":r=e[1];break;case"V":o=e[1];break;case"M":r=t=e[1],o=n=e[2];break;default:r=e[e.length-2],o=e[e.length-1]}return e}))}e.exports=n},"./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js":function(e,t,n){(function(e,n){n(t)})(0,(function(e){"use strict";function t(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function n(e){return 1===e.length&&(e=r(e)),{left:function(t,n,r,o){null==r&&(r=0),null==o&&(o=t.length);while(r<o){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r},right:function(t,n,r,o){null==r&&(r=0),null==o&&(o=t.length);while(r<o){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}}}function r(e){return function(n,r){return t(e(n),r)}}var o=n(t),i=o.right,a=o.left;function s(e,t){null==t&&(t=u);var n=0,r=e.length-1,o=e[0],i=new Array(r<0?0:r);while(n<r)i[n]=t(o,o=e[++n]);return i}function u(e,t){return[e,t]}function l(e,t,n){var r,o,i,a,s=e.length,l=t.length,c=new Array(s*l);for(null==n&&(n=u),r=i=0;r<s;++r)for(a=e[r],o=0;o<l;++o,++i)c[i]=n(a,t[o]);return c}function c(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function d(e){return null===e?NaN:+e}function f(e,t){var n,r,o=e.length,i=0,a=-1,s=0,u=0;if(null==t)while(++a<o)isNaN(n=d(e[a]))||(r=n-s,s+=r/++i,u+=r*(n-s));else while(++a<o)isNaN(n=d(t(e[a],a,e)))||(r=n-s,s+=r/++i,u+=r*(n-s));if(i>1)return u/(i-1)}function h(e,t){var n=f(e,t);return n?Math.sqrt(n):n}function p(e,t){var n,r,o,i=e.length,a=-1;if(null==t){while(++a<i)if(null!=(n=e[a])&&n>=n){r=o=n;while(++a<i)null!=(n=e[a])&&(r>n&&(r=n),o<n&&(o=n))}}else while(++a<i)if(null!=(n=t(e[a],a,e))&&n>=n){r=o=n;while(++a<i)null!=(n=t(e[a],a,e))&&(r>n&&(r=n),o<n&&(o=n))}return[r,o]}var v=Array.prototype,g=v.slice,_=v.map;function m(e){return function(){return e}}function y(e){return e}function b(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n)),i=new Array(o);while(++r<o)i[r]=e+r*n;return i}var x=Math.sqrt(50),w=Math.sqrt(10),S=Math.sqrt(2);function E(e,t,n){var r,o,i,a,s=-1;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((r=t<e)&&(o=e,e=t,t=o),0===(a=j(e,t,n))||!isFinite(a))return[];if(a>0){e=Math.ceil(e/a),t=Math.floor(t/a),i=new Array(o=Math.ceil(t-e+1));while(++s<o)i[s]=(e+s)*a}else{e=Math.floor(e*a),t=Math.ceil(t*a),i=new Array(o=Math.ceil(e-t+1));while(++s<o)i[s]=(e-s)/a}return r&&i.reverse(),i}function j(e,t,n){var r=(t-e)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=x?10:i>=w?5:i>=S?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=x?10:i>=w?5:i>=S?2:1)}function T(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=x?o*=10:i>=w?o*=5:i>=S&&(o*=2),t<e?-o:o}function P(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function k(){var e=y,t=p,n=P;function r(r){var o,a,s=r.length,u=new Array(s);for(o=0;o<s;++o)u[o]=e(r[o],o,r);var l=t(u),c=l[0],d=l[1],f=n(u,c,d);Array.isArray(f)||(f=T(c,d,f),f=b(Math.ceil(c/f)*f,d,f));var h=f.length;while(f[0]<=c)f.shift(),--h;while(f[h-1]>d)f.pop(),--h;var p,v=new Array(h+1);for(o=0;o<=h;++o)p=v[o]=[],p.x0=o>0?f[o-1]:c,p.x1=o<h?f[o]:d;for(o=0;o<s;++o)a=u[o],c<=a&&a<=d&&v[i(f,a,0,h)].push(r[o]);return v}return r.value=function(t){return arguments.length?(e="function"===typeof t?t:m(t),r):e},r.domain=function(e){return arguments.length?(t="function"===typeof e?e:m([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?m(g.call(e)):m(e),r):n},r}function O(e,t,n){if(null==n&&(n=d),r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,o=(r-1)*t,i=Math.floor(o),a=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return a+(s-a)*(o-i)}}function C(e,n,r){return e=_.call(e,d).sort(t),Math.ceil((r-n)/(2*(O(e,.75)-O(e,.25))*Math.pow(e.length,-1/3)))}function A(e,t,n){return Math.ceil((n-t)/(3.5*h(e)*Math.pow(e.length,-1/3)))}function M(e,t){var n,r,o=e.length,i=-1;if(null==t){while(++i<o)if(null!=(n=e[i])&&n>=n){r=n;while(++i<o)null!=(n=e[i])&&n>r&&(r=n)}}else while(++i<o)if(null!=(n=t(e[i],i,e))&&n>=n){r=n;while(++i<o)null!=(n=t(e[i],i,e))&&n>r&&(r=n)}return r}function R(e,t){var n,r=e.length,o=r,i=-1,a=0;if(null==t)while(++i<r)isNaN(n=d(e[i]))?--o:a+=n;else while(++i<r)isNaN(n=d(t(e[i],i,e)))?--o:a+=n;if(o)return a/o}function L(e,n){var r,o=e.length,i=-1,a=[];if(null==n)while(++i<o)isNaN(r=d(e[i]))||a.push(r);else while(++i<o)isNaN(r=d(n(e[i],i,e)))||a.push(r);return O(a.sort(t),.5)}function I(e){var t,n,r,o=e.length,i=-1,a=0;while(++i<o)a+=e[i].length;n=new Array(a);while(--o>=0){r=e[o],t=r.length;while(--t>=0)n[--a]=r[t]}return n}function N(e,t){var n,r,o=e.length,i=-1;if(null==t){while(++i<o)if(null!=(n=e[i])&&n>=n){r=n;while(++i<o)null!=(n=e[i])&&r>n&&(r=n)}}else while(++i<o)if(null!=(n=t(e[i],i,e))&&n>=n){r=n;while(++i<o)null!=(n=t(e[i],i,e))&&r>n&&(r=n)}return r}function D(e,t){var n=t.length,r=new Array(n);while(n--)r[n]=e[t[n]];return r}function z(e,n){if(r=e.length){var r,o,i=0,a=0,s=e[a];null==n&&(n=t);while(++i<r)(n(o=e[i],s)<0||0!==n(s,s))&&(s=o,a=i);return 0===n(s,s)?a:void 0}}function F(e,t,n){var r,o,i=(null==n?e.length:n)-(t=null==t?0:+t);while(i)o=Math.random()*i--|0,r=e[i+t],e[i+t]=e[o+t],e[o+t]=r;return e}function B(e,t){var n,r=e.length,o=-1,i=0;if(null==t)while(++o<r)(n=+e[o])&&(i+=n);else while(++o<r)(n=+t(e[o],o,e))&&(i+=n);return i}function U(e){if(!(o=e.length))return[];for(var t=-1,n=N(e,H),r=new Array(n);++t<n;)for(var o,i=-1,a=r[t]=new Array(o);++i<o;)a[i]=e[i][t];return r}function H(e){return e.length}function V(){return U(arguments)}e.bisect=i,e.bisectRight=i,e.bisectLeft=a,e.ascending=t,e.bisector=n,e.cross=l,e.descending=c,e.deviation=h,e.extent=p,e.histogram=k,e.thresholdFreedmanDiaconis=C,e.thresholdScott=A,e.thresholdSturges=P,e.max=M,e.mean=R,e.median=L,e.merge=I,e.min=N,e.pairs=s,e.permute=D,e.quantile=O,e.range=b,e.scan=z,e.shuffle=F,e.sum=B,e.ticks=E,e.tickIncrement=j,e.tickStep=T,e.transpose=U,e.variance=f,e.zip=V,Object.defineProperty(e,"__esModule",{value:!0})}))},"./node_modules/_d3-collection@1.0.7@d3-collection/dist/d3-collection.js":function(e,t,n){(function(e,n){n(t)})(0,(function(e){"use strict";var t="$";function n(){}function r(e,t){var r=new n;if(e instanceof n)e.each((function(e,t){r.set(t,e)}));else if(Array.isArray(e)){var o,i=-1,a=e.length;if(null==t)while(++i<a)r.set(i,e[i]);else while(++i<a)r.set(t(o=e[i],i,e),o)}else if(e)for(var s in e)r.set(s,e[s]);return r}function o(){var e,t,n,o=[],l=[];function c(n,i,a,s){if(i>=o.length)return null!=e&&n.sort(e),null!=t?t(n):n;var u,l,d,f=-1,h=n.length,p=o[i++],v=r(),g=a();while(++f<h)(d=v.get(u=p(l=n[f])+""))?d.push(l):v.set(u,[l]);return v.each((function(e,t){s(g,t,c(e,i,a,s))})),g}function d(e,n){if(++n>o.length)return e;var r,i=l[n-1];return null!=t&&n>=o.length?r=e.entries():(r=[],e.each((function(e,t){r.push({key:t,values:d(e,n)})}))),null!=i?r.sort((function(e,t){return i(e.key,t.key)})):r}return n={object:function(e){return c(e,0,i,a)},map:function(e){return c(e,0,s,u)},entries:function(e){return d(c(e,0,s,u),0)},key:function(e){return o.push(e),n},sortKeys:function(e){return l[o.length-1]=e,n},sortValues:function(t){return e=t,n},rollup:function(e){return t=e,n}}}function i(){return{}}function a(e,t,n){e[t]=n}function s(){return r()}function u(e,t,n){e.set(t,n)}function l(){}n.prototype=r.prototype={constructor:n,has:function(e){return t+e in this},get:function(e){return this[t+e]},set:function(e,n){return this[t+e]=n,this},remove:function(e){var n=t+e;return n in this&&delete this[n]},clear:function(){for(var e in this)e[0]===t&&delete this[e]},keys:function(){var e=[];for(var n in this)n[0]===t&&e.push(n.slice(1));return e},values:function(){var e=[];for(var n in this)n[0]===t&&e.push(this[n]);return e},entries:function(){var e=[];for(var n in this)n[0]===t&&e.push({key:n.slice(1),value:this[n]});return e},size:function(){var e=0;for(var n in this)n[0]===t&&++e;return e},empty:function(){for(var e in this)if(e[0]===t)return!1;return!0},each:function(e){for(var n in this)n[0]===t&&e(this[n],n.slice(1),this)}};var c=r.prototype;function d(e,t){var n=new l;if(e instanceof l)e.each((function(e){n.add(e)}));else if(e){var r=-1,o=e.length;if(null==t)while(++r<o)n.add(e[r]);else while(++r<o)n.add(t(e[r],r,e))}return n}function f(e){var t=[];for(var n in e)t.push(n);return t}function h(e){var t=[];for(var n in e)t.push(e[n]);return t}function p(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t}l.prototype=d.prototype={constructor:l,has:c.has,add:function(e){return e+="",this[t+e]=e,this},remove:c.remove,clear:c.clear,values:c.keys,size:c.size,empty:c.empty,each:c.each},e.nest=o,e.set=d,e.map=r,e.keys=f,e.values=h,e.entries=p,Object.defineProperty(e,"__esModule",{value:!0})}))},"./node_modules/_d3-composite-projections@1.3.2@d3-composite-projections/d3-composite-projections.js":function(e,t,n){(function(e,r){r(t,n("./node_modules/_d3-geo@1.11.9@d3-geo/dist/d3-geo.js"),n("./node_modules/_d3-path@1.0.9@d3-path/dist/d3-path.js"))})(0,(function(e,t,n){"use strict";var r=1e-6;function o(){}var i=1/0,a=i,s=-i,u=s,l={point:c,lineStart:o,lineEnd:o,polygonStart:o,polygonEnd:o,result:function(){var e=[[i,a],[s,u]];return s=u=-(a=i=1/0),e}};function c(e,t){e<i&&(i=e),e>s&&(s=e),t<a&&(a=t),t>u&&(u=t)}function d(e,n,r){var o=n[1][0]-n[0][0],i=n[1][1]-n[0][1],a=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=a&&e.clipExtent(null),t.geoStream(r,e.stream(l));var s=l.result(),u=Math.min(o/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),c=+n[0][0]+(o-u*(s[1][0]+s[0][0]))/2,d=+n[0][1]+(i-u*(s[1][1]+s[0][1]))/2;return null!=a&&e.clipExtent(a),e.scale(150*u).translate([c,d])}function f(e,t,n){return d(e,[[0,0],t],n)}function h(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function p(){var e,o,i,a,s,u,l=t.geoAlbers(),c=t.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p=t.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),v={point:function(e,t){u=[e,t]}};function g(e){var t=e[0],n=e[1];return u=null,i.point(t,n),u||(a.point(t,n),u)||(s.point(t,n),u)}function _(){return e=o=null,g}return g.invert=function(e){var t=l.scale(),n=l.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?c:o>=.166&&o<.234&&r>=-.214&&r<-.115?p:l).invert(e)},g.stream=function(t){return e&&o===t?e:e=h([l.stream(o=t),c.stream(t),p.stream(t)])},g.precision=function(e){return arguments.length?(l.precision(e),c.precision(e),p.precision(e),_()):l.precision()},g.scale=function(e){return arguments.length?(l.scale(e),c.scale(.35*e),p.scale(e),g.translate(l.translate())):l.scale()},g.translate=function(e){if(!arguments.length)return l.translate();var t=l.scale(),n=+e[0],o=+e[1];return i=l.translate(e).clipExtent([[n-.455*t,o-.238*t],[n+.455*t,o+.238*t]]).stream(v),a=c.translate([n-.307*t,o+.201*t]).clipExtent([[n-.425*t+r,o+.12*t+r],[n-.214*t-r,o+.234*t-r]]).stream(v),s=p.translate([n-.205*t,o+.212*t]).clipExtent([[n-.214*t+r,o+.166*t+r],[n-.115*t-r,o+.234*t-r]]).stream(v),_()},g.fitExtent=function(e,t){return d(g,e,t)},g.fitSize=function(e,t){return f(g,e,t)},g.drawCompositionBorders=function(e){var t=l([-102.91,26.3]),n=l([-104,27.5]),r=l([-108,29.1]),o=l([-110,29.1]),i=l([-110,26.7]),a=l([-112.8,27.6]),s=l([-114.3,30.6]),u=l([-119.3,30.1]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.moveTo(i[0],i[1]),e.lineTo(a[0],a[1]),e.lineTo(s[0],s[1]),e.lineTo(u[0],u[1])},g.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},g.scale(1070)}function v(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function g(){var e,o,i,a,s,u,l,c,h,p=t.geoAlbers(),g=t.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),_=t.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),m=t.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),y=t.geoEquirectangular().rotate([173,14]),b=t.geoEquirectangular().rotate([-145,-16.8]),x={point:function(e,t){h=[e,t]}};function w(e){var t=e[0],n=e[1];return h=null,i.point(t,n),h||(a.point(t,n),h)||(s.point(t,n),h)||(u.point(t,n),h)||(l.point(t,n),h)||(c.point(t,n),h)}function S(){return e=o=null,w}return w.invert=function(e){var t=p.scale(),n=p.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?g:o>=.166&&o<.234&&r>=-.214&&r<-.115?_:o>=.2064&&o<.2413&&r>=.312&&r<.385?m:o>=.09&&o<.1197&&r>=-.4243&&r<-.3232?y:o>=-.0518&&o<.0895&&r>=-.4243&&r<-.3824?b:p).invert(e)},w.stream=function(t){return e&&o===t?e:e=v([p.stream(o=t),g.stream(t),_.stream(t),m.stream(t),y.stream(t),b.stream(t)])},w.precision=function(e){return arguments.length?(p.precision(e),g.precision(e),_.precision(e),m.precision(e),y.precision(e),b.precision(e),S()):p.precision()},w.scale=function(e){return arguments.length?(p.scale(e),g.scale(.35*e),_.scale(e),m.scale(e),y.scale(2*e),b.scale(e),w.translate(p.translate())):p.scale()},w.translate=function(e){if(!arguments.length)return p.translate();var t=p.scale(),n=+e[0],o=+e[1];return i=p.translate(e).clipExtent([[n-.455*t,o-.238*t],[n+.455*t,o+.238*t]]).stream(x),a=g.translate([n-.307*t,o+.201*t]).clipExtent([[n-.425*t+r,o+.12*t+r],[n-.214*t-r,o+.233*t-r]]).stream(x),s=_.translate([n-.205*t,o+.212*t]).clipExtent([[n-.214*t+r,o+.166*t+r],[n-.115*t-r,o+.233*t-r]]).stream(x),u=m.translate([n+.35*t,o+.224*t]).clipExtent([[n+.312*t+r,o+.2064*t+r],[n+.385*t-r,o+.233*t-r]]).stream(x),l=y.translate([n-.492*t,o+.09*t]).clipExtent([[n-.4243*t+r,o+.0903*t+r],[n-.3233*t-r,o+.1197*t-r]]).stream(x),c=b.translate([n-.408*t,o+.018*t]).clipExtent([[n-.4244*t+r,o-.0519*t+r],[n-.3824*t-r,o+.0895*t-r]]).stream(x),S()},w.fitExtent=function(e,t){return d(w,e,t)},w.fitSize=function(e,t){return f(w,e,t)},w.drawCompositionBorders=function(e){var t=p([-110.4641,28.2805]),n=p([-104.0597,28.9528]),r=p([-103.7049,25.1031]),o=p([-109.8337,24.4531]),i=p([-124.4745,28.1407]),a=p([-110.931,30.8844]),s=p([-109.8337,24.4531]),u=p([-122.4628,21.8562]),l=p([-76.8579,25.1544]),c=p([-72.429,24.2097]),d=p([-72.8265,22.7056]),f=p([-77.1852,23.6392]),h=p([-125.0093,29.7791]),v=p([-118.5193,31.3262]),g=p([-118.064,29.6912]),_=p([-124.4369,28.169]),m=p([-128.1314,37.4582]),y=p([-125.2132,38.214]),b=p([-122.3616,30.5115]),x=p([-125.0315,29.8211]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),e.moveTo(i[0],i[1]),e.lineTo(a[0],a[1]),e.lineTo(s[0],s[1]),e.lineTo(s[0],s[1]),e.lineTo(u[0],u[1]),e.closePath(),e.moveTo(l[0],l[1]),e.lineTo(c[0],c[1]),e.lineTo(d[0],d[1]),e.lineTo(d[0],d[1]),e.lineTo(f[0],f[1]),e.closePath(),e.moveTo(h[0],h[1]),e.lineTo(v[0],v[1]),e.lineTo(g[0],g[1]),e.lineTo(g[0],g[1]),e.lineTo(_[0],_[1]),e.closePath(),e.moveTo(m[0],m[1]),e.lineTo(y[0],y[1]),e.lineTo(b[0],b[1]),e.lineTo(b[0],b[1]),e.lineTo(x[0],x[1]),e.closePath()},w.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},w.scale(1070)}function _(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function m(){var e,o,i,a,s,u=t.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),l=t.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),c={point:function(e,t){s=[e,t]}};function h(e){var t=e[0],n=e[1];return s=null,i.point(t,n),s||(a.point(t,n),s)}function p(){return e=o=null,h}return h.invert=function(e){var t=u.scale(),n=u.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.05346&&o<.0897&&r>=-.13388&&r<-.0322?l:u).invert(e)},h.stream=function(t){return e&&o===t?e:e=_([u.stream(o=t),l.stream(t)])},h.precision=function(e){return arguments.length?(u.precision(e),l.precision(e),p()):u.precision()},h.scale=function(e){return arguments.length?(u.scale(e),l.scale(e),h.translate(u.translate())):u.scale()},h.translate=function(e){if(!arguments.length)return u.translate();var t=u.scale(),n=+e[0],o=+e[1];return i=u.translate(e).clipExtent([[n-.06857*t,o-.1288*t],[n+.13249*t,o+.06*t]]).stream(c),a=l.translate([n+.1*t,o-.094*t]).clipExtent([[n-.1331*t+r,o+.053457*t+r],[n-.0354*t-r,o+.08969*t-r]]).stream(c),p()},h.fitExtent=function(e,t){return d(h,e,t)},h.fitSize=function(e,t){return f(h,e,t)},h.drawCompositionBorders=function(e){var t=u([-14.034675,34.965007]),n=u([-7.4208899,35.536988]),r=u([-7.3148275,33.54359]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1])},h.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},h.scale(2700)}function y(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function b(){var e,o,i,a,s,u,l=t.geoConicConformal().rotate([10,-39.3]).parallels([0,60]),c=t.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),h=t.geoConicConformal().rotate([27.8,-38.6]).parallels([0,60]),p={point:function(e,t){u=[e,t]}};function v(e){var t=e[0],n=e[1];return u=null,i.point(t,n),u||(a.point(t,n),u)||(s.point(t,n),u)}function g(){return e=o=null,v}return v.invert=function(e){var t=l.scale(),n=l.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.0093&&o<.03678&&r>=-.03875&&r<-.0116?c:o>=-.0412&&o<.0091&&r>=-.07782&&r<-.01166?h:l).invert(e)},v.stream=function(t){return e&&o===t?e:e=y([l.stream(o=t),c.stream(t),h.stream(t)])},v.precision=function(e){return arguments.length?(l.precision(e),c.precision(e),h.precision(e),g()):l.precision()},v.scale=function(e){return arguments.length?(l.scale(e),c.scale(e),h.scale(.6*e),v.translate(l.translate())):l.scale()},v.translate=function(e){if(!arguments.length)return l.translate();var t=l.scale(),n=+e[0],o=+e[1];return i=l.translate(e).clipExtent([[n-.0115*t,o-.1138*t],[n+.2105*t,o+.0673*t]]).stream(p),a=c.translate([n-.0265*t,o+.025*t]).clipExtent([[n-.0388*t+r,o+.0093*t+r],[n-.0116*t-r,o+.0368*t-r]]).stream(p),s=h.translate([n-.045*t,o+-.02*t]).clipExtent([[n-.0778*t+r,o-.0413*t+r],[n-.0117*t-r,o+.0091*t-r]]).stream(p),g()},v.fitExtent=function(e,t){return d(v,e,t)},v.fitSize=function(e,t){return f(v,e,t)},v.drawCompositionBorders=function(e){var t=l([-12.8351,38.7113]),n=l([-10.8482,38.7633]),r=l([-10.8181,37.2072]),o=l([-12.7345,37.1573]),i=l([-16.0753,41.4436]),a=l([-10.9168,41.6861]),s=l([-10.8557,38.7747]),u=l([-15.6728,38.5505]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),e.moveTo(i[0],i[1]),e.lineTo(a[0],a[1]),e.lineTo(s[0],s[1]),e.lineTo(s[0],s[1]),e.lineTo(u[0],u[1]),e.closePath()},v.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},v.scale(4200)}function x(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function w(){var e,o,i,a,s,u=t.geoMercator().rotate([80,1.5]),l=t.geoMercator().rotate([90.73,1]),c={point:function(e,t){s=[e,t]}};function h(e){var t=e[0],n=e[1];return s=null,i.point(t,n),s||(a.point(t,n),s)}function p(){return e=o=null,h}return h.invert=function(e){var t=u.scale(),n=u.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=-.0676&&o<-.026&&r>=-.0857&&r<-.0263?l:u).invert(e)},h.stream=function(t){return e&&o===t?e:e=x([u.stream(o=t),l.stream(t)])},h.precision=function(e){return arguments.length?(u.precision(e),l.precision(e),p()):u.precision()},h.scale=function(e){return arguments.length?(u.scale(e),l.scale(e),h.translate(u.translate())):u.scale()},h.translate=function(e){if(!arguments.length)return u.translate();var t=u.scale(),n=+e[0],o=+e[1];return i=u.translate(e).clipExtent([[n-.0262*t,o-.0734*t],[n+.1741*t,o+.079*t]]).stream(c),a=l.translate([n-.06*t,o-.04*t]).clipExtent([[n-.0857*t+r,o-.0676*t+r],[n-.0263*t-r,o-.026*t-r]]).stream(c),p()},h.fitExtent=function(e,t){return d(h,e,t)},h.fitSize=function(e,t){return f(h,e,t)},h.drawCompositionBorders=function(e){var t=u([-84.9032,2.3757]),n=u([-81.5047,2.3708]),r=u([-81.5063,-.01]),o=u([-84.9086,-.005]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath()},h.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},h.scale(3500)}function S(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function E(){var e,o,i,a,s,u,l,c=t.geoTransverseMercator().rotate([72,37]),h=t.geoStereographic().rotate([72,0]),p=t.geoMercator().rotate([80,33.5]),v=t.geoMercator().rotate([110,25]),g={point:function(e,t){l=[e,t]}};function _(e){var t=e[0],n=e[1];return l=null,i.point(t,n),l||(a.point(t,n),l)||(s.point(t,n),l)||(u.point(t,n),l)}function m(){return e=o=null,_}return _.invert=function(e){var t=c.scale(),n=c.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.2582&&o<.32&&r>=-.1036&&r<-.087?h:o>=-.01298&&o<.0133&&r>=-.11396&&r<-.05944?p:o>=.01539&&o<.03911&&r>=-.089&&r<-.0588?v:c).invert(e)},_.stream=function(t){return e&&o===t?e:e=S([c.stream(o=t),h.stream(t),p.stream(t),v.stream(t)])},_.precision=function(e){return arguments.length?(c.precision(e),h.precision(e),p.precision(e),v.precision(e),m()):c.precision()},_.scale=function(e){return arguments.length?(c.scale(e),h.scale(.15*e),p.scale(1.5*e),v.scale(1.5*e),_.translate(c.translate())):c.scale()},_.translate=function(e){if(!arguments.length)return c.translate();var t=c.scale(),n=+e[0],o=+e[1];return i=c.translate(e).clipExtent([[n-.059*t,o-.3835*t],[n+.4498*t,o+.3375*t]]).stream(g),a=h.translate([n-.087*t,o+.17*t]).clipExtent([[n-.1166*t+r,o+.2582*t+r],[n-.06*t-r,o+.32*t-r]]).stream(g),s=p.translate([n-.092*t,o-0*t]).clipExtent([[n-.114*t+r,o-.013*t+r],[n-.0594*t-r,o+.0133*t-r]]).stream(g),u=v.translate([n-.089*t,o-.0265*t]).clipExtent([[n-.089*t+r,o+.0154*t+r],[n-.0588*t-r,o+.0391*t-r]]).stream(g),m()},_.fitExtent=function(e,t){return d(_,e,t)},_.fitSize=function(e,t){return f(_,e,t)},_.drawCompositionBorders=function(e){var t=c([-82.6999,-51.3043]),n=c([-77.5442,-51.6631]),r=c([-78.0254,-55.186]),o=c([-83.6106,-54.7785]),i=c([-80.0638,-35.984]),a=c([-76.2153,-36.1811]),s=c([-76.2994,-37.6839]),u=c([-80.2231,-37.4757]),l=c([-78.442,-37.706]),d=c([-76.263,-37.8054]),f=c([-76.344,-39.1595]),h=c([-78.5638,-39.0559]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),e.moveTo(i[0],i[1]),e.lineTo(a[0],a[1]),e.lineTo(s[0],s[1]),e.lineTo(s[0],s[1]),e.lineTo(u[0],u[1]),e.closePath(),e.moveTo(l[0],l[1]),e.lineTo(d[0],d[1]),e.lineTo(f[0],f[1]),e.lineTo(f[0],f[1]),e.lineTo(h[0],h[1]),e.closePath()},_.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},_.scale(700)}function j(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function T(){var e,o,i,a,s,u,l=t.geoConicEquidistant().rotate([-136,-22]).parallels([40,34]),c=t.geoConicEquidistant().rotate([-146,-26]).parallels([40,34]),h=t.geoConicEquidistant().rotate([-126,-19]).parallels([40,34]),p={point:function(e,t){u=[e,t]}};function v(e){var t=e[0],n=e[1];return u=null,i.point(t,n),u||(a.point(t,n),u)||(s.point(t,n),u)}function g(){return e=o=null,v}return v.invert=function(e){var t=l.scale(),n=l.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=-.10925&&o<-.02701&&r>=-.135&&r<-.0397?c:o>=.04713&&o<.11138&&r>=-.03986&&r<.051?h:l).invert(e)},v.stream=function(t){return e&&o===t?e:e=j([l.stream(o=t),c.stream(t),h.stream(t)])},v.precision=function(e){return arguments.length?(l.precision(e),c.precision(e),h.precision(e),g()):l.precision()},v.scale=function(e){return arguments.length?(l.scale(e),c.scale(e),h.scale(.7*e),v.translate(l.translate())):l.scale()},v.translate=function(e){if(!arguments.length)return l.translate();var t=l.scale(),n=+e[0],o=+e[1];return i=l.translate(e).clipExtent([[n-.1352*t,o-.1091*t],[n+.117*t,o+.098*t]]).stream(p),a=c.translate([n-.0425*t,o-.005*t]).clipExtent([[n-.135*t+r,o-.1093*t+r],[n-.0397*t-r,o-.027*t-r]]).stream(p),s=h.translate(e).clipExtent([[n-.0399*t+r,o+.0471*t+r],[n+.051*t-r,o+.1114*t-r]]).stream(p),g()},v.fitExtent=function(e,t){return d(v,e,t)},v.fitSize=function(e,t){return f(v,e,t)},v.drawCompositionBorders=function(e){var t=l([126.01320483689143,41.621090310215585]),n=l([133.04304387025903,42.15087523707186]),r=l([133.3021766080688,37.43975444725098]),o=l([126.87889168628224,36.95488945159779]),i=l([132.9,29.8]),a=l([134,33]),s=l([139.3,33.2]),u=l([139.16,30.5]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),e.moveTo(i[0],i[1]),e.lineTo(a[0],a[1]),e.lineTo(s[0],s[1]),e.lineTo(u[0],u[1])},v.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},v.scale(2200)}function P(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function k(){var e,o,i,a,s,u,l,c,h,p,v,g,_,m,y,b=t.geoConicConformal().rotate([-3,-46.2]).parallels([0,60]),x=t.geoMercator().center([-53.2,3.9]),w=t.geoMercator().center([-61.03,14.67]),S=t.geoMercator().center([-61.46,16.14]),E=t.geoMercator().center([-62.85,17.92]),j=t.geoMercator().center([-56.23,46.93]),T=t.geoMercator().center([45.16,-12.8]),k=t.geoMercator().center([55.52,-21.13]),O=t.geoMercator().center([165.8,-21.07]),C=t.geoMercator().center([-178.1,-14.3]),A=t.geoMercator().center([-150.55,-17.11]),M=t.geoMercator().center([-150.55,-17.11]),R={point:function(e,t){y=[e,t]}};function L(e){var t=e[0],n=e[1];return y=null,i.point(t,n),y||(a.point(t,n),y)||(s.point(t,n),y)||(u.point(t,n),y)||(l.point(t,n),y)||(c.point(t,n),y)||(h.point(t,n),y)||(p.point(t,n),y)||(v.point(t,n),y)||(g.point(t,n),y)||(_.point(t,n),y)||(m.point(t,n),y)}function I(){return e=o=null,L}return L.invert=function(e){var t=b.scale(),n=b.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.029&&o<.0864&&r>=-.14&&r<-.0996?x:o>=0&&o<.029&&r>=-.14&&r<-.0996?w:o>=-.032&&o<0&&r>=-.14&&r<-.0996?S:o>=-.052&&o<-.032&&r>=-.14&&r<-.0996?E:o>=-.076&&o<.052&&r>=-.14&&r<-.0996?j:o>=-.076&&o<-.052&&r>=.0967&&r<.1371?T:o>=-.052&&o<-.02&&r>=.0967&&r<.1371?k:o>=-.02&&o<.012&&r>=.0967&&r<.1371?O:o>=.012&&o<.033&&r>=.0967&&r<.1371?C:o>=.033&&o<.0864&&r>=.0967&&r<.1371?A:b).invert(e)},L.stream=function(t){return e&&o===t?e:e=P([b.stream(o=t),x.stream(t),w.stream(t),S.stream(t),E.stream(t),j.stream(t),T.stream(t),k.stream(t),O.stream(t),C.stream(t),A.stream(t),M.stream(t)])},L.precision=function(e){return arguments.length?(b.precision(e),x.precision(e),w.precision(e),S.precision(e),E.precision(e),j.precision(e),T.precision(e),k.precision(e),O.precision(e),C.precision(e),A.precision(e),M.precision(e),I()):b.precision()},L.scale=function(e){return arguments.length?(b.scale(e),x.scale(.6*e),w.scale(1.6*e),S.scale(1.4*e),E.scale(5*e),j.scale(1.3*e),T.scale(1.6*e),k.scale(1.2*e),O.scale(.3*e),C.scale(2.7*e),A.scale(.5*e),M.scale(.06*e),L.translate(b.translate())):b.scale()},L.translate=function(e){if(!arguments.length)return b.translate();var t=b.scale(),n=+e[0],o=+e[1];return i=b.translate(e).clipExtent([[n-.0996*t,o-.0908*t],[n+.0967*t,o+.0864*t]]).stream(R),a=x.translate([n-.12*t,o+.0575*t]).clipExtent([[n-.14*t+r,o+.029*t+r],[n-.0996*t-r,o+.0864*t-r]]).stream(R),s=w.translate([n-.12*t,o+.013*t]).clipExtent([[n-.14*t+r,o+0*t+r],[n-.0996*t-r,o+.029*t-r]]).stream(R),u=S.translate([n-.12*t,o-.014*t]).clipExtent([[n-.14*t+r,o-.032*t+r],[n-.0996*t-r,o+0*t-r]]).stream(R),l=E.translate([n-.12*t,o-.044*t]).clipExtent([[n-.14*t+r,o-.052*t+r],[n-.0996*t-r,o-.032*t-r]]).stream(R),c=j.translate([n-.12*t,o-.065*t]).clipExtent([[n-.14*t+r,o-.076*t+r],[n-.0996*t-r,o-.052*t-r]]).stream(R),h=T.translate([n+.117*t,o-.064*t]).clipExtent([[n+.0967*t+r,o-.076*t+r],[n+.1371*t-r,o-.052*t-r]]).stream(R),p=k.translate([n+.116*t,o-.0355*t]).clipExtent([[n+.0967*t+r,o-.052*t+r],[n+.1371*t-r,o-.02*t-r]]).stream(R),v=O.translate([n+.116*t,o-.0048*t]).clipExtent([[n+.0967*t+r,o-.02*t+r],[n+.1371*t-r,o+.012*t-r]]).stream(R),g=C.translate([n+.116*t,o+.022*t]).clipExtent([[n+.0967*t+r,o+.012*t+r],[n+.1371*t-r,o+.033*t-r]]).stream(R),m=M.translate([n+.11*t,o+.045*t]).clipExtent([[n+.0967*t+r,o+.033*t+r],[n+.1371*t-r,o+.06*t-r]]).stream(R),_=A.translate([n+.115*t,o+.075*t]).clipExtent([[n+.0967*t+r,o+.06*t+r],[n+.1371*t-r,o+.0864*t-r]]).stream(R),I()},L.fitExtent=function(e,t){return d(L,e,t)},L.fitSize=function(e,t){return f(L,e,t)},L.drawCompositionBorders=function(e){var t,n,r,o;t=b([-7.938886725111036,43.7219460918835]),n=b([-4.832080896458295,44.12930268549372]),r=b([-4.205299743793263,40.98096346967365]),o=b([-7.071796453126152,40.610037319181444]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([-8.42751373617692,45.32889452553031]),n=b([-5.18599305777107,45.7566442062976]),r=b([-4.832080905154431,44.129302726751426]),o=b([-7.938886737126192,43.72194613263854]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([-9.012656899657046,47.127733821030176]),n=b([-5.6105244772793155,47.579777861410626]),r=b([-5.185993067168585,45.756644248170346]),o=b([-8.427513749141811,45.32889456686326]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([-9.405747558985553,48.26506375557457]),n=b([-5.896175018439575,48.733352850851624]),r=b([-5.610524487556043,47.57977790393761]),o=b([-9.012656913808351,47.127733862971255]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([-9.908436061346974,49.642448789505856]),n=b([-6.262026716233124,50.131426841787174]),r=b([-5.896175029331232,48.73335289377258]),o=b([-9.40574757396393,48.26506379787767]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([11.996907706504462,50.16039028163579]),n=b([15.649907879773343,49.68279246765253]),r=b([15.156712840526632,48.30371557625831]),o=b([11.64122661754411,48.761078240546816]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([11.641226606955788,48.7610781975889]),n=b([15.156712825832164,48.30371553390465]),r=b([14.549932166241172,46.4866532486199]),o=b([11.204443787952183,46.91899233914248]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([11.204443778297161,46.918992296823646]),n=b([14.549932152815039,46.486653206856396]),r=b([13.994409796764009,44.695833444323256]),o=b([10.805306599253848,45.105133870684924]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([10.805306590412085,45.10513382903308]),n=b([13.99440978444733,44.695833403183606]),r=b([13.654633799024392,43.53552468558152]),o=b([10.561516803980956,43.930671459798624]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([10.561516795617383,43.93067141859757]),n=b([13.654633787361952,43.5355246448671]),r=b([12.867691604239901,40.640701985019405]),o=b([9.997809515987688,41.00288343254471]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([10.8,42.4]),n=b([12.8,42.13]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1])},L.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},L.scale(2700)}function O(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function C(){var e,o,i,a,s,u,l,c,h,p,v,g,_,m,y,b=t.geoConicConformal().rotate([-10,-53]).parallels([0,60]),x=t.geoMercator().center([-61.46,16.14]),w=t.geoMercator().center([-53.2,3.9]),S=t.geoConicConformal().rotate([27.8,-38.9]).parallels([0,60]),E=t.geoConicConformal().rotate([25.43,-37.398]).parallels([0,60]),j=t.geoConicConformal().rotate([31.17,-39.539]).parallels([0,60]),T=t.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),P=t.geoConicConformal().rotate([16,-28.5]).parallels([0,60]),k=t.geoMercator().center([-61.03,14.67]),C=t.geoMercator().center([45.16,-12.8]),A=t.geoMercator().center([55.52,-21.13]),M=t.geoConicConformal().rotate([-14.4,-35.95]).parallels([0,60]),R={point:function(e,t){y=[e,t]}};function L(e){var t=e[0],n=e[1];return y=null,i.point(t,n),y||(s.point(t,n),y)||(v.point(t,n),y)||(a.point(t,n),y)||(p.point(t,n),y)||(h.point(t,n),y)||(g.point(t,n),y)||(_.point(t,n),y)||(m.point(t,n),y)||(u.point(t,n),y)||(l.point(t,n),y)||(c.point(t,n),y)}function I(){return e=o=null,L}return L.invert=function(e){var t=b.scale(),n=b.translate(),r=(e[0]-(n[0]+.08*t))/t,o=(e[1]-n[1])/t;return(o>=-.31&&o<-.24&&r>=.14&&r<.24?x:o>=-.24&&o<-.17&&r>=.14&&r<.24?w:o>=-.17&&o<-.12&&r>=.21&&r<.24?E:o>=-.17&&o<-.14&&r>=.14&&r<.165?j:o>=-.17&&o<-.1&&r>=.14&&r<.24?S:o>=-.1&&o<-.03&&r>=.14&&r<.24?T:o>=-.03&&o<.04&&r>=.14&&r<.24?P:o>=-.31&&o<-.24&&r>=.24&&r<.34?k:o>=-.24&&o<-.17&&r>=.24&&r<.34?C:o>=-.17&&o<-.1&&r>=.24&&r<.34?A:o>=-.1&&o<-.03&&r>=.24&&r<.34?M:b).invert(e)},L.stream=function(t){return e&&o===t?e:e=O([b.stream(o=t),w.stream(t),k.stream(t),x.stream(t),P.stream(t),T.stream(t),C.stream(t),A.stream(t),M.stream(t),S.stream(t),E.stream(t),j.stream(t)])},L.precision=function(e){return arguments.length?(b.precision(e),w.precision(e),k.precision(e),x.precision(e),P.precision(e),T.precision(e),C.precision(e),A.precision(e),M.precision(e),S.precision(e),E.precision(e),j.precision(e),I()):b.precision()},L.scale=function(e){return arguments.length?(b.scale(e),x.scale(3*e),w.scale(.8*e),k.scale(3.5*e),A.scale(2.7*e),S.scale(2*e),E.scale(2*e),j.scale(2*e),T.scale(3*e),P.scale(e),C.scale(5.5*e),M.scale(6*e),L.translate(b.translate())):b.scale()},L.translate=function(e){if(!arguments.length)return b.translate();var t=b.scale(),n=+e[0],o=+e[1];return i=b.translate([n-.08*t,o]).clipExtent([[n-.51*t,o-.33*t],[n+.5*t,o+.33*t]]).stream(R),a=x.translate([n+.19*t,o-.275*t]).clipExtent([[n+.14*t+r,o-.31*t+r],[n+.24*t-r,o-.24*t-r]]).stream(R),s=w.translate([n+.19*t,o-.205*t]).clipExtent([[n+.14*t+r,o-.24*t+r],[n+.24*t-r,o-.17*t-r]]).stream(R),u=S.translate([n+.19*t,o-.135*t]).clipExtent([[n+.14*t+r,o-.17*t+r],[n+.24*t-r,o-.1*t-r]]).stream(R),l=E.translate([n+.225*t,o-.147*t]).clipExtent([[n+.21*t+r,o-.17*t+r],[n+.24*t-r,o-.12*t-r]]).stream(R),c=j.translate([n+.153*t,o-.15*t]).clipExtent([[n+.14*t+r,o-.17*t+r],[n+.165*t-r,o-.14*t-r]]).stream(R),h=T.translate([n+.19*t,o-.065*t]).clipExtent([[n+.14*t+r,o-.1*t+r],[n+.24*t-r,o-.03*t-r]]).stream(R),p=P.translate([n+.19*t,o+.005*t]).clipExtent([[n+.14*t+r,o-.03*t+r],[n+.24*t-r,o+.04*t-r]]).stream(R),v=k.translate([n+.29*t,o-.275*t]).clipExtent([[n+.24*t+r,o-.31*t+r],[n+.34*t-r,o-.24*t-r]]).stream(R),g=C.translate([n+.29*t,o-.205*t]).clipExtent([[n+.24*t+r,o-.24*t+r],[n+.34*t-r,o-.17*t-r]]).stream(R),_=A.translate([n+.29*t,o-.135*t]).clipExtent([[n+.24*t+r,o-.17*t+r],[n+.34*t-r,o-.1*t-r]]).stream(R),m=M.translate([n+.29*t,o-.065*t]).clipExtent([[n+.24*t+r,o-.1*t+r],[n+.34*t-r,o-.03*t-r]]).stream(R),I()},L.fitExtent=function(e,t){return d(L,e,t)},L.fitSize=function(e,t){return f(L,e,t)},L.drawCompositionBorders=function(e){var t,n,r,o;t=b([42.45755610828648,63.343658547914934]),n=b([52.65837266667029,59.35045080290929]),r=b([47.19754502247785,56.12653496548117]),o=b([37.673034273363044,59.61638268506111]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([59.41110754003403,62.35069727399336]),n=b([66.75050228640794,57.11797303636038]),r=b([60.236065725110436,54.63331433818992]),o=b([52.65837313153311,59.350450804599355]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([48.81091130080243,66.93353402634641]),n=b([59.41110730654679,62.35069740653086]),r=b([52.6583728974441,59.3504509222445]),o=b([42.45755631675751,63.34365868805821]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([31.054198418446475,52.1080673766184]),n=b([39.09869284884117,49.400700047190554]),r=b([36.0580811499175,46.02944174908498]),o=b([28.690508588835726,48.433126979386415]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([33.977877745912025,55.849945501331]),n=b([42.75328432167726,52.78455122462353]),r=b([39.09869297540224,49.400700176148625]),o=b([31.05419851807008,52.10806751810923]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([52.658372900759296,59.35045068526415]),n=b([60.23606549583304,54.63331423800264]),r=b([54.6756370953122,51.892298789399455]),o=b([47.19754524788189,56.126534861222794]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([47.19754506082455,56.126534735591456]),n=b([54.675636900123514,51.892298681337095]),r=b([49.94448648951486,48.98775484983285]),o=b([42.75328468716108,52.78455126060818]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([42.75328453416769,52.78455113209101]),n=b([49.94448632339758,48.98775473706457]),r=b([45.912339990394315,45.99361784987003]),o=b([39.09869317356607,49.40070009378711]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([37.673034114296634,59.61638254183119]),n=b([47.197544835420544,56.126534839849846]),r=b([42.75328447467064,52.78455135314068]),o=b([33.977877870363905,55.849945644671145]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([44.56748486446032,57.26489367845818]),r=b([43.9335791193588,53.746540942601726]),o=b([43,56]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=b([37.673034114296634,59.61638254183119]),n=b([40.25902691953466,58.83002044222639]),r=b([38.458270492742024,57.26232178028002]),o=b([35.97754948030156,58.00266637992386]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath()},L.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},L.scale(750)}function A(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function M(){var e,o,i,a,s,u=t.geoMercator().center([105.25,4]),l=t.geoMercator().center([118.65,2.86]),c={point:function(e,t){s=[e,t]}};function h(e){var t=e[0],n=e[1];return s=null,i.point(t,n),s||(a.point(t,n),s)}function p(){return e=o=null,h}return h.invert=function(e){var t=u.scale(),n=u.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=-.0521&&o<.0229&&r>=-.0111&&r<.1?l:u).invert(e)},h.stream=function(t){return e&&o===t?e:e=A([u.stream(o=t),l.stream(t)])},h.precision=function(e){return arguments.length?(u.precision(e),l.precision(e),p()):u.precision()},h.scale=function(e){return arguments.length?(u.scale(e),l.scale(.615*e),h.translate(u.translate())):u.scale()},h.translate=function(e){if(!arguments.length)return u.translate();var t=u.scale(),n=+e[0],o=+e[1];return i=u.translate(e).clipExtent([[n-.11*t,o-.0521*t],[n-.0111*t,o+.0521*t]]).stream(c),a=l.translate([n+.09*t,o-0*t]).clipExtent([[n-.0111*t+r,o-.0521*t+r],[n+.1*t-r,o+.024*t-r]]).stream(c),p()},h.fitExtent=function(e,t){return d(h,e,t)},h.fitSize=function(e,t){return f(h,e,t)},h.drawCompositionBorders=function(e){var t=u([106.3214,2.0228]),n=u([105.1843,2.3761]),r=u([104.2151,3.3618]),o=u([104.215,4.5651]);e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1])},h.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},h.scale(4800)}function R(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function L(){var e,o,i,a,s,u,l=t.geoMercator().rotate([-9.5,-1.5]),c=t.geoMercator().rotate([-8.6,-3.5]),h=t.geoMercator().rotate([-5.6,1.45]),p={point:function(e,t){u=[e,t]}};function v(e){var t=e[0],n=e[1];return u=null,i.point(t,n),u||(a.point(t,n),u)||(s.point(t,n),u)}function g(){return e=o=null,v}return v.invert=function(e){var t=l.scale(),n=l.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=-.02&&o<0&&r>=-.038&&r<-.005?c:o>=0&&o<.02&&r>=-.038&&r<-.005?h:l).invert(e)},v.stream=function(t){return e&&o===t?e:e=R([l.stream(o=t),c.stream(t),h.stream(t)])},v.precision=function(e){return arguments.length?(l.precision(e),c.precision(e),h.precision(e),g()):l.precision()},v.scale=function(e){return arguments.length?(l.scale(e),c.scale(1.5*e),h.scale(4*e),v.translate(l.translate())):l.scale()},v.translate=function(e){if(!arguments.length)return l.translate();var t=l.scale(),n=+e[0],o=+e[1];return i=l.translate(e).clipExtent([[n-.005*t,o-.02*t],[n+.038*t,o+.02*t]]).stream(p),a=c.translate([n-.025*t,o-.01*t]).clipExtent([[n-.038*t+r,o-.02*t+r],[n-.005*t-r,o+0*t-r]]).stream(p),s=h.translate([n-.025*t,o+.01*t]).clipExtent([[n-.038*t+r,o-0*t+r],[n-.005*t-r,o+.02*t-r]]).stream(p),g()},v.fitExtent=function(e,t){return d(v,e,t)},v.fitSize=function(e,t){return f(v,e,t)},v.drawCompositionBorders=function(e){var t,n,r,o;t=l([9.21327272751682,2.645820439454123]),n=l([11.679126293239872,2.644755519268689]),r=l([11.676845389029227,.35307824637606433]),o=l([9.213572917774014,.35414205204417754]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=l([7.320873711543669,2.64475551449975]),n=l([9.213272722738658,2.645820434679803]),r=l([9.213422896480349,1.4999812505283054]),o=l([7.322014760520787,1.4989168878985566]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath(),t=l([7.3220147605302905,1.4989168783492766]),n=l([9.213422896481598,1.499981240979021]),r=l([9.213572912999604,.354142056817247]),o=l([7.323154615739809,.353078251154504]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath()},v.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},v.scale(12e3)}function I(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function N(){var e,o,i,a,s,u=t.geoAlbers().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),l=t.geoAlbers().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),c={point:function(e,t){s=[e,t]}};function h(e){var t=e[0],n=e[1];return s=null,i.point(t,n),s||(a.point(t,n),s)}function p(){return e=o=null,h}return h.invert=function(e){var t=u.scale(),n=u.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=-.089&&o<.06&&r>=.029&&r<.046?l:u).invert(e)},h.stream=function(t){return e&&o===t?e:e=I([u.stream(o=t),l.stream(t)])},h.precision=function(e){return arguments.length?(u.precision(e),l.precision(e),p()):u.precision()},h.scale=function(e){return arguments.length?(u.scale(e),l.scale(e),h.translate(u.translate())):u.scale()},h.translate=function(e){if(!arguments.length)return u.translate();var t=u.scale(),n=+e[0],o=+e[1];return i=u.translate(e).clipExtent([[n-.065*t,o-.089*t],[n+.075*t,o+.089*t]]).stream(c),a=l.translate([n+.01*t,o+.025*t]).clipExtent([[n+.029*t+r,o-.089*t+r],[n+.046*t-r,o-.06*t-r]]).stream(c),p()},h.fitExtent=function(e,t){return d(h,e,t)},h.fitSize=function(e,t){return f(h,e,t)},h.drawCompositionBorders=function(e){var t,n,r,o;t=u([-1.113205870242365,59.64920050773357]),n=u([.807899092399606,59.59085836472269]),r=u([.5778611961420386,57.93467822832577]),o=u([-1.25867782078448,57.99029450085142]),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.lineTo(r[0],r[1]),e.lineTo(o[0],o[1]),e.closePath()},h.getCompositionBorders=function(){var e=n.path();return this.drawCompositionBorders(e),e.toString()},h.scale(2800)}e.geoAlbersUk=N,e.geoAlbersUsa=p,e.geoAlbersUsaTerritories=g,e.geoConicConformalEurope=C,e.geoConicConformalFrance=k,e.geoConicConformalPortugal=b,e.geoConicConformalSpain=m,e.geoConicEquidistantJapan=T,e.geoMercatorEcuador=w,e.geoMercatorEquatorialGuinea=L,e.geoMercatorMalaysia=M,e.geoTransverseMercatorChile=E,Object.defineProperty(e,"__esModule",{value:!0})}))},"./node_modules/_d3-dsv@1.2.0@d3-dsv/dist/d3-dsv.js":function(e,t,n){(function(e,n){n(t)})(0,(function(e){"use strict";var t={},n={},r=34,o=10,i=13;function a(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function s(e,t){var n=a(e);return function(r,o){return t(n(r),o,e)}}function u(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function l(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function c(e){return e<0?"-"+l(-e,6):e>9999?"+"+l(e,6):l(e,4)}function d(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":c(e.getUTCFullYear())+"-"+l(e.getUTCMonth()+1,2)+"-"+l(e.getUTCDate(),2)+(o?"T"+l(t,2)+":"+l(n,2)+":"+l(r,2)+"."+l(o,3)+"Z":r?"T"+l(t,2)+":"+l(n,2)+":"+l(r,2)+"Z":n||t?"T"+l(t,2)+":"+l(n,2)+"Z":"")}function f(e){var l=new RegExp('["'+e+"\n\r]"),c=e.charCodeAt(0);function f(e,t){var n,r,o=h(e,(function(e,o){if(n)return n(e,o-1);r=e,n=t?s(e,t):a(e)}));return o.columns=r||[],o}function h(e,a){var s,u=[],l=e.length,d=0,f=0,h=l<=0,p=!1;function v(){if(h)return n;if(p)return p=!1,t;var a,s,u=d;if(e.charCodeAt(u)===r){while(d++<l&&e.charCodeAt(d)!==r||e.charCodeAt(++d)===r);return(a=d)>=l?h=!0:(s=e.charCodeAt(d++))===o?p=!0:s===i&&(p=!0,e.charCodeAt(d)===o&&++d),e.slice(u+1,a-1).replace(/""/g,'"')}while(d<l){if((s=e.charCodeAt(a=d++))===o)p=!0;else if(s===i)p=!0,e.charCodeAt(d)===o&&++d;else if(s!==c)continue;return e.slice(u,a)}return h=!0,e.slice(u,l)}e.charCodeAt(l-1)===o&&--l,e.charCodeAt(l-1)===i&&--l;while((s=v())!==n){var g=[];while(s!==t&&s!==n)g.push(s),s=v();a&&null==(g=a(g,f++))||u.push(g)}return u}function p(t,n){return t.map((function(t){return n.map((function(e){return y(t[e])})).join(e)}))}function v(t,n){return null==n&&(n=u(t)),[n.map(y).join(e)].concat(p(t,n)).join("\n")}function g(e,t){return null==t&&(t=u(e)),p(e,t).join("\n")}function _(e){return e.map(m).join("\n")}function m(t){return t.map(y).join(e)}function y(e){return null==e?"":e instanceof Date?d(e):l.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:f,parseRows:h,format:v,formatBody:g,formatRows:_,formatRow:m,formatValue:y}}var h=f(","),p=h.parse,v=h.parseRows,g=h.format,_=h.formatBody,m=h.formatRows,y=h.formatRow,b=h.formatValue,x=f("\t"),w=x.parse,S=x.parseRows,E=x.format,j=x.formatBody,T=x.formatRows,P=x.formatRow,k=x.formatValue;function O(e){for(var t in e){var n,r,o=e[t].trim();if(o)if("true"===o)o=!0;else if("false"===o)o=!1;else if("NaN"===o)o=NaN;else if(isNaN(n=+o)){if(!(r=o.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;C&&r[4]&&!r[7]&&(o=o.replace(/-/g,"/").replace(/T/," ")),o=new Date(o)}else o=n;else o=null;e[t]=o}return e}var C=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();e.autoType=O,e.csvFormat=g,e.csvFormatBody=_,e.csvFormatRow=y,e.csvFormatRows=m,e.csvFormatValue=b,e.csvParse=p,e.csvParseRows=v,e.dsvFormat=f,e.tsvFormat=E,e.tsvFormatBody=j,e.tsvFormatRow=P,e.tsvFormatRows=T,e.tsvFormatValue=k,e.tsvParse=w,e.tsvParseRows=S,Object.defineProperty(e,"__esModule",{value:!0})}))},"./node_modules/_d3-geo-projection@2.1.2@d3-geo-projection/build/d3-geo-projection.js":function(e,t,n){(function(e,r){r(t,n("./node_modules/_d3-geo@1.11.9@d3-geo/dist/d3-geo.js"),n("./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js"))})(0,(function(e,t,n){"use strict";var r=Math.abs,o=Math.atan,i=Math.atan2,a=Math.cos,s=Math.exp,u=Math.floor,l=Math.log,c=Math.max,d=Math.min,f=Math.pow,h=Math.round,p=Math.sign||function(e){return e>0?1:e<0?-1:0},v=Math.sin,g=Math.tan,_=1e-6,m=1e-12,y=Math.PI,b=y/2,x=y/4,w=Math.SQRT1_2,S=A(2),E=A(y),j=2*y,T=180/y,P=y/180;function k(e){return e?e/Math.sin(e):1}function O(e){return e>1?b:e<-1?-b:Math.asin(e)}function C(e){return e>1?0:e<-1?y:Math.acos(e)}function A(e){return e>0?Math.sqrt(e):0}function M(e){return e=s(2*e),(e-1)/(e+1)}function R(e){return(s(e)-s(-e))/2}function L(e){return(s(e)+s(-e))/2}function I(e){return l(e+A(e*e+1))}function N(e){return l(e+A(e*e-1))}function D(e){var t=g(e/2),n=2*l(a(e/2))/(t*t);function o(e,t){var r=a(e),o=a(t),i=v(t),s=o*r,u=-((1-s?l((1+s)/2)/(1-s):-.5)+n/(1+s));return[u*o*v(e),u*i]}return o.invert=function(t,o){var s,u=A(t*t+o*o),c=-e/2,d=50;if(!u)return[0,0];do{var f=c/2,h=a(f),p=v(f),m=g(f),y=l(1/h);c-=s=(2/m*y-n*m-u)/(-y/(p*p)+1-n/(2*h*h))}while(r(s)>_&&--d>0);var b=v(c);return[i(t*b,u*a(c)),O(o*b/u)]},o}var z=function(){var e=b,n=t.geoProjectionMutator(D),r=n(e);return r.radius=function(t){return arguments.length?n(e=t*P):e*T},r.scale(179.976).clipAngle(147)};function F(e,t){var n=a(t),r=k(C(n*a(e/=2)));return[2*n*v(e)*r,v(t)*r]}F.invert=function(e,t){if(!(e*e+4*t*t>y*y+_)){var n=e,o=t,i=25;do{var s,u=v(n),l=v(n/2),c=a(n/2),d=v(o),f=a(o),h=v(2*o),p=d*d,g=f*f,m=l*l,b=1-g*c*c,x=b?C(f*c)*A(s=1/b):s=0,w=2*x*f*l-e,S=x*d-t,E=s*(g*m+x*f*c*p),j=s*(.5*u*h-2*x*d*l),T=.25*s*(h*l-x*d*g*u),P=s*(p*c+x*m*f),k=j*T-P*E;if(!k)break;var O=(S*j-w*P)/k,M=(w*T-S*E)/k;n-=O,o-=M}while((r(O)>_||r(M)>_)&&--i>0);return[n,o]}};var B=function(){return t.geoProjection(F).scale(152.63)};function U(e){var t=v(e),n=a(e),o=e>=0?1:-1,s=g(o*e),u=(1+t-n)/2;function l(e,r){var l=a(r),c=a(e/=2);return[(1+l)*v(e),(o*r>-i(c,s)-.001?0:10*-o)+u+v(r)*n-(1+l)*t*c]}return l.invert=function(e,l){var c=0,d=0,f=50;do{var h=a(c),p=v(c),g=a(d),m=v(d),y=1+g,b=y*p-e,x=u+m*n-y*t*h-l,w=y*h/2,S=-p*m,E=t*y*p/2,j=n*g+t*h*m,T=S*E-j*w,P=(x*S-b*j)/T/2,k=(b*E-x*w)/T;c-=P,d-=k}while((r(P)>_||r(k)>_)&&--f>0);return o*d>-i(a(c),s)-.001?[2*c,d]:null},l}var H=function(){var e=20*P,n=e>=0?1:-1,r=g(n*e),o=t.geoProjectionMutator(U),s=o(e),u=s.stream;return s.parallel=function(t){return arguments.length?(r=g((n=(e=t*P)>=0?1:-1)*e),o(e)):e*T},s.stream=function(t){var o=s.rotate(),l=u(t),c=(s.rotate([0,0]),u(t));return s.rotate(o),l.sphere=function(){c.polygonStart(),c.lineStart();for(var t=-180*n;n*t<180;t+=90*n)c.point(t,90*n);while(n*(t-=e)>=-180)c.point(t,n*-i(a(t*P/2),r)*T);c.lineEnd(),c.polygonEnd()},l},s.scale(218.695).center([0,28.0974])};function V(e,t){var n=g(t/2),r=A(1-n*n),o=1+r*a(e/=2),i=v(e)*r/o,s=n/o,u=i*i,l=s*s;return[4/3*i*(3+u-3*l),4/3*s*(3+3*u-l)]}V.invert=function(e,t){if(e*=3/8,t*=3/8,!e&&r(t)>1)return null;var n=e*e,o=t*t,s=1+n+o,u=A((s-A(s*s-4*t*t))/2),l=O(u)/3,c=u?N(r(t/u))/3:I(r(e))/3,d=a(l),f=L(c),h=f*f-d*d;return[2*p(e)*i(R(c)*d,.25-h),2*p(t)*i(f*v(l),.25+h)]};var G=function(){return t.geoProjection(V).scale(66.1603)},q=A(8),X=l(1+S);function Y(e,t){var n=r(t);return n<x?[e,l(g(x+t/2))]:[e*a(n)*(2*S-1/v(n)),p(t)*(2*S*(n-x)-l(g(n/2)))]}Y.invert=function(e,t){if((i=r(t))<X)return[e,2*o(s(t))-b];var n,i,u=x,c=25;do{var d=a(u/2),f=g(u/2);u-=n=(q*(u-x)-l(f)-i)/(q-d*d/(2*f))}while(r(n)>m&&--c>0);return[e/(a(u)*(q-1/v(u))),p(t)*u]};var W=function(){return t.geoProjection(Y).scale(112.314)};function Z(e){var n=2*y/e;function s(e,o){var s=t.geoAzimuthalEquidistantRaw(e,o);if(r(e)>b){var u=i(s[1],s[0]),l=A(s[0]*s[0]+s[1]*s[1]),c=n*h((u-b)/n)+b,d=i(v(u-=c),2-a(u));u=c+O(y/l*v(d))-d,s[0]=l*a(u),s[1]=l*v(u)}return s}return s.invert=function(e,r){var s=A(e*e+r*r);if(s>b){var u=i(r,e),l=n*h((u-b)/n)+b,c=u>l?-1:1,d=s*a(l-u),f=1/g(c*C((d-y)/A(y*(y-2*d)+s*s)));u=l+2*o((f+c*A(f*f-3))/3),e=s*a(u),r=s*v(u)}return t.geoAzimuthalEquidistantRaw.invert(e,r)},s}var K=function(){var e=5,n=t.geoProjectionMutator(Z),r=n(e),o=r.stream,s=.01,u=-a(s*P),l=v(s*P);return r.lobes=function(t){return arguments.length?n(e=+t):e},r.stream=function(t){var n=r.rotate(),c=o(t),d=(r.rotate([0,0]),o(t));return r.rotate(n),c.sphere=function(){d.polygonStart(),d.lineStart();for(var t=0,n=360/e,r=2*y/e,o=90-180/e,c=b;t<e;++t,o-=n,c-=r)d.point(i(l*a(c),u)*T,O(l*v(c))*T),o<-90?(d.point(-90,-180-o-s),d.point(-90,-180-o+s)):(d.point(90,o+s),d.point(90,o-s));d.lineEnd(),d.polygonEnd()},c},r.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};function Q(e,t){var n,o=e*v(t),i=30;do{t-=n=(t+v(t)-o)/(1+a(t))}while(r(n)>_&&--i>0);return t/2}function J(e,t,n){function r(r,o){return[e*r*a(o=Q(n,o)),t*v(o)]}return r.invert=function(r,o){return o=O(o/t),[r/(e*a(o)),O((2*o+v(2*o))/n)]},r}var $=J(S/b,S,y),ee=function(){return t.geoProjection($).scale(169.529)},te=2.00276,ne=1.11072;function re(e,t){var n=Q(y,t);return[te*e/(1/a(t)+ne/a(n)),(t+S*v(n))/te]}re.invert=function(e,t){var n,o,i=te*t,s=t<0?-x:x,u=25;do{o=i-S*v(s),s-=n=(v(2*s)+2*s-y*v(o))/(2*a(2*s)+2+y*a(o)*S*a(s))}while(r(n)>_&&--u>0);return o=i-S*v(s),[e*(1/a(o)+ne/a(s))/te,o]};var oe=function(){return t.geoProjection(re).scale(160.857)},ie=function(e){var n=0,r=t.geoProjectionMutator(e),o=r(n);return o.parallel=function(e){return arguments.length?r(n=e*P):n*T},o};function ae(e,t){return[e*a(t),t]}ae.invert=function(e,t){return[e/a(t),t]};var se=function(){return t.geoProjection(ae).scale(152.63)};function ue(e){if(!e)return ae;var t=1/g(e);function n(n,r){var o=t+e-r,i=o?n*a(r)/o:o;return[o*v(i),t-o*a(i)]}return n.invert=function(n,r){var o=A(n*n+(r=t-r)*r),s=t+e-o;return[o/a(s)*i(n,r),s]},n}var le=function(){return ie(ue).scale(123.082).center([0,26.1441]).parallel(45)};function ce(e){function t(t,n){var r=b-n,o=r?t*e*v(r)/r:r;return[r*v(o)/e,b-r*a(o)]}return t.invert=function(t,n){var r=t*e,o=b-n,a=A(r*r+o*o),s=i(r,o);return[(a?a/v(a):1)*s/e,b-a]},t}var de=function(){var e=.5,n=t.geoProjectionMutator(ce),r=n(e);return r.fraction=function(t){return arguments.length?n(e=+t):e},r.scale(158.837)},fe=J(1,4/y,y),he=function(){return t.geoProjection(fe).scale(152.63)};function pe(e,t,n,o,s,u){var l,c=a(u);if(r(e)>1||r(u)>1)l=C(n*s+t*o*c);else{var d=v(e/2),f=v(u/2);l=2*O(A(d*d+t*o*f*f))}return r(l)>_?[l,i(o*v(u),t*s-n*o*c)]:[0,0]}function ve(e,t,n){return C((e*e+t*t-n*n)/(2*e*t))}function ge(e){return e-2*y*u((e+y)/(2*y))}function _e(e,t,n){for(var r,o=[[e[0],e[1],v(e[1]),a(e[1])],[t[0],t[1],v(t[1]),a(t[1])],[n[0],n[1],v(n[1]),a(n[1])]],i=o[2],s=0;s<3;++s,i=r)r=o[s],i.v=pe(r[1]-i[1],i[3],i[2],r[3],r[2],r[0]-i[0]),i.point=[0,0];var u=ve(o[0].v[0],o[2].v[0],o[1].v[0]),l=ve(o[0].v[0],o[1].v[0],o[2].v[0]),c=y-u;o[2].point[1]=0,o[0].point[0]=-(o[1].point[0]=o[0].v[0]/2);var d=[o[2].point[0]=o[0].point[0]+o[2].v[0]*a(u),2*(o[0].point[1]=o[1].point[1]=o[2].v[0]*v(u))];function f(e,t){var n,r=v(t),i=a(t),s=new Array(3);for(n=0;n<3;++n){var u=o[n];if(s[n]=pe(t-u[1],u[3],u[2],i,r,e-u[0]),!s[n][0])return u.point;s[n][1]=ge(s[n][1]-u.v[1])}var f=d.slice();for(n=0;n<3;++n){var h=2==n?0:n+1,p=ve(o[n].v[0],s[n][0],s[h][0]);s[n][1]<0&&(p=-p),n?1==n?(p=l-p,f[0]-=s[n][0]*a(p),f[1]-=s[n][0]*v(p)):(p=c-p,f[0]+=s[n][0]*a(p),f[1]+=s[n][0]*v(p)):(f[0]+=s[n][0]*a(p),f[1]-=s[n][0]*v(p))}return f[0]/=3,f[1]/=3,f}return f}function me(e){return e[0]*=P,e[1]*=P,e}function ye(){return be([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function be(e,n,r){var o=t.geoCentroid({type:"MultiPoint",coordinates:[e,n,r]}),i=[-o[0],-o[1]],a=t.geoRotation(i),s=t.geoProjection(_e(me(a(e)),me(a(n)),me(a(r)))).rotate(i),u=s.center;return delete s.rotate,s.center=function(e){return arguments.length?u(a(e)):a.invert(u())},s.clipAngle(90)}function xe(e,t){var n=A(1-v(t));return[2/E*e*n,E*(1-n)]}xe.invert=function(e,t){var n=(n=t/E-1)*n;return[n>0?e*A(y/n)/2:0,O(1-n)]};var we=function(){return t.geoProjection(xe).scale(95.6464).center([0,30])};function Se(e){var t=g(e);function n(e,n){return[e,(e?e/v(e):1)*(v(n)*a(e)-t*a(n))]}return n.invert=t?function(e,n){e&&(n*=v(e)/e);var r=a(e);return[e,2*i(A(r*r+t*t-n*n)-r,t-n)]}:function(e,t){return[e,O(e?t*g(e)/e:t)]},n}var Ee=function(){return ie(Se).scale(249.828).clipAngle(90)},je=A(3);function Te(e,t){return[je*e*(2*a(2*t/3)-1)/E,je*E*v(t/3)]}Te.invert=function(e,t){var n=3*O(t/(je*E));return[E*e/(je*(2*a(2*n/3)-1)),n]};var Pe=function(){return t.geoProjection(Te).scale(156.19)};function ke(e){var t=a(e);function n(e,n){return[e*t,v(n)/t]}return n.invert=function(e,n){return[e/t,O(n*t)]},n}var Oe=function(){return ie(ke).parallel(38.58).scale(195.044)};function Ce(e){var t=a(e);function n(e,n){return[e*t,(1+t)*g(n/2)]}return n.invert=function(e,n){return[e/t,2*o(n/(1+t))]},n}var Ae=function(){return ie(Ce).scale(124.75)};function Me(e,t){var n=A(8/(3*y));return[n*e*(1-r(t)/y),n*t]}Me.invert=function(e,t){var n=A(8/(3*y)),o=t/n;return[e/(n*(1-r(o)/y)),o]};var Re=function(){return t.geoProjection(Me).scale(165.664)};function Le(e,t){var n=A(4-3*v(r(t)));return[2/A(6*y)*e*n,p(t)*A(2*y/3)*(2-n)]}Le.invert=function(e,t){var n=2-r(t)/A(2*y/3);return[e*A(6*y)/(2*n),p(t)*O((4-n*n)/3)]};var Ie=function(){return t.geoProjection(Le).scale(165.664)};function Ne(e,t){var n=A(y*(4+y));return[2/n*e*(1+A(1-4*t*t/(y*y))),4/n*t]}Ne.invert=function(e,t){var n=A(y*(4+y))/2;return[e*n/(1+A(1-t*t*(4+y)/(4*y))),t*n/2]};var De=function(){return t.geoProjection(Ne).scale(180.739)};function ze(e,t){var n=(2+b)*v(t);t/=2;for(var o=0,i=1/0;o<10&&r(i)>_;o++){var s=a(t);t-=i=(t+v(t)*(s+2)-n)/(2*s*(1+s))}return[2/A(y*(4+y))*e*(1+a(t)),2*A(y/(4+y))*v(t)]}ze.invert=function(e,t){var n=t*A((4+y)/y)/2,r=O(n),o=a(r);return[e/(2/A(y*(4+y))*(1+o)),O((r+n*(o+2))/(2+b))]};var Fe=function(){return t.geoProjection(ze).scale(180.739)};function Be(e,t){return[e*(1+a(t))/A(2+y),2*t/A(2+y)]}Be.invert=function(e,t){var n=A(2+y),r=t*n/2;return[n*e/(1+a(r)),r]};var Ue=function(){return t.geoProjection(Be).scale(173.044)};function He(e,t){for(var n=(1+b)*v(t),o=0,i=1/0;o<10&&r(i)>_;o++)t-=i=(t+v(t)-n)/(1+a(t));return n=A(2+y),[e*(1+a(t))/n,2*t/n]}He.invert=function(e,t){var n=1+b,r=A(n/2);return[2*e*r/(1+a(t*=r)),O((t+v(t))/n)]};var Ve=function(){return t.geoProjection(He).scale(173.044)},Ge=3+2*S;function qe(e,t){var n=v(e/=2),r=a(e),i=A(a(t)),s=a(t/=2),u=v(t)/(s+S*r*i),c=A(2/(1+u*u)),d=A((S*s+(r+n)*i)/(S*s+(r-n)*i));return[Ge*(c*(d-1/d)-2*l(d)),Ge*(c*u*(d+1/d)-2*o(u))]}qe.invert=function(e,t){if(!(n=V.invert(e/1.2,1.065*t)))return null;var n,i=n[0],s=n[1],u=20;e/=Ge,t/=Ge;do{var f=i/2,h=s/2,p=v(f),g=a(f),m=v(h),y=a(h),x=a(s),E=A(x),j=m/(y+S*g*E),T=j*j,P=A(2/(1+T)),k=S*y+(g+p)*E,O=S*y+(g-p)*E,C=k/O,M=A(C),R=M-1/M,L=M+1/M,I=P*R-2*l(M)-e,N=P*j*L-2*o(j)-t,D=m&&w*E*p*T/m,z=(S*g*y+E)/(2*(y+S*g*E)*(y+S*g*E)*E),F=-.5*j*P*P*P,B=F*D,U=F*z,H=(H=2*y+S*E*(g-p))*H*M,G=(S*g*y*E+x)/H,q=-S*p*m/(E*H),X=R*B-2*G/M+P*(G+G/C),Y=R*U-2*q/M+P*(q+q/C),W=j*L*B-2*D/(1+T)+P*L*D+P*j*(G-G/C),Z=j*L*U-2*z/(1+T)+P*L*z+P*j*(q-q/C),K=Y*W-Z*X;if(!K)break;var Q=(N*Y-I*Z)/K,J=(I*W-N*X)/K;i-=Q,s=c(-b,d(b,s-J))}while((r(Q)>_||r(J)>_)&&--u>0);return r(r(s)-b)<_?[0,s]:u&&[i,s]};var Xe=function(){return t.geoProjection(qe).scale(62.5271)},Ye=a(35*P);function We(e,t){var n=g(t/2);return[e*Ye*A(1-n*n),(1+Ye)*n]}We.invert=function(e,t){var n=t/(1+Ye);return[e&&e/(Ye*A(1-n*n)),2*o(n)]};var Ze=function(){return t.geoProjection(We).scale(137.152)};function Ke(e,t){var n=t/2,r=a(n);return[2*e/E*a(t)*r*r,E*g(n)]}Ke.invert=function(e,t){var n=o(t/E),r=a(n),i=2*n;return[e*E/2/(a(i)*r*r),i]};var Qe=function(){return t.geoProjection(Ke).scale(135.264)};function Je(e){return[e[0]/2,O(g(e[1]/2*P))*T]}function $e(e){return[2*e[0],2*o(v(e[1]*P))*T]}var et=function(e){null==e&&(e=t.geoOrthographic);var n=e(),r=t.geoEquirectangular().scale(T).precision(0).clipAngle(null).translate([0,0]);function o(e){return n(Je(e))}function i(e){o[e]=function(t){return arguments.length?(n[e](t),o):n[e]()}}return n.invert&&(o.invert=function(e){return $e(n.invert(e))}),o.stream=function(e){var t=n.stream(e),o=r.stream({point:function(e,n){t.point(e/2,O(g(-n/2*P))*T)},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}});return o.sphere=t.sphere,o},o.rotate=function(e){return arguments.length?(r.rotate(e),o):r.rotate()},o.center=function(e){return arguments.length?(n.center(Je(e)),o):$e(n.center())},i("clipAngle"),i("clipExtent"),i("scale"),i("translate"),i("precision"),o.scale(249.5)};function tt(e,n){var o=2*y/n,s=e*e;function u(n,u){var l=t.geoAzimuthalEquidistantRaw(n,u),c=l[0],d=l[1],f=c*c+d*d;if(f>s){var p=A(f),g=i(d,c),m=o*h(g/o),x=g-m,w=e*a(x),S=(e*v(x)-x*v(w))/(b-w),E=nt(x,S),j=(y-e)/rt(E,w,y);c=p;var T,P=50;do{c-=T=(e+rt(E,w,c)*j-p)/(E(c)*j)}while(r(T)>_&&--P>0);d=x*v(c),c<b&&(d-=S*(c-b));var k=v(m),O=a(m);l[0]=c*O-d*k,l[1]=c*k+d*O}return l}return u.invert=function(n,u){var l=n*n+u*u;if(l>s){var c=A(l),d=i(u,n),f=o*h(d/o),p=d-f;n=c*a(p),u=c*v(p);var g=n-b,_=v(n),x=u/_,w=n<b?1/0:0,S=10;while(1){var E=e*v(x),j=e*a(x),T=v(j),P=b-j,k=(E-x*T)/P,O=nt(x,k);if(r(w)<m||!--S)break;x-=w=(x*_-k*g-u)/(_-2*g*(P*(j+x*E*a(j)-T)-E*(E-x*T))/(P*P))}c=e+rt(O,j,n)*(y-e)/rt(O,j,y),d=f+x,n=c*a(d),u=c*v(d)}return t.geoAzimuthalEquidistantRaw.invert(n,u)},u}function nt(e,t){return function(n){var r=e*a(n);return n<b&&(r-=t),A(1+r*r)}}function rt(e,t,n){for(var r=50,o=(n-t)/r,i=e(t)+e(n),a=1,s=t;a<r;++a)i+=2*e(s+=o);return.5*i*o}var ot=function(){var e=6,n=30*P,r=a(n),o=v(n),s=t.geoProjectionMutator(tt),u=s(n,e),l=u.stream,c=.01,d=-a(c*P),f=v(c*P);return u.radius=function(t){return arguments.length?(r=a(n=t*P),o=v(n),s(n,e)):n*T},u.lobes=function(t){return arguments.length?s(n,e=+t):e},u.stream=function(t){var n=u.rotate(),s=l(t),c=(u.rotate([0,0]),l(t));return u.rotate(n),s.sphere=function(){c.polygonStart(),c.lineStart();for(var t=0,n=2*y/e,s=0;t<e;++t,s-=n)c.point(i(f*a(s),d)*T,O(f*v(s))*T),c.point(i(o*a(s-n/2),r)*T,O(o*v(s-n/2))*T);c.lineEnd(),c.polygonEnd()},s},u.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},it=function(e,t,n,o,i,s,u,l){function c(r,c){if(!c)return[e*r/y,0];var d=c*c,f=e+d*(t+d*(n+d*o)),h=c*(i-1+d*(s-l+d*u)),p=(f*f+h*h)/(2*h),g=r*O(f/p)/y;return[p*v(g),c*(1+d*l)+p*(1-a(g))]}return arguments.length<8&&(l=0),c.invert=function(c,d){var f,h,p=y*c/e,g=d,m=50;do{var b=g*g,x=e+b*(t+b*(n+b*o)),w=g*(i-1+b*(s-l+b*u)),S=x*x+w*w,E=2*w,j=S/E,T=j*j,P=O(x/j)/y,k=p*P,C=x*x,M=(2*t+b*(4*n+6*b*o))*g,R=i+b*(3*s+5*b*u),L=2*(x*M+w*(R-1)),I=2*(R-1),N=(L*E-S*I)/(E*E),D=a(k),z=v(k),F=j*D,B=j*z,U=p/y*(1/A(1-C/T))*(M*j-x*N)/T,H=B-c,V=g*(1+b*l)+j-F-d,G=N*z+F*U,q=F*P,X=1+N-(N*D-B*U),Y=B*P,W=G*Y-X*q;if(!W)break;p-=f=(V*G-H*X)/W,g-=h=(H*Y-V*q)/W}while((r(f)>_||r(h)>_)&&--m>0);return[p,g]},c},at=it(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),st=function(){return t.geoProjection(at).scale(149.995)},ut=it(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),lt=function(){return t.geoProjection(ut).scale(153.93)},ct=it(5/6*y,-.62636,-.0344,0,1.3493,-.05524,0,.045),dt=function(){return t.geoProjection(ct).scale(130.945)};function ft(e,t){var n=e*e,r=t*t;return[e*(1-.162388*r)*(.87-952426e-9*n*n),t*(1+r/12)]}ft.invert=function(e,t){var n,o=e,i=t,a=50;do{var s=i*i;i-=n=(i*(1+s/12)-t)/(1+s/4)}while(r(n)>_&&--a>0);a=50,e/=1-.162388*s;do{var u=(u=o*o)*u;o-=n=(o*(.87-952426e-9*u)-e)/(.87-.00476213*u)}while(r(n)>_&&--a>0);return[o,i]};var ht=function(){return t.geoProjection(ft).scale(131.747)},pt=it(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762),vt=function(){return t.geoProjection(pt).scale(131.087)},gt=function(e){var t=e(b,0)[0]-e(-b,0)[0];function n(n,r){var o=n>0?-.5:.5,i=e(n+o*y,r);return i[0]-=o*t,i}return e.invert&&(n.invert=function(n,r){var o=n>0?-.5:.5,i=e.invert(n+o*t,r),a=i[0]-o*y;return a<-y?a+=2*y:a>y&&(a-=2*y),i[0]=a,i}),n};function _t(e,t){var n=p(e),o=p(t),s=a(t),u=a(e)*s,l=v(e)*s,c=v(o*t);e=r(i(l,c)),t=O(u),r(e-b)>_&&(e%=b);var d=mt(e>y/4?b-e:e,t);return e>y/4&&(c=d[0],d[0]=-d[1],d[1]=-c),d[0]*=n,d[1]*=-o,d}function mt(e,t){if(t===b)return[0,0];var n,o,i=v(t),s=i*i,u=s*s,l=1+u,c=1+3*u,d=1-u,f=O(1/A(l)),h=d+s*l*f,p=(1-i)/h,g=A(p),m=p*l,x=A(m),w=g*d;if(0===e)return[0,-(w+s*x)];var S,E=a(t),j=1/E,T=2*i*E,P=(-3*s+f*c)*T,k=(-h*E-(1-i)*P)/(h*h),C=.5*k/g,M=d*C-2*s*g*T,R=s*l*k+p*c*T,L=-j*T,I=-j*R,N=-2*j*M,D=4*e/y;if(e>.222*y||t<y/4&&e>.175*y){if(n=(w+s*A(m*(1+u)-w*w))/(1+u),e>y/4)return[n,n];var z=n,F=.5*n;n=.5*(F+z),o=50;do{var B=A(m-n*n),U=n*(N+L*B)+I*O(n/x)-D;if(!U)break;U<0?F=n:z=n,n=.5*(F+z)}while(r(z-F)>_&&--o>0)}else{n=_,o=25;do{var H=n*n,V=A(m-H),G=N+L*V,q=n*G+I*O(n/x)-D,X=G+(I-L*H)/V;n-=S=V?q/X:0}while(r(S)>_&&--o>0)}return[n,-w-s*A(m-n*n)]}function yt(e,t){var n=0,o=1,i=.5,s=50;while(1){var u=i*i,l=A(i),c=O(1/A(1+u)),d=1-u+i*(1+u)*c,f=(1-l)/d,h=A(f),p=f*(1+u),v=h*(1-u),g=p-e*e,_=A(g),b=t+v+i*_;if(r(o-n)<m||0===--s||0===b)break;b>0?n=i:o=i,i=.5*(n+o)}if(!s)return null;var x=O(l),w=a(x),S=1/w,E=2*l*w,j=(-3*i+c*(1+3*u))*E,T=(-d*w-(1-l)*j)/(d*d),P=.5*T/h,k=(1-u)*P-2*i*h*E,C=-2*S*k,M=-S*E,R=-S*(i*(1+u)*T+f*(1+3*u)*E);return[y/4*(e*(C+M*_)+R*O(e/A(p))),x]}_t.invert=function(e,t){r(e)>1&&(e=2*p(e)-e),r(t)>1&&(t=2*p(t)-t);var n=p(e),o=p(t),s=-n*e,u=-o*t,l=u/s<1,c=yt(l?u:s,l?s:u),d=c[0],f=c[1],h=a(f);return l&&(d=-b-d),[n*(i(v(d)*h,-v(f))+y),o*O(a(d)*h)]};var bt=function(){return t.geoProjection(gt(_t)).scale(239.75)};function xt(e,t,n){var r,o,i;return e?(r=wt(e,n),t?(o=wt(t,1-n),i=o[1]*o[1]+n*r[0]*r[0]*o[0]*o[0],[[r[0]*o[2]/i,r[1]*r[2]*o[0]*o[1]/i],[r[1]*o[1]/i,-r[0]*r[2]*o[0]*o[2]/i],[r[2]*o[1]*o[2]/i,-n*r[0]*r[1]*o[0]/i]]):[[r[0],0],[r[1],0],[r[2],0]]):(o=wt(t,1-n),[[0,o[0]/o[1]],[1/o[1],0],[o[2]/o[1],0]])}function wt(e,t){var n,i,u,l,c;if(t<_)return l=v(e),i=a(e),n=t*(e-l*i)/4,[l-n*i,i+n*l,1-t*l*l/2,e-n];if(t>=1-_)return n=(1-t)/4,i=L(e),l=M(e),u=1/i,c=i*R(e),[l+n*(c-e)/(i*i),u-n*l*u*(c-e),u+n*l*u*(c+e),2*o(s(e))-b+n*(c-e)/i];var d=[1,0,0,0,0,0,0,0,0],f=[A(t),0,0,0,0,0,0,0,0],h=0;i=A(1-t),c=1;while(r(f[h]/d[h])>_&&h<8)n=d[h++],f[h]=(n-i)/2,d[h]=(n+i)/2,i=A(n*i),c*=2;u=c*d[h]*e;do{l=f[h]*v(i=u)/d[h],u=(O(l)+u)/2}while(--h);return[v(u),l=a(u),l/a(u-i),u]}function St(e,t,n){var i=r(e),a=r(t),s=R(a);if(i){var u=1/v(i),l=1/(g(i)*g(i)),c=-(l+n*(s*s*u*u)-1+n),d=(n-1)*l,f=(-c+A(c*c-4*d))/2;return[Et(o(1/A(f)),n)*p(e),Et(o(A((f/l-1)/n)),1-n)*p(t)]}return[0,Et(o(s),1-n)*p(t)]}function Et(e,t){if(!t)return e;if(1===t)return l(g(e/2+x));for(var n=1,i=A(1-t),a=A(t),s=0;r(a)>_;s++){if(e%y){var u=o(i*g(e)/n);u<0&&(u+=y),e+=u+~~(e/y)*y}else e+=e;a=(n+i)/2,i=A(n*i),a=((n=a)-i)/2}return e/(f(2,s)*n)}function jt(e,t){var n=(S-1)/(S+1),o=A(1-n*n),i=Et(b,o*o),u=-1,c=l(g(y/4+r(t)/2)),d=s(u*c)/A(n),f=Tt(d*a(u*e),d*v(u*e)),h=St(f[0],f[1],o*o);return[-h[1],(t>=0?1:-1)*(.5*i-h[0])]}function Tt(e,t){var n=e*e,r=t+1,o=1-n-t*t;return[.5*((e>=0?b:-b)-i(o,2*e)),-.25*l(o*o+4*n)+.5*l(r*r+n)]}function Pt(e,t){var n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}jt.invert=function(e,t){var n=(S-1)/(S+1),r=A(1-n*n),a=Et(b,r*r),u=-1,c=xt(.5*a-t,-e,r*r),d=Pt(c[0],c[1]),f=i(d[1],d[0])/u;return[f,2*o(s(.5/u*l(n*d[0]*d[0]+n*d[1]*d[1])))-b]};var kt=function(){return t.geoProjection(gt(jt)).scale(151.496)};function Ot(e,n){if(arguments.length<2&&(n=e),1===n)return t.geoAzimuthalEqualAreaRaw;if(n===1/0)return Ct;function r(r,o){var i=t.geoAzimuthalEqualAreaRaw(r/n,o);return i[0]*=e,i}return r.invert=function(r,o){var i=t.geoAzimuthalEqualAreaRaw.invert(r/e,o);return i[0]*=n,i},r}function Ct(e,t){return[e*a(t)/a(t/=2),2*v(t)]}Ct.invert=function(e,t){var n=2*O(t/2);return[e*a(n/2)/a(n),n]};var At=function(){var e=2,n=t.geoProjectionMutator(Ot),r=n(e);return r.coefficient=function(t){return arguments.length?n(e=+t):e},r.scale(169.529)};function Mt(e){var t=v(e),n=a(e),o=Rt(e);function s(e,i){var s=o(e,i);e=s[0],i=s[1];var u=v(i),l=a(i),c=a(e),d=C(t*u+n*l*c),f=v(d),h=r(f)>_?d/f:1;return[h*n*v(e),(r(e)>b?h:-h)*(t*l-n*u*c)]}return o.invert=Rt(-e),s.invert=function(e,n){var r=A(e*e+n*n),s=-v(r),u=a(r),l=r*u,c=-n*s,d=r*t,f=A(l*l+c*c-d*d),h=i(l*d+c*f,c*d-l*f),p=(r>b?-1:1)*i(e*s,r*a(h)*u+n*v(h)*s);return o.invert(p,h)},s}function Rt(e){var t=v(e),n=a(e);return function(e,r){var o=a(r),s=a(e)*o,u=v(e)*o,l=v(r);return[i(u,s*n-l*t),O(l*n+s*t)]}}var Lt=function(){var e=0,n=t.geoProjectionMutator(Mt),r=n(e),o=r.rotate,i=r.stream,a=t.geoCircle();return r.parallel=function(t){if(!arguments.length)return e*T;var o=r.rotate();return n(e=t*P).rotate(o)},r.rotate=function(t){return arguments.length?(o.call(r,[t[0],t[1]-e*T]),a.center([-t[0],-t[1]]),r):(t=o.call(r),t[1]+=e*T,t)},r.stream=function(e){return e=i(e),e.sphere=function(){e.polygonStart();var t,n=.01,r=a.radius(90-n)().coordinates[0],o=r.length-1,i=-1;e.lineStart();while(++i<o)e.point((t=r[i])[0],t[1]);e.lineEnd(),r=a.radius(90+n)().coordinates[0],o=r.length-1,e.lineStart();while(--i>=0)e.point((t=r[i])[0],t[1]);e.lineEnd(),e.polygonEnd()},e},r.scale(79.4187).parallel(45).clipAngle(179.999)},It=41+48/36+37/3600,Nt=ke(0);function Dt(e){var t=It*P,n=xe(y,t)[0]-xe(-y,t)[0],o=Nt(0,t)[1],i=xe(0,t)[1],a=E-i,s=j/e,l=4/j,f=o+a*a*4/j;function h(h,p){var v,g=r(p);if(g>t){var _=d(e-1,c(0,u((h+y)/s)));h+=y*(e-1)/e-_*s,v=xe(h,g),v[0]=v[0]*j/n-j*(e-1)/(2*e)+_*j/e,v[1]=o+4*(v[1]-i)*a/j,p<0&&(v[1]=-v[1])}else v=Nt(h,p);return v[0]*=l,v[1]/=f,v}return h.invert=function(t,h){t/=l,h*=f;var p=r(h);if(p>o){var v=d(e-1,c(0,u((t+y)/s)));t=(t+y*(e-1)/e-v*s)*n/j;var g=xe.invert(t,.25*(p-o)*j/a+i);return g[0]-=y*(e-1)/e-v*s,h<0&&(g[1]=-g[1]),g}return Nt.invert(t,h)},h}function zt(e){return{type:"Polygon",coordinates:[n.range(-180,180+e/2,e).map((function(e,t){return[e,1&t?89.999999:It]})).concat(n.range(180,-180-e/2,-e).map((function(e,t){return[e,1&t?-89.999999:-It]})))]}}var Ft=function(){var e=4,n=t.geoProjectionMutator(Dt),r=n(e),o=r.stream;return r.lobes=function(t){return arguments.length?n(e=+t):e},r.stream=function(n){var i=r.rotate(),a=o(n),s=(r.rotate([0,0]),o(n));return r.rotate(i),a.sphere=function(){t.geoStream(zt(180/e),s)},a},r.scale(239.75)};function Bt(e){var t,n=1+e,o=v(1/n),s=O(o),u=2*A(y/(t=y+4*s*n)),l=.5*u*(n+A(e*(2+e))),c=e*e,d=n*n;function f(o,f){var h,p,g=1-v(f);if(g&&g<2){var _,x=b-f,w=25;do{var S=v(x),E=a(x),j=s+i(S,n-E),T=1+d-2*n*E;x-=_=(x-c*s-n*S+T*j-.5*g*t)/(2*n*S*j)}while(r(_)>m&&--w>0);h=u*A(T),p=o*j/y}else h=u*(e+g),p=o*s/y;return[h*v(p),l-h*a(p)]}return f.invert=function(e,r){var o=e*e+(r-=l)*r,a=(1+d-o/(u*u))/(2*n),f=C(a),h=v(f),p=s+i(h,n-a);return[O(e/A(o))*y/p,O(1-2*(f-c*s-n*h+(1+d-2*n*a)*p)/t)]},f}var Ut=function(){var e=1,n=t.geoProjectionMutator(Bt),r=n(e);return r.ratio=function(t){return arguments.length?n(e=+t):e},r.scale(167.774).center([0,18.67])},Ht=.7109889596207567,Vt=.0528035274542;function Gt(e,t){return t>-Ht?(e=$(e,t),e[1]+=Vt,e):ae(e,t)}Gt.invert=function(e,t){return t>-Ht?$.invert(e,t-Vt):ae.invert(e,t)};var qt=function(){return t.geoProjection(Gt).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};function Xt(e,t){return r(t)>Ht?(e=$(e,t),e[1]-=t>0?Vt:-Vt,e):ae(e,t)}Xt.invert=function(e,t){return r(t)>Ht?$.invert(e,t+(t>0?Vt:-Vt)):ae.invert(e,t)};var Yt=function(){return t.geoProjection(Xt).scale(152.63)};function Wt(e,t){return r(e[0]-t[0])<_&&r(e[1]-t[1])<_}function Zt(e,t){var n,r,o,i=-1,a=e.length,s=e[0],u=[];while(++i<a){n=e[i],r=(n[0]-s[0])/t,o=(n[1]-s[1])/t;for(var l=0;l<t;++l)u.push([s[0]+l*r,s[1]+l*o]);s=n}return u.push(n),u}function Kt(e){var t,r,o,i,a,s,u,l=[],c=e[0].length;for(u=0;u<c;++u)t=e[0][u],r=t[0][0],o=t[0][1],i=t[1][1],a=t[2][0],s=t[2][1],l.push(Zt([[r+_,o+_],[r+_,i-_],[a-_,i-_],[a-_,s+_]],30));for(u=e[1].length-1;u>=0;--u)t=e[1][u],r=t[0][0],o=t[0][1],i=t[1][1],a=t[2][0],s=t[2][1],l.push(Zt([[a-_,s-_],[a-_,i+_],[r+_,i+_],[r+_,o-_]],30));return{type:"Polygon",coordinates:[n.merge(l)]}}var Qt=function(e,n){var r=Kt(n);n=n.map((function(e){return e.map((function(e){return[[e[0][0]*P,e[0][1]*P],[e[1][0]*P,e[1][1]*P],[e[2][0]*P,e[2][1]*P]]}))}));var o=n.map((function(t){return t.map((function(t){var n,r=e(t[0][0],t[0][1])[0],o=e(t[2][0],t[2][1])[0],i=e(t[1][0],t[0][1])[1],a=e(t[1][0],t[1][1])[1];return i>a&&(n=i,i=a,a=n),[[r,i],[o,a]]}))}));function i(t,r){for(var o=r<0?-1:1,i=n[+(r<0)],a=0,s=i.length-1;a<s&&t>i[a][2][0];++a);var u=e(t-i[a][1][0],r);return u[0]+=e(i[a][1][0],o*r>o*i[a][0][1]?i[a][0][1]:r)[0],u}e.invert&&(i.invert=function(t,r){for(var a=o[+(r<0)],s=n[+(r<0)],u=0,l=a.length;u<l;++u){var c=a[u];if(c[0][0]<=t&&t<c[1][0]&&c[0][1]<=r&&r<c[1][1]){var d=e.invert(t-e(s[u][1][0],0)[0],r);return d[0]+=s[u][1][0],Wt(i(d[0],d[1]),[t,r])?d:null}}});var a=t.geoProjection(i),s=a.stream;return a.stream=function(e){var n=a.rotate(),o=s(e),i=(a.rotate([0,0]),s(e));return a.rotate(n),o.sphere=function(){t.geoStream(r,i)},o},a},Jt=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],$t=function(){return Qt(re,Jt).scale(160.857)},en=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],tn=function(){return Qt(Xt,en).scale(152.63)},nn=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],rn=function(){return Qt($,nn).scale(169.529)},on=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],an=function(){return Qt($,on).scale(169.529).rotate([20,0])},sn=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],un=function(){return Qt(Gt,sn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},ln=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]],cn=function(){return Qt(ae,ln).scale(152.63).rotate([-20,0])};function dn(e,t){return[3/j*e*A(y*y/3-t*t),t]}dn.invert=function(e,t){return[j/3*e/A(y*y/3-t*t),t]};var fn=function(){return t.geoProjection(dn).scale(158.837)};function hn(e){function t(t,n){if(r(r(n)-b)<_)return[0,n<0?-2:2];var o=v(n),i=f((1+o)/(1-o),e/2),s=.5*(i+1/i)+a(t*=e);return[2*v(t)/s,(i-1/i)/s]}return t.invert=function(t,n){var o=r(n);if(r(o-2)<_)return t?null:[0,p(n)*b];if(o>2)return null;t/=2,n/=2;var a=t*t,s=n*n,u=2*n/(1+a+s);return u=f((1+u)/(1-u),1/e),[i(2*t,1-a-s)/e,O((u-1)/(u+1))]},t}var pn=function(){var e=.5,n=t.geoProjectionMutator(hn),r=n(e);return r.spacing=function(t){return arguments.length?n(e=+t):e},r.scale(124.75)},vn=y/S;function gn(e,t){return[e*(1+A(a(t)))/2,t/(a(t/2)*a(e/6))]}gn.invert=function(e,t){var n=r(e),o=r(t),i=_,s=b;o<vn?s*=o/vn:i+=6*C(vn/o);for(var u=0;u<25;u++){var l=v(s),c=A(a(s)),d=v(s/2),f=a(s/2),h=v(i/6),p=a(i/6),g=.5*i*(1+c)-n,m=s/(f*p)-o,y=c?-.25*i*l/c:0,x=.5*(1+c),w=(1+.5*s*d/f)/(f*p),S=s/f*(h/6)/(p*p),E=y*S-w*x,j=(g*S-m*x)/E,T=(m*y-g*w)/E;if(s-=j,i-=T,r(j)<_&&r(T)<_)break}return[e<0?-i:i,t<0?-s:s]};var _n=function(){return t.geoProjection(gn).scale(97.2672)};function mn(e,t){var n=e*e,r=t*t;return[e*(.975534+r*(-.0143059*n-.119161+-.0547009*r)),t*(1.00384+n*(.0802894+-.02855*r+199025e-9*n)+r*(.0998909+-.0491032*r))]}mn.invert=function(e,t){var n=p(e)*y,o=t/2,i=50;do{var a=n*n,s=o*o,u=n*o,l=n*(.975534+s*(-.0143059*a-.119161+-.0547009*s))-e,c=o*(1.00384+a*(.0802894+-.02855*s+199025e-9*a)+s*(.0998909+-.0491032*s))-t,d=.975534-s*(.119161+3*a*.0143059+.0547009*s),f=-u*(.238322+.2188036*s+.0286118*a),h=u*(.1605788+7961e-7*a+-.0571*s),v=1.00384+a*(.0802894+199025e-9*a)+s*(3*(.0998909-.02855*a)-.245516*s),g=f*h-v*d,m=(c*f-l*v)/g,b=(l*h-c*d)/g;n-=m,o-=b}while((r(m)>_||r(b)>_)&&--i>0);return i&&[n,o]};var yn=function(){return t.geoProjection(mn).scale(139.98)};function bn(e,t){return[v(e)/a(t),g(t)*a(e)]}bn.invert=function(e,t){var n=e*e,r=t*t,o=r+1,i=e?w*A((o-A(n*n+2*n*(r-1)+o*o))/n+1):1/A(o);return[O(e*i),p(t)*C(i)]};var xn=function(){return t.geoProjection(bn).scale(144.049).clipAngle(89.999)};function wn(e){var t=a(e),n=g(x+e/2);function o(o,i){var a=i-e,s=r(a)<_?o*t:r(s=x+i/2)<_||r(r(s)-b)<_?0:o*a/l(g(s)/n);return[s,a]}return o.invert=function(o,i){var a,s=i+e;return[r(i)<_?o/t:r(a=x+s/2)<_||r(r(a)-b)<_?0:o*l(g(a)/n)/i,s]},o}var Sn=function(){return ie(wn).parallel(40).scale(158.837)};function En(e,t){return[e,1.25*l(g(x+.4*t))]}En.invert=function(e,t){return[e,2.5*o(s(.8*t))-.625*y]};var jn=function(){return t.geoProjection(En).scale(108.318)};function Tn(e){var t=e.length-1;function n(n,r){var o,i=a(r),s=2/(1+i*a(n)),u=s*i*v(n),l=s*v(r),c=t,d=e[c],f=d[0],h=d[1];while(--c>=0)d=e[c],f=d[0]+u*(o=f)-l*h,h=d[1]+u*h+l*o;return f=u*(o=f)-l*h,h=u*h+l*o,[f,h]}return n.invert=function(n,s){var u=20,l=n,c=s;do{var d,f=t,h=e[f],p=h[0],g=h[1],m=0,y=0;while(--f>=0)h=e[f],m=p+l*(d=m)-c*y,y=g+l*y+c*d,p=h[0]+l*(d=p)-c*g,g=h[1]+l*g+c*d;m=p+l*(d=m)-c*y,y=g+l*y+c*d,p=l*(d=p)-c*g-n,g=l*g+c*d-s;var b,x,w=m*m+y*y;l-=b=(p*m+g*y)/w,c-=x=(g*m-p*y)/w}while(r(b)+r(x)>_*_&&--u>0);if(u){var S=A(l*l+c*c),E=2*o(.5*S),j=v(E);return[i(l*j,S*a(E)),S?O(c*j/S):0]}},n}var Pn=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],kn=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],On=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Cn=[[.9245,0],[0,0],[.01943,0]],An=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Mn(){return Dn(Pn,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)}function Rn(){return Dn(kn,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function Ln(){return Dn(On,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function In(){return Dn(Cn,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Nn(){return Dn(An,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Dn(e,n){var r=t.geoProjection(Tn(e)).rotate(n).clipAngle(90),o=t.geoRotation(n),i=r.center;return delete r.rotate,r.center=function(e){return arguments.length?i(o(e)):o.invert(i())},r}var zn=A(6),Fn=A(7);function Bn(e,t){var n=O(7*v(t)/(3*zn));return[zn*e*(2*a(2*n/3)-1)/Fn,9*v(n/3)/Fn]}Bn.invert=function(e,t){var n=3*O(t*Fn/9);return[e*Fn/(zn*(2*a(2*n/3)-1)),O(3*v(n)*zn/7)]};var Un=function(){return t.geoProjection(Bn).scale(164.859)};function Hn(e,t){for(var n,o=(1+w)*v(t),i=t,s=0;s<25;s++)if(i-=n=(v(i/2)+v(i)-o)/(.5*a(i/2)+a(i)),r(n)<_)break;return[e*(1+2*a(i)/a(i/2))/(3*S),2*A(3)*v(i/2)/A(2+S)]}Hn.invert=function(e,t){var n=t*A(2+S)/(2*A(3)),r=2*O(n);return[3*S*e/(1+2*a(r)/a(r/2)),O((n+v(r))/(1+w))]};var Vn=function(){return t.geoProjection(Hn).scale(188.209)};function Gn(e,t){for(var n,o=A(6/(4+y)),i=(1+y/4)*v(t),s=t/2,u=0;u<25;u++)if(s-=n=(s/2+v(s)-i)/(.5+a(s)),r(n)<_)break;return[o*(.5+a(s))*e/1.5,o*s]}Gn.invert=function(e,t){var n=A(6/(4+y)),o=t/n;return r(r(o)-b)<_&&(o=o<0?-b:b),[1.5*e/(n*(.5+a(o))),O((o/2+v(o))/(1+y/4))]};var qn=function(){return t.geoProjection(Gn).scale(166.518)};function Xn(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Xn.invert=function(e,t){var n,o=t,i=25;do{var a=o*o,s=a*a;o-=n=(o*(1.007226+a*(.015085+s*(.028874*a-.044475-.005916*s)))-t)/(1.007226+a*(.045255+s*(.259866*a-.311325-.005916*11*s)))}while(r(n)>_&&--i>0);return[e/(.8707+(a=o*o)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),o]};var Yn=function(){return t.geoProjection(Xn).scale(175.295)};function Wn(e,t){var n=t*t,r=n*n,o=n*r;return[e*(.84719-.13063*n+o*o*(.05494*n-.04515-.02326*r+.00331*o)),t*(1.01183+r*r*(.01926*n-.02625-.00396*r))]}Wn.invert=function(e,t){var n,o,i,a,s=t,u=25;do{o=s*s,i=o*o,s-=n=(s*(1.01183+i*i*(.01926*o-.02625-.00396*i))-t)/(1.01183+i*i*(.21186*o-.23625+-.05148*i))}while(r(n)>m&&--u>0);return o=s*s,i=o*o,a=o*i,[e/(.84719-.13063*o+a*a*(.05494*o-.04515-.02326*i+.00331*a)),s]};var Zn=function(){return t.geoProjection(Wn).scale(175.295)};function Kn(e,t){return[e*(1+a(t))/2,2*(t-g(t/2))]}Kn.invert=function(e,t){for(var n=t/2,o=0,i=1/0;o<10&&r(i)>_;++o){var s=a(t/2);t-=i=(t-g(t/2)-n)/(1-.5/(s*s))}return[2*e/(1+a(t)),t]};var Qn=function(){return t.geoProjection(Kn).scale(152.63)},Jn=1.0148,$n=.23185,er=-.14499,tr=.02406,nr=Jn,rr=5*$n,or=7*er,ir=9*tr,ar=1.790857183;function sr(e,t){var n=t*t;return[e,t*(Jn+n*n*($n+n*(er+tr*n)))]}sr.invert=function(e,t){t>ar?t=ar:t<-ar&&(t=-ar);var n,o=t;do{var i=o*o;o-=n=(o*(Jn+i*i*($n+i*(er+tr*i)))-t)/(nr+i*i*(rr+i*(or+ir*i)))}while(r(n)>_);return[e,o]};var ur=function(){return t.geoProjection(sr).scale(139.319)};function lr(e,t){if(r(t)<_)return[e,0];var n=g(t),o=e*v(t);return[v(o)/n,t+(1-a(o))/n]}lr.invert=function(e,t){if(r(t)<_)return[e,0];var n,o=e*e+t*t,i=.5*t,s=10;do{var u=g(i),l=1/a(i),c=o-2*t*i+i*i;i-=n=(u*c+2*(i-t))/(2+c*l*l+2*(i-t)*u)}while(r(n)>_&&--s>0);return u=g(i),[(r(t)<r(i+1/u)?O(e*u):p(e)*(C(r(e*u))+b))/v(i),i]};var cr=function(){return t.geoProjection(lr).scale(103.74)},dr=function(e,t){var n=pr(e[1],e[0]),r=pr(t[1],t[0]),o=gr(n,r),i=vr(n)/vr(r);return hr([1,0,e[0][0],0,1,e[0][1]],hr([i,0,0,0,i,0],hr([a(o),v(o),0,-v(o),a(o),0],[1,0,-t[0][0],0,1,-t[0][1]])))};function fr(e){var t=1/(e[0]*e[4]-e[1]*e[3]);return[t*e[4],-t*e[1],t*(e[1]*e[5]-e[2]*e[4]),-t*e[3],t*e[0],t*(e[2]*e[3]-e[0]*e[5])]}function hr(e,t){return[e[0]*t[0]+e[1]*t[3],e[0]*t[1]+e[1]*t[4],e[0]*t[2]+e[1]*t[5]+e[2],e[3]*t[0]+e[4]*t[3],e[3]*t[1]+e[4]*t[4],e[3]*t[2]+e[4]*t[5]+e[5]]}function pr(e,t){return[e[0]-t[0],e[1]-t[1]]}function vr(e){return A(e[0]*e[0]+e[1]*e[1])}function gr(e,t){return i(e[0]*t[1]-e[1]*t[0],e[0]*t[0]+e[1]*t[1])}var _r=function(e,n,r){function o(e,t){if(e.edges=xr(e.face),t.face){var n=e.shared=br(e.face,t.face),r=dr(n.map(t.project),n.map(e.project));e.transform=t.transform?hr(t.transform,r):r;for(var i=t.edges,a=0,s=i.length;a<s;++a)yr(n[0],i[a][1])&&yr(n[1],i[a][0])&&(i[a]=e),yr(n[0],i[a][0])&&yr(n[1],i[a][1])&&(i[a]=e);for(i=e.edges,a=0,s=i.length;a<s;++a)yr(n[0],i[a][0])&&yr(n[1],i[a][1])&&(i[a]=t),yr(n[0],i[a][1])&&yr(n[1],i[a][0])&&(i[a]=t)}else e.transform=t.transform;return e.children&&e.children.forEach((function(t){o(t,e)})),e}function i(e,t){var r,o=n(e,t),i=o.project([e*T,t*T]);return(r=o.transform)?[r[0]*i[0]+r[1]*i[1]+r[2],-(r[3]*i[0]+r[4]*i[1]+r[5])]:(i[1]=-i[1],i)}function s(e,t){var n=e.project.invert,r=e.transform,o=t;if(r&&(r=fr(r),o=[r[0]*o[0]+r[1]*o[1]+r[2],r[3]*o[0]+r[4]*o[1]+r[5]]),n&&e===u(i=n(o)))return i;for(var i,a=e.children,l=0,c=a&&a.length;l<c;++l)if(i=s(a[l],t))return i}function u(e){return n(e[0]*P,e[1]*P)}r=null==r?-y/6:r,o(e,{transform:[a(r),v(r),0,-v(r),a(r),0]}),wr(e)&&(i.invert=function(t,n){var r=s(e,[t,-n]);return r&&(r[0]*=P,r[1]*=P,r)});var l=t.geoProjection(i),c=l.stream;return l.stream=function(t){var n=l.rotate(),r=c(t),o=(l.rotate([0,0]),c(t));return l.rotate(n),r.sphere=function(){o.polygonStart(),o.lineStart(),mr(o,e),o.lineEnd(),o.polygonEnd()},r},l};function mr(e,n,o){var i,a,s=n.edges,u=s.length,l={type:"MultiPoint",coordinates:n.face},c=n.face.filter((function(e){return 90!==r(e[1])})),d=t.geoBounds({type:"MultiPoint",coordinates:c}),f=!1,h=-1,p=d[1][0]-d[0][0],v=180===p||360===p?[(d[0][0]+d[1][0])/2,(d[0][1]+d[1][1])/2]:t.geoCentroid(l);if(o)while(++h<u)if(s[h]===o)break;++h;for(var g=0;g<u;++g)a=s[(g+h)%u],Array.isArray(a)?(f||(e.point((i=t.geoInterpolate(a[0],v)(_))[0],i[1]),f=!0),e.point((i=t.geoInterpolate(a[1],v)(_))[0],i[1])):(f=!1,a!==o&&mr(e,a,n))}function yr(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}function br(e,t){for(var n,r,o=e.length,i=null,a=0;a<o;++a){n=e[a];for(var s=t.length;--s>=0;)if(r=t[s],n[0]===r[0]&&n[1]===r[1]){if(i)return[i,n];i=n}}}function xr(e){for(var t=e.length,n=[],r=e[t-1],o=0;o<t;++o)n.push([r,r=e[o]]);return n}function wr(e){return e.project.invert||e.children&&e.children.some(wr)}var Sr=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Er=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map((function(e){return e.map((function(e){return Sr[e]}))})),jr=function(e){e=e||function(e){var n=t.geoCentroid({type:"MultiPoint",coordinates:e});return t.geoGnomonic().scale(1).translate([0,0]).rotate([-n[0],-n[1]])};var n=Er.map((function(t){return{face:t,project:e(t)}}));return[-1,0,0,1,0,1,4,5].forEach((function(e,t){var r=n[e];r&&(r.children||(r.children=[])).push(n[t])})),_r(n[0],(function(e,t){return n[e<-y/2?t<0?6:4:e<0?t<0?2:0:e<y/2?t<0?3:1:t<0?7:5]})).scale(101.858).center([0,45])},Tr=2/A(3);function Pr(e,t){var n=xe(e,t);return[n[0]*Tr,n[1]]}Pr.invert=function(e,t){return xe.invert(e/Tr,t)};var kr=function(e){e=e||function(e){var n=t.geoCentroid({type:"MultiPoint",coordinates:e});return t.geoProjection(Pr).translate([0,0]).scale(1).rotate(n[1]>0?[-n[0],0]:[180-n[0],180])};var n=Er.map((function(t){return{face:t,project:e(t)}}));return[-1,0,0,1,0,1,4,5].forEach((function(e,t){var r=n[e];r&&(r.children||(r.children=[])).push(n[t])})),_r(n[0],(function(e,t){return n[e<-y/2?t<0?6:4:e<0?t<0?2:0:e<y/2?t<0?3:1:t<0?7:5]})).scale(121.906).center([0,48.5904])},Or=function(e){e=e||function(e){var n=6===e.length?t.geoCentroid({type:"MultiPoint",coordinates:e}):e[0];return t.geoGnomonic().scale(1).translate([0,0]).rotate([-n[0],-n[1]])};var n=Er.map((function(e){for(var t,n=e.map(Rr),r=n.length,o=n[r-1],i=[],a=0;a<r;++a)t=n[a],i.push(Mr([.9486832980505138*o[0]+.31622776601683794*t[0],.9486832980505138*o[1]+.31622776601683794*t[1],.9486832980505138*o[2]+.31622776601683794*t[2]]),Mr([.9486832980505138*t[0]+.31622776601683794*o[0],.9486832980505138*t[1]+.31622776601683794*o[1],.9486832980505138*t[2]+.31622776601683794*o[2]])),o=t;return i})),r=[],o=[-1,0,0,1,0,1,4,5];n.forEach((function(e,t){for(var i=Er[t],a=i.length,s=r[t]=[],u=0;u<a;++u)n.push([i[u],e[(2*u+2)%(2*a)],e[(2*u+1)%(2*a)]]),o.push(t),s.push(Ar(Rr(e[(2*u+2)%(2*a)]),Rr(e[(2*u+1)%(2*a)])))}));var i=n.map((function(t){return{project:e(t),face:t}}));function s(e,t){var n=a(t),o=[n*a(e),n*v(e),v(t)],s=e<-y/2?t<0?6:4:e<0?t<0?2:0:e<y/2?t<0?3:1:t<0?7:5,u=r[s];return i[Cr(u[0],o)<0?8+3*s:Cr(u[1],o)<0?8+3*s+1:Cr(u[2],o)<0?8+3*s+2:s]}return o.forEach((function(e,t){var n=i[e];n&&(n.children||(n.children=[])).push(i[t])})),_r(i[0],s).scale(110.625).center([0,45])};function Cr(e,t){for(var n=0,r=e.length,o=0;n<r;++n)o+=e[n]*t[n];return o}function Ar(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Mr(e){return[i(e[1],e[0])*T,O(c(-1,d(1,e[2])))*T]}function Rr(e){var t=e[0]*P,n=e[1]*P,r=a(n);return[r*a(t),r*v(t),v(n)]}var Lr=function(){},Ir=function(e){if((t=e.length)<4)return!1;var t,n=0,r=e[t-1][1]*e[0][0]-e[t-1][0]*e[0][1];while(++n<t)r+=e[n-1][1]*e[n][0]-e[n-1][0]*e[n][1];return r<=0},Nr=function(e,t){for(var n=t[0],r=t[1],o=!1,i=0,a=e.length,s=a-1;i<a;s=i++){var u=e[i],l=u[0],c=u[1],d=e[s],f=d[0],h=d[1];c>r^h>r&&n<(f-l)*(r-c)/(h-c)+l&&(o=!o)}return o},Dr=function(e,t){var n,r=t.stream;if(!r)throw new Error("invalid projection");switch(e&&e.type){case"Feature":n=Fr;break;case"FeatureCollection":n=zr;break;default:n=Ur;break}return n(e,r)};function zr(e,t){return{type:"FeatureCollection",features:e.features.map((function(e){return Fr(e,t)}))}}function Fr(e,t){return{type:"Feature",id:e.id,properties:e.properties,geometry:Ur(e.geometry,t)}}function Br(e,t){return{type:"GeometryCollection",geometries:e.geometries.map((function(e){return Ur(e,t)}))}}function Ur(e,n){if(!e)return null;if("GeometryCollection"===e.type)return Br(e,n);var r;switch(e.type){case"Point":r=Gr;break;case"MultiPoint":r=Gr;break;case"LineString":r=qr;break;case"MultiLineString":r=qr;break;case"Polygon":r=Xr;break;case"MultiPolygon":r=Xr;break;case"Sphere":r=Xr;break;default:return null}return t.geoStream(e,n(r)),r.result()}var Hr=[],Vr=[],Gr={point:function(e,t){Hr.push([e,t])},result:function(){var e=Hr.length?Hr.length<2?{type:"Point",coordinates:Hr[0]}:{type:"MultiPoint",coordinates:Hr}:null;return Hr=[],e}},qr={lineStart:Lr,point:function(e,t){Hr.push([e,t])},lineEnd:function(){Hr.length&&(Vr.push(Hr),Hr=[])},result:function(){var e=Vr.length?Vr.length<2?{type:"LineString",coordinates:Vr[0]}:{type:"MultiLineString",coordinates:Vr}:null;return Vr=[],e}},Xr={polygonStart:Lr,lineStart:Lr,point:function(e,t){Hr.push([e,t])},lineEnd:function(){var e=Hr.length;if(e){do{Hr.push(Hr[0].slice())}while(++e<4);Vr.push(Hr),Hr=[]}},polygonEnd:Lr,result:function(){if(!Vr.length)return null;var e=[],t=[];return Vr.forEach((function(n){Ir(n)?e.push([n]):t.push(n)})),t.forEach((function(t){var n=t[0];e.some((function(e){if(Nr(e[0],n))return e.push(t),!0}))||e.push([t])})),Vr=[],e.length?e.length>1?{type:"MultiPolygon",coordinates:e}:{type:"Polygon",coordinates:e[0]}:null}},Yr=function(e){var n=e(b,0)[0]-e(-b,0)[0];function o(t,o){var i=r(t)<b,a=e(i?t:t>0?t-y:t+y,o),s=(a[0]-a[1])*w,u=(a[0]+a[1])*w;if(i)return[s,u];var l=n*w,c=s>0^u>0?-1:1;return[c*s-p(u)*l,c*u-p(s)*l]}return e.invert&&(o.invert=function(t,o){var i=(t+o)*w,a=(o-t)*w,s=r(i)<.5*n&&r(a)<.5*n;if(!s){var u=n*w,l=i>0^a>0?-1:1,c=-l*t+(a>0?1:-1)*u,d=-l*o+(i>0?1:-1)*u;i=(-c-d)*w,a=(c-d)*w}var f=e.invert(i,a);return s||(f[0]+=i>0?y:-y),f}),t.geoProjection(o).rotate([-90,-90,45]).clipAngle(179.999)},Wr=function(){return Yr(_t).scale(176.423)},Zr=function(){return Yr(jt).scale(111.48)},Kr=function(e,t){if(!(0<=(t=+t)&&t<=20))throw new Error("invalid digits");function n(e){var n=e.length,r=2,o=new Array(n);o[0]=+e[0].toFixed(t),o[1]=+e[1].toFixed(t);while(r<n)o[r]=e[r],++r;return o}function r(e){return e.map(n)}function o(e){return e.map(r)}function i(e){if(null==e)return e;var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(i)};break;case"Point":t={type:"Point",coordinates:n(e.coordinates)};break;case"MultiPoint":case"LineString":t={type:e.type,coordinates:r(e.coordinates)};break;case"MultiLineString":case"Polygon":t={type:e.type,coordinates:o(e.coordinates)};break;case"MultiPolygon":t={type:"MultiPolygon",coordinates:e.coordinates.map(o)};break;default:return e}return null!=e.bbox&&(t.bbox=e.bbox),t}function a(e){var t={type:"Feature",properties:e.properties,geometry:i(e.geometry)};return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),t}if(null!=e)switch(e.type){case"Feature":return a(e);case"FeatureCollection":var s={type:"FeatureCollection",features:e.features.map(a)};return null!=e.bbox&&(s.bbox=e.bbox),s;default:return i(e)}return e};function Qr(e){var t=v(e);function n(n,r){var i=t?g(n*t/2)/t:n/2;if(!r)return[2*i,-e];var s=2*o(i*v(r)),u=1/g(r);return[v(s)*u,r+(1-a(s))*u-e]}return n.invert=function(n,i){if(r(i+=e)<_)return[t?2*o(t*n/2)/t:n,0];var s,u=n*n+i*i,l=0,c=10;do{var d=g(l),f=1/a(l),h=u-2*i*l+l*l;l-=s=(d*h+2*(l-i))/(2+h*f*f+2*(l-i)*d)}while(r(s)>_&&--c>0);var p=n*(d=g(l)),m=g(r(i)<r(l+1/d)?.5*O(p):.5*C(p)+y/4)/v(l);return[t?2*o(t*m)/t:2*m,l]},n}var Jr=function(){return ie(Qr).scale(131.215)},$r=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function eo(e,t){var n,o=d(18,36*r(t)/y),i=u(o),a=o-i,s=(n=$r[i])[0],l=n[1],c=(n=$r[++i])[0],f=n[1],h=(n=$r[d(19,++i)])[0],p=n[1];return[e*(c+a*(h-s)/2+a*a*(h-2*c+s)/2),(t>0?b:-b)*(f+a*(p-l)/2+a*a*(p-2*f+l)/2)]}$r.forEach((function(e){e[1]*=1.0144})),eo.invert=function(e,t){var n=t/b,o=90*n,i=d(18,r(o/5)),a=c(0,u(i));do{var s=$r[a][1],l=$r[a+1][1],f=$r[d(19,a+2)][1],h=f-s,p=f-2*l+s,v=2*(r(n)-l)/h,g=p/h,_=v*(1-g*v*(1-2*g*v));if(_>=0||1===a){o=(t>=0?5:-5)*(_+i);var y,x=50;do{i=d(18,r(o)/5),a=u(i),_=i-a,s=$r[a][1],l=$r[a+1][1],f=$r[d(19,a+2)][1],o-=(y=(t>=0?b:-b)*(l+_*(f-s)/2+_*_*(f-2*l+s)/2)-t)*T}while(r(y)>m&&--x>0);break}}while(--a>=0);var w=$r[a][0],S=$r[a+1][0],E=$r[d(19,a+2)][0];return[e/(S+_*(E-w)/2+_*_*(E-2*S+w)/2),o*P]};var to=function(){return t.geoProjection(eo).scale(152.63)};function no(e){function t(t,n){var r=a(n),o=(e-1)/(e-r*a(t));return[o*r*v(t),o*v(n)]}return t.invert=function(t,n){var r=t*t+n*n,o=A(r),a=(e-A(1-r*(e+1)/(e-1)))/((e-1)/o+o/(e-1));return[i(t*a,o*A(1-a*a)),o?O(n*a/o):0]},t}function ro(e,t){var n=no(e);if(!t)return n;var r=a(t),o=v(t);function i(t,i){var a=n(t,i),s=a[1],u=s*o/(e-1)+r;return[a[0]*r/u,s/u]}return i.invert=function(t,i){var a=(e-1)/(e-1-i*o);return n.invert(a*t,a*i*r)},i}var oo=function(){var e=2,n=0,r=t.geoProjectionMutator(ro),o=r(e,n);return o.distance=function(t){return arguments.length?r(e=+t,n):e},o.tilt=function(t){return arguments.length?r(e,n=t*P):n*T},o.scale(432.147).clipAngle(C(1/e)*T-1e-6)},io=1e-4,ao=1e4,so=-180,uo=so+io,lo=180,co=lo-io,fo=-90,ho=fo+io,po=90,vo=po-io;function go(e){return e.length>0}function _o(e){return Math.floor(e*ao)/ao}function mo(e){return e===fo||e===po?[0,e]:[so,_o(e)]}function yo(e){var t=e[0],n=e[1],r=!1;return t<=uo?(t=so,r=!0):t>=co&&(t=lo,r=!0),n<=ho?(n=fo,r=!0):n>=vo&&(n=po,r=!0),r?[t,n]:e}function bo(e){return e.map(yo)}function xo(e,t,n){for(var r=0,o=e.length;r<o;++r){var i=e[r].slice();n.push({index:-1,polygon:t,ring:i});for(var a=0,s=i.length;a<s;++a){var u=i[a],l=u[0],c=u[1];if(l<=uo||l>=co||c<=ho||c>=vo){i[a]=yo(u);for(var d=a+1;d<s;++d){var f=i[d],h=f[0],p=f[1];if(h>uo&&h<co&&p>ho&&p<vo)break}if(d===a+1)continue;if(a){var v={index:-1,polygon:t,ring:i.slice(0,a+1)};v.ring[v.ring.length-1]=mo(c),n[n.length-1]=v}else n.pop();if(d>=s)break;n.push({index:-1,polygon:t,ring:i=i.slice(d-1)}),i[0]=mo(i[0][1]),a=-1,s=i.length}}}}function wo(e){var t,n,r,o,i,a,s=e.length,u={},l={};for(t=0;t<s;++t)n=e[t],r=n.ring[0],i=n.ring[n.ring.length-1],r[0]!==i[0]||r[1]!==i[1]?(n.index=t,u[r]=l[i]=n):(n.polygon.push(n.ring),e[t]=null);for(t=0;t<s;++t)if(n=e[t],n){if(r=n.ring[0],i=n.ring[n.ring.length-1],o=l[r],a=u[i],delete u[r],delete l[i],r[0]===i[0]&&r[1]===i[1]){n.polygon.push(n.ring);continue}o?(delete l[r],delete u[o.ring[0]],o.ring.pop(),e[o.index]=null,n={index:-1,polygon:o.polygon,ring:o.ring.concat(n.ring)},o===a?n.polygon.push(n.ring):(n.index=s++,e.push(u[n.ring[0]]=l[n.ring[n.ring.length-1]]=n))):a?(delete u[i],delete l[a.ring[a.ring.length-1]],n.ring.pop(),n={index:s++,polygon:a.polygon,ring:n.ring.concat(a.ring)},e[a.index]=null,e.push(u[n.ring[0]]=l[n.ring[n.ring.length-1]]=n)):(n.ring.push(n.ring[0]),n.polygon.push(n.ring))}}function So(e){var t={type:"Feature",geometry:Eo(e.geometry)};return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}function Eo(e){if(null==e)return e;var t,n,r,o;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(Eo)};break;case"Point":t={type:"Point",coordinates:yo(e.coordinates)};break;case"MultiPoint":case"LineString":t={type:e.type,coordinates:bo(e.coordinates)};break;case"MultiLineString":t={type:"MultiLineString",coordinates:e.coordinates.map(bo)};break;case"Polygon":var i=[];xo(e.coordinates,i,n=[]),wo(n),t={type:"Polygon",coordinates:i};break;case"MultiPolygon":n=[],r=-1,o=e.coordinates.length;var a=new Array(o);while(++r<o)xo(e.coordinates[r],a[r]=[],n);wo(n),t={type:"MultiPolygon",coordinates:a.filter(go)};break;default:return e}return null!=e.bbox&&(t.bbox=e.bbox),t}var jo=function(e){if(null==e)return e;switch(e.type){case"Feature":return So(e);case"FeatureCollection":var t={type:"FeatureCollection",features:e.features.map(So)};return null!=e.bbox&&(t.bbox=e.bbox),t;default:return Eo(e)}};function To(e,t){var n=g(t/2),r=v(x*n);return[e*(.74482-.34588*r*r),1.70711*n]}To.invert=function(e,t){var n=t/1.70711,r=v(x*n);return[e/(.74482-.34588*r*r),2*o(n)]};var Po=function(){return t.geoProjection(To).scale(146.153)},ko=function(e,n,r){var o=t.geoInterpolate(n,r),i=o(.5),a=t.geoRotation([-i[0],-i[1]])(n),s=o.distance/2,u=-O(v(a[1]*P)/v(s)),l=[-i[0],-i[1],-(a[0]>0?y-u:u)*T],c=t.geoProjection(e(s)).rotate(l),d=t.geoRotation(l),f=c.center;return delete c.rotate,c.center=function(e){return arguments.length?f(d(e)):d.invert(f())},c.clipAngle(90)};function Oo(e){var n=a(e);function r(e,r){var o=t.geoGnomonicRaw(e,r);return o[0]*=n,o}return r.invert=function(e,r){return t.geoGnomonicRaw.invert(e/n,r)},r}function Co(){return Ao([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Ao(e,t){return ko(Oo,e,t)}function Mo(e){if(!(e*=2))return t.geoAzimuthalEquidistantRaw;var n=-e/2,r=-n,o=e*e,s=g(r),u=.5/v(r);function l(t,i){var s=C(a(i)*a(t-n)),u=C(a(i)*a(t-r)),l=i<0?-1:1;return s*=s,u*=u,[(s-u)/(2*e),l*A(4*o*u-(o-s+u)*(o-s+u))/(2*e)]}return l.invert=function(e,t){var o,l,c=t*t,d=a(A(c+(o=e+n)*o)),f=a(A(c+(o=e+r)*o));return[i(l=d-f,o=(d+f)*s),(t<0?-1:1)*C(A(o*o+l*l)*u)]},l}function Ro(){return Lo([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Lo(e,t){return ko(Mo,e,t)}function Io(e,t){if(r(t)<_)return[e,0];var n=r(t/b),o=O(n);if(r(e)<_||r(r(t)-b)<_)return[0,p(t)*y*g(o/2)];var i=a(o),s=r(y/e-e/y)/2,u=s*s,l=i/(n+i-1),c=l*(2/n-1),d=c*c,f=d+u,h=l-d,v=u+l;return[p(e)*y*(s*h+A(u*h*h-f*(l*l-d)))/f,p(t)*y*(c*v-s*A((u+1)*f-v*v))/f]}Io.invert=function(e,t){if(r(t)<_)return[e,0];if(r(e)<_)return[0,b*v(2*o(t/y))];var n=(e/=y)*e,i=(t/=y)*t,s=n+i,u=s*s,l=-r(t)*(1+s),c=l-2*i+n,d=-2*l+1+2*i+u,f=i/d+(2*c*c*c/(d*d*d)-9*l*c/(d*d))/27,h=(l-c*c/(3*d))/d,g=2*A(-h/3),m=C(3*f/(h*g))/3;return[y*(s-1+A(1+2*(n-i)+u))/(2*e),p(t)*y*(-g*a(m+y/3)-c/(3*d))]};var No=function(){return t.geoProjection(Io).scale(79.4183)};function Do(e,t){if(r(t)<_)return[e,0];var n=r(t/b),o=O(n);if(r(e)<_||r(r(t)-b)<_)return[0,p(t)*y*g(o/2)];var i=a(o),s=r(y/e-e/y)/2,u=s*s,l=i*(A(1+u)-s*i)/(1+u*n*n);return[p(e)*y*l,p(t)*y*A(1-l*(2*s+l))]}Do.invert=function(e,t){if(!e)return[0,b*v(2*o(t/y))];var n=r(e/y),a=(1-n*n-(t/=y)*t)/(2*n),s=a*a,u=A(s+1);return[p(e)*y*(u-a),p(t)*b*v(2*i(A((1-2*a*n)*(a+u)-n),A(u+a+n)))]};var zo=function(){return t.geoProjection(Do).scale(79.4183)};function Fo(e,t){if(r(t)<_)return[e,0];var n=t/b,o=O(n);if(r(e)<_||r(r(t)-b)<_)return[0,y*g(o/2)];var i=(y/e-e/y)/2,s=n/(1+a(o));return[y*(p(e)*A(i*i+1-s*s)-i),y*s]}Fo.invert=function(e,t){if(!t)return[e,0];var n=t/y,r=(y*y*(1-n*n)-e*e)/(2*y*e);return[e?y*(p(e)*A(r*r+1)-r):0,b*v(2*o(n))]};var Bo=function(){return t.geoProjection(Fo).scale(79.4183)};function Uo(e,t){if(!t)return[e,0];var n=r(t);if(!e||n===b)return[0,t];var o=n/b,i=o*o,a=(8*o-i*(i+2)-5)/(2*i*(o-1)),s=a*a,u=o*a,l=i+s+2*u,c=o+3*a,d=e/b,f=d+1/d,h=p(r(e)-b)*A(f*f-4),v=h*h,g=l*(i+s*v-1)+(1-i)*(i*(c*c+4*s)+12*u*s+4*s*s),_=(h*(l+s-1)+2*A(g))/(4*l+v);return[p(e)*b*_,p(t)*b*A(1+h*r(_)-_*_)]}Uo.invert=function(e,t){var n;if(!e||!t)return[e,t];t/=y;var o=p(e)*e/b,i=(o*o-1+4*t*t)/r(o),a=i*i,s=2*t,u=50;do{var l=s*s,c=(8*s-l*(l+2)-5)/(2*l*(s-1)),d=(3*s-l*s-10)/(2*l*s),f=c*c,h=s*c,v=s+c,g=v*v,m=s+3*c,x=g*(l+f*a-1)+(1-l)*(l*(m*m+4*f)+f*(12*h+4*f)),w=-2*v*(4*h*f+(1-4*l+3*l*l)*(1+d)+f*(14*l-6-a+(8*l-8-2*a)*d)+h*(12*l-8+(10*l-10-a)*d)),S=A(x),E=i*(g+f-1)+2*S-o*(4*g+a),j=i*(2*c*d+2*v*(1+d))+w/S-8*v*(i*(-1+f+g)+2*S)*(1+d)/(a+4*g);s-=n=E/j}while(n>_&&--u>0);return[p(e)*(A(i*i+4)+i)*y/4,b*s]};var Ho=function(){return t.geoProjection(Uo).scale(127.16)},Vo=4*y+3*A(3),Go=2*A(2*y*A(3)/Vo),qo=J(Go*A(3)/y,Go,Vo/6),Xo=function(){return t.geoProjection(qo).scale(176.84)};function Yo(e,t){return[e*A(1-3*t*t/(y*y)),t]}Yo.invert=function(e,t){return[e/A(1-3*t*t/(y*y)),t]};var Wo=function(){return t.geoProjection(Yo).scale(152.63)};function Zo(e,t){var n=.90631*v(t),r=A(1-n*n),o=A(2/(1+r*a(e/=3)));return[2.66723*r*o*v(e),1.24104*n*o]}Zo.invert=function(e,t){var n=e/2.66723,r=t/1.24104,o=A(n*n+r*r),a=2*O(o/2);return[3*i(e*g(a),2.66723*o),o&&O(t*v(a)/(1.24104*.90631*o))]};var Ko=function(){return t.geoProjection(Zo).scale(172.632)};function Qo(e,t){var n=a(t),r=a(e)*n,o=1-r,s=a(e=i(v(e)*n,-v(t))),u=v(e);return n=A(1-r*r),[u*n-s*o,-s*n-u*o]}Qo.invert=function(e,t){var n=(e*e+t*t)/-2,r=A(-n*(2+n)),o=t*n+e*r,a=e*n-t*r,s=A(a*a+o*o);return[i(r*o,s*(1+n)),s?-O(r*a/s):0]};var Jo=function(){return t.geoProjection(Qo).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};function $o(e,t){var n=F(e,t);return[(n[0]+e/b)/2,(n[1]+t)/2]}$o.invert=function(e,t){var n=e,o=t,i=25;do{var s,u=a(o),l=v(o),c=v(2*o),d=l*l,f=u*u,h=v(n),p=a(n/2),g=v(n/2),m=g*g,y=1-f*p*p,x=y?C(u*p)*A(s=1/y):s=0,w=.5*(2*x*u*g+n/b)-e,S=.5*(x*l+o)-t,E=.5*s*(f*m+x*u*p*d)+.5/b,j=s*(h*c/4-x*l*g),T=.125*s*(c*g-x*l*f*h),P=.5*s*(d*p+x*m*u)+.5,k=j*T-P*E,O=(S*j-w*P)/k,M=(w*T-S*E)/k;n-=O,o-=M}while((r(O)>_||r(M)>_)&&--i>0);return[n,o]};var ei=function(){return t.geoProjection($o).scale(158.837)};e.geoAiry=z,e.geoAiryRaw=D,e.geoAitoff=B,e.geoAitoffRaw=F,e.geoArmadillo=H,e.geoArmadilloRaw=U,e.geoAugust=G,e.geoAugustRaw=V,e.geoBaker=W,e.geoBakerRaw=Y,e.geoBerghaus=K,e.geoBerghausRaw=Z,e.geoBoggs=oe,e.geoBoggsRaw=re,e.geoBonne=le,e.geoBonneRaw=ue,e.geoBottomley=de,e.geoBottomleyRaw=ce,e.geoBromley=he,e.geoBromleyRaw=fe,e.geoChamberlin=be,e.geoChamberlinRaw=_e,e.geoChamberlinAfrica=ye,e.geoCollignon=we,e.geoCollignonRaw=xe,e.geoCraig=Ee,e.geoCraigRaw=Se,e.geoCraster=Pe,e.geoCrasterRaw=Te,e.geoCylindricalEqualArea=Oe,e.geoCylindricalEqualAreaRaw=ke,e.geoCylindricalStereographic=Ae,e.geoCylindricalStereographicRaw=Ce,e.geoEckert1=Re,e.geoEckert1Raw=Me,e.geoEckert2=Ie,e.geoEckert2Raw=Le,e.geoEckert3=De,e.geoEckert3Raw=Ne,e.geoEckert4=Fe,e.geoEckert4Raw=ze,e.geoEckert5=Ue,e.geoEckert5Raw=Be,e.geoEckert6=Ve,e.geoEckert6Raw=He,e.geoEisenlohr=Xe,e.geoEisenlohrRaw=qe,e.geoFahey=Ze,e.geoFaheyRaw=We,e.geoFoucaut=Qe,e.geoFoucautRaw=Ke,e.geoGilbert=et,e.geoGingery=ot,e.geoGingeryRaw=tt,e.geoGinzburg4=st,e.geoGinzburg4Raw=at,e.geoGinzburg5=lt,e.geoGinzburg5Raw=ut,e.geoGinzburg6=dt,e.geoGinzburg6Raw=ct,e.geoGinzburg8=ht,e.geoGinzburg8Raw=ft,e.geoGinzburg9=vt,e.geoGinzburg9Raw=pt,e.geoGringorten=bt,e.geoGringortenRaw=_t,e.geoGuyou=kt,e.geoGuyouRaw=jt,e.geoHammer=At,e.geoHammerRaw=Ot,e.geoHammerRetroazimuthal=Lt,e.geoHammerRetroazimuthalRaw=Mt,e.geoHealpix=Ft,e.geoHealpixRaw=Dt,e.geoHill=Ut,e.geoHillRaw=Bt,e.geoHomolosine=Yt,e.geoHomolosineRaw=Xt,e.geoInterrupt=Qt,e.geoInterruptedBoggs=$t,e.geoInterruptedHomolosine=tn,e.geoInterruptedMollweide=rn,e.geoInterruptedMollweideHemispheres=an,e.geoInterruptedSinuMollweide=un,e.geoInterruptedSinusoidal=cn,e.geoKavrayskiy7=fn,e.geoKavrayskiy7Raw=dn,e.geoLagrange=pn,e.geoLagrangeRaw=hn,e.geoLarrivee=_n,e.geoLarriveeRaw=gn,e.geoLaskowski=yn,e.geoLaskowskiRaw=mn,e.geoLittrow=xn,e.geoLittrowRaw=bn,e.geoLoximuthal=Sn,e.geoLoximuthalRaw=wn,e.geoMiller=jn,e.geoMillerRaw=En,e.geoModifiedStereographic=Dn,e.geoModifiedStereographicRaw=Tn,e.geoModifiedStereographicAlaska=Mn,e.geoModifiedStereographicGs48=Rn,e.geoModifiedStereographicGs50=Ln,e.geoModifiedStereographicMiller=In,e.geoModifiedStereographicLee=Nn,e.geoMollweide=ee,e.geoMollweideRaw=$,e.geoMtFlatPolarParabolic=Un,e.geoMtFlatPolarParabolicRaw=Bn,e.geoMtFlatPolarQuartic=Vn,e.geoMtFlatPolarQuarticRaw=Hn,e.geoMtFlatPolarSinusoidal=qn,e.geoMtFlatPolarSinusoidalRaw=Gn,e.geoNaturalEarth=Yn,e.geoNaturalEarthRaw=Xn,e.geoNaturalEarth2=Zn,e.geoNaturalEarth2Raw=Wn,e.geoNellHammer=Qn,e.geoNellHammerRaw=Kn,e.geoPatterson=ur,e.geoPattersonRaw=sr,e.geoPolyconic=cr,e.geoPolyconicRaw=lr,e.geoPolyhedral=_r,e.geoPolyhedralButterfly=jr,e.geoPolyhedralCollignon=kr,e.geoPolyhedralWaterman=Or,e.geoProject=Dr,e.geoGringortenQuincuncial=Wr,e.geoPeirceQuincuncial=Zr,e.geoPierceQuincuncial=Zr,e.geoQuantize=Kr,e.geoQuincuncial=Yr,e.geoRectangularPolyconic=Jr,e.geoRectangularPolyconicRaw=Qr,e.geoRobinson=to,e.geoRobinsonRaw=eo,e.geoSatellite=oo,e.geoSatelliteRaw=ro,e.geoSinuMollweide=qt,e.geoSinuMollweideRaw=Gt,e.geoSinusoidal=se,e.geoSinusoidalRaw=ae,e.geoStitch=jo,e.geoTimes=Po,e.geoTimesRaw=To,e.geoTwoPointAzimuthal=Ao,e.geoTwoPointAzimuthalRaw=Oo,e.geoTwoPointAzimuthalUsa=Co,e.geoTwoPointEquidistant=Lo,e.geoTwoPointEquidistantRaw=Mo,e.geoTwoPointEquidistantUsa=Ro,e.geoVanDerGrinten=No,e.geoVanDerGrintenRaw=Io,e.geoVanDerGrinten2=zo,e.geoVanDerGrinten2Raw=Do,e.geoVanDerGrinten3=Bo,e.geoVanDerGrinten3Raw=Fo,e.geoVanDerGrinten4=Ho,e.geoVanDerGrinten4Raw=Uo,e.geoWagner4=Xo,e.geoWagner4Raw=qo,e.geoWagner6=Wo,e.geoWagner6Raw=Yo,e.geoWagner7=Ko,e.geoWagner7Raw=Zo,e.geoWiechel=Jo,e.geoWiechelRaw=Qo,e.geoWinkel3=ei,e.geoWinkel3Raw=$o,Object.defineProperty(e,"__esModule",{value:!0})}))},"./node_modules/_d3-geo@1.11.9@d3-geo/dist/d3-geo.js":function(e,t,n){(function(e,r){r(t,n("./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js"))})(0,(function(e,t){"use strict";function n(){return new r}function r(){this.reset()}r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(e){i(o,e,this.t),i(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new r;function i(e,t,n){var r=e.s=t+n,o=r-t,i=r-o;e.t=t-i+(n-o)}var a=1e-6,s=1e-12,u=Math.PI,l=u/2,c=u/4,d=2*u,f=180/u,h=u/180,p=Math.abs,v=Math.atan,g=Math.atan2,_=Math.cos,m=Math.ceil,y=Math.exp,b=Math.log,x=Math.pow,w=Math.sin,S=Math.sign||function(e){return e>0?1:e<0?-1:0},E=Math.sqrt,j=Math.tan;function T(e){return e>1?0:e<-1?u:Math.acos(e)}function P(e){return e>1?l:e<-1?-l:Math.asin(e)}function k(e){return(e=w(e/2))*e}function O(){}function C(e,t){e&&M.hasOwnProperty(e.type)&&M[e.type](e,t)}var A={Feature:function(e,t){C(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,r=-1,o=n.length;while(++r<o)C(n[r].geometry,t)}},M={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){R(e.coordinates,t,0)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)R(n[r],t,0)},Polygon:function(e,t){L(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)L(n[r],t)},GeometryCollection:function(e,t){var n=e.geometries,r=-1,o=n.length;while(++r<o)C(n[r],t)}};function R(e,t,n){var r,o=-1,i=e.length-n;t.lineStart();while(++o<i)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function L(e,t){var n=-1,r=e.length;t.polygonStart();while(++n<r)R(e[n],t,1);t.polygonEnd()}function I(e,t){e&&A.hasOwnProperty(e.type)?A[e.type](e,t):C(e,t)}var N,D,z,F,B,U=n(),H=n(),V={point:O,lineStart:O,lineEnd:O,polygonStart:function(){U.reset(),V.lineStart=G,V.lineEnd=q},polygonEnd:function(){var e=+U;H.add(e<0?d+e:e),this.lineStart=this.lineEnd=this.point=O},sphere:function(){H.add(d)}};function G(){V.point=X}function q(){Y(N,D)}function X(e,t){V.point=Y,N=e,D=t,e*=h,t*=h,z=e,F=_(t=t/2+c),B=w(t)}function Y(e,t){e*=h,t*=h,t=t/2+c;var n=e-z,r=n>=0?1:-1,o=r*n,i=_(t),a=w(t),s=B*a,u=F*i+s*_(o),l=s*r*w(o);U.add(g(l,u)),z=e,F=i,B=a}function W(e){return H.reset(),I(e,V),2*H}function Z(e){return[g(e[1],e[0]),P(e[2])]}function K(e){var t=e[0],n=e[1],r=_(n);return[r*_(t),r*w(t),w(n)]}function Q(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function J(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function $(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ee(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function te(e){var t=E(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var ne,re,oe,ie,ae,se,ue,le,ce,de,fe,he,pe,ve,ge,_e,me,ye,be,xe,we,Se,Ee,je,Te,Pe,ke=n(),Oe={point:Ce,lineStart:Me,lineEnd:Re,polygonStart:function(){Oe.point=Le,Oe.lineStart=Ie,Oe.lineEnd=Ne,ke.reset(),V.polygonStart()},polygonEnd:function(){V.polygonEnd(),Oe.point=Ce,Oe.lineStart=Me,Oe.lineEnd=Re,U<0?(ne=-(oe=180),re=-(ie=90)):ke>a?ie=90:ke<-a&&(re=-90),de[0]=ne,de[1]=oe},sphere:function(){ne=-(oe=180),re=-(ie=90)}};function Ce(e,t){ce.push(de=[ne=e,oe=e]),t<re&&(re=t),t>ie&&(ie=t)}function Ae(e,t){var n=K([e*h,t*h]);if(le){var r=J(le,n),o=[r[1],-r[0],0],i=J(o,r);te(i),i=Z(i);var a,s=e-ae,u=s>0?1:-1,l=i[0]*f*u,c=p(s)>180;c^(u*ae<l&&l<u*e)?(a=i[1]*f,a>ie&&(ie=a)):(l=(l+360)%360-180,c^(u*ae<l&&l<u*e)?(a=-i[1]*f,a<re&&(re=a)):(t<re&&(re=t),t>ie&&(ie=t))),c?e<ae?De(ne,e)>De(ne,oe)&&(oe=e):De(e,oe)>De(ne,oe)&&(ne=e):oe>=ne?(e<ne&&(ne=e),e>oe&&(oe=e)):e>ae?De(ne,e)>De(ne,oe)&&(oe=e):De(e,oe)>De(ne,oe)&&(ne=e)}else ce.push(de=[ne=e,oe=e]);t<re&&(re=t),t>ie&&(ie=t),le=n,ae=e}function Me(){Oe.point=Ae}function Re(){de[0]=ne,de[1]=oe,Oe.point=Ce,le=null}function Le(e,t){if(le){var n=e-ae;ke.add(p(n)>180?n+(n>0?360:-360):n)}else se=e,ue=t;V.point(e,t),Ae(e,t)}function Ie(){V.lineStart()}function Ne(){Le(se,ue),V.lineEnd(),p(ke)>a&&(ne=-(oe=180)),de[0]=ne,de[1]=oe,le=null}function De(e,t){return(t-=e)<0?t+360:t}function ze(e,t){return e[0]-t[0]}function Fe(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Be(e){var t,n,r,o,i,a,s;if(ie=oe=-(ne=re=1/0),ce=[],I(e,Oe),n=ce.length){for(ce.sort(ze),t=1,r=ce[0],i=[r];t<n;++t)o=ce[t],Fe(r,o[0])||Fe(r,o[1])?(De(r[0],o[1])>De(r[0],r[1])&&(r[1]=o[1]),De(o[0],r[1])>De(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(a=-1/0,n=i.length-1,t=0,r=i[n];t<=n;r=o,++t)o=i[t],(s=De(r[1],o[0]))>a&&(a=s,ne=o[0],oe=r[1])}return ce=de=null,ne===1/0||re===1/0?[[NaN,NaN],[NaN,NaN]]:[[ne,re],[oe,ie]]}var Ue={sphere:O,point:He,lineStart:Ge,lineEnd:Ye,polygonStart:function(){Ue.lineStart=We,Ue.lineEnd=Ze},polygonEnd:function(){Ue.lineStart=Ge,Ue.lineEnd=Ye}};function He(e,t){e*=h,t*=h;var n=_(t);Ve(n*_(e),n*w(e),w(t))}function Ve(e,t,n){++fe,pe+=(e-pe)/fe,ve+=(t-ve)/fe,ge+=(n-ge)/fe}function Ge(){Ue.point=qe}function qe(e,t){e*=h,t*=h;var n=_(t);je=n*_(e),Te=n*w(e),Pe=w(t),Ue.point=Xe,Ve(je,Te,Pe)}function Xe(e,t){e*=h,t*=h;var n=_(t),r=n*_(e),o=n*w(e),i=w(t),a=g(E((a=Te*i-Pe*o)*a+(a=Pe*r-je*i)*a+(a=je*o-Te*r)*a),je*r+Te*o+Pe*i);he+=a,_e+=a*(je+(je=r)),me+=a*(Te+(Te=o)),ye+=a*(Pe+(Pe=i)),Ve(je,Te,Pe)}function Ye(){Ue.point=He}function We(){Ue.point=Ke}function Ze(){Qe(Se,Ee),Ue.point=He}function Ke(e,t){Se=e,Ee=t,e*=h,t*=h,Ue.point=Qe;var n=_(t);je=n*_(e),Te=n*w(e),Pe=w(t),Ve(je,Te,Pe)}function Qe(e,t){e*=h,t*=h;var n=_(t),r=n*_(e),o=n*w(e),i=w(t),a=Te*i-Pe*o,s=Pe*r-je*i,u=je*o-Te*r,l=E(a*a+s*s+u*u),c=P(l),d=l&&-c/l;be+=d*a,xe+=d*s,we+=d*u,he+=c,_e+=c*(je+(je=r)),me+=c*(Te+(Te=o)),ye+=c*(Pe+(Pe=i)),Ve(je,Te,Pe)}function Je(e){fe=he=pe=ve=ge=_e=me=ye=be=xe=we=0,I(e,Ue);var t=be,n=xe,r=we,o=t*t+n*n+r*r;return o<s&&(t=_e,n=me,r=ye,he<a&&(t=pe,n=ve,r=ge),o=t*t+n*n+r*r,o<s)?[NaN,NaN]:[g(n,t)*f,P(r/E(o))*f]}function $e(e){return function(){return e}}function et(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}function tt(e,t){return[p(e)>u?e+Math.round(-e/d)*d:e,t]}function nt(e,t,n){return(e%=d)?t||n?et(ot(e),it(t,n)):ot(e):t||n?it(t,n):tt}function rt(e){return function(t,n){return t+=e,[t>u?t-d:t<-u?t+d:t,n]}}function ot(e){var t=rt(e);return t.invert=rt(-e),t}function it(e,t){var n=_(e),r=w(e),o=_(t),i=w(t);function a(e,t){var a=_(t),s=_(e)*a,u=w(e)*a,l=w(t),c=l*n+s*r;return[g(u*o-c*i,s*n-l*r),P(c*o+u*i)]}return a.invert=function(e,t){var a=_(t),s=_(e)*a,u=w(e)*a,l=w(t),c=l*o-u*i;return[g(u*o+l*i,s*n+c*r),P(c*n-s*r)]},a}function at(e){function t(t){return t=e(t[0]*h,t[1]*h),t[0]*=f,t[1]*=f,t}return e=nt(e[0]*h,e[1]*h,e.length>2?e[2]*h:0),t.invert=function(t){return t=e.invert(t[0]*h,t[1]*h),t[0]*=f,t[1]*=f,t},t}function st(e,t,n,r,o,i){if(n){var a=_(t),s=w(t),u=r*n;null==o?(o=t+r*d,i=t-u/2):(o=ut(a,o),i=ut(a,i),(r>0?o<i:o>i)&&(o+=r*d));for(var l,c=o;r>0?c>i:c<i;c-=u)l=Z([a,-s*_(c),-s*w(c)]),e.point(l[0],l[1])}}function ut(e,t){t=K(t),t[0]-=e,te(t);var n=T(-t[1]);return((-t[2]<0?-n:n)+d-a)%d}function lt(){var e,t,n=$e([0,0]),r=$e(90),o=$e(6),i={point:a};function a(n,r){e.push(n=t(n,r)),n[0]*=f,n[1]*=f}function s(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*h,u=o.apply(this,arguments)*h;return e=[],t=nt(-a[0]*h,-a[1]*h,0).invert,st(i,s,u,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return s.center=function(e){return arguments.length?(n="function"===typeof e?e:$e([+e[0],+e[1]]),s):n},s.radius=function(e){return arguments.length?(r="function"===typeof e?e:$e(+e),s):r},s.precision=function(e){return arguments.length?(o="function"===typeof e?e:$e(+e),s):o},s}function ct(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:O,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function dt(e,t){return p(e[0]-t[0])<a&&p(e[1]-t[1])<a}function ft(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ht(e,t,n,r,o){var i,a,s=[],u=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(dt(r,a)){for(o.lineStart(),i=0;i<t;++i)o.point((r=e[i])[0],r[1]);o.lineEnd()}else s.push(n=new ft(r,e,null,!0)),u.push(n.o=new ft(r,null,n,!1)),s.push(n=new ft(a,e,null,!1)),u.push(n.o=new ft(a,null,n,!0))}})),s.length){for(u.sort(t),pt(s),pt(u),i=0,a=u.length;i<a;++i)u[i].e=n=!n;var l,c,d=s[0];while(1){var f=d,h=!0;while(f.v)if((f=f.n)===d)return;l=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(i=0,a=l.length;i<a;++i)o.point((c=l[i])[0],c[1]);else r(f.x,f.n.x,1,o);f=f.n}else{if(h)for(l=f.p.z,i=l.length-1;i>=0;--i)o.point((c=l[i])[0],c[1]);else r(f.x,f.p.x,-1,o);f=f.p}f=f.o,l=f.z,h=!h}while(!f.v);o.lineEnd()}}}function pt(e){if(t=e.length){var t,n,r=0,o=e[0];while(++r<t)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}tt.invert=tt;var vt=n();function gt(e){return p(e[0])<=u?e[0]:S(e[0])*((p(e[0])+u)%d-u)}function _t(e,t){var n=gt(t),r=t[1],o=w(r),i=[w(n),-_(n),0],s=0,f=0;vt.reset(),1===o?r=l+a:-1===o&&(r=-l-a);for(var h=0,p=e.length;h<p;++h)if(m=(v=e[h]).length)for(var v,m,y=v[m-1],b=gt(y),x=y[1]/2+c,S=w(x),E=_(x),j=0;j<m;++j,b=k,S=C,E=A,y=T){var T=v[j],k=gt(T),O=T[1]/2+c,C=w(O),A=_(O),M=k-b,R=M>=0?1:-1,L=R*M,I=L>u,N=S*C;if(vt.add(g(N*R*w(L),E*A+N*_(L))),s+=I?M+R*d:M,I^b>=n^k>=n){var D=J(K(y),K(T));te(D);var z=J(i,D);te(z);var F=(I^M>=0?-1:1)*P(z[2]);(r>F||r===F&&(D[0]||D[1]))&&(f+=I^M>=0?1:-1)}}return(s<-a||s<a&&vt<-a)^1&f}function mt(e,n,r,o){return function(i){var a,s,u,l=n(i),c=ct(),d=n(c),f=!1,h={point:p,lineStart:g,lineEnd:_,polygonStart:function(){h.point=m,h.lineStart=y,h.lineEnd=b,s=[],a=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=_,s=t.merge(s);var e=_t(a,o);s.length?(f||(i.polygonStart(),f=!0),ht(s,bt,e,r,i)):e&&(f||(i.polygonStart(),f=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),s=a=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(t,n){e(t,n)&&i.point(t,n)}function v(e,t){l.point(e,t)}function g(){h.point=v,l.lineStart()}function _(){h.point=p,l.lineEnd()}function m(e,t){u.push([e,t]),d.point(e,t)}function y(){d.lineStart(),u=[]}function b(){m(u[0][0],u[0][1]),d.lineEnd();var e,t,n,r,o=d.clean(),l=c.result(),h=l.length;if(u.pop(),a.push(u),u=null,h)if(1&o){if(n=l[0],(t=n.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else h>1&&2&o&&l.push(l.pop().concat(l.shift())),s.push(l.filter(yt))}return h}}function yt(e){return e.length>1}function bt(e,t){return((e=e.x)[0]<0?e[1]-l-a:l-e[1])-((t=t.x)[0]<0?t[1]-l-a:l-t[1])}var xt=mt((function(){return!0}),wt,Et,[-u,-l]);function wt(e){var t,n=NaN,r=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,s){var c=i>0?u:-u,d=p(i-n);p(d-u)<a?(e.point(n,r=(r+s)/2>0?l:-l),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(c,r),e.point(i,r),t=0):o!==c&&d>=u&&(p(n-o)<a&&(n-=o*a),p(i-c)<a&&(i-=c*a),r=St(n,r,i,s),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(c,r),t=0),e.point(n=i,r=s),o=c},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function St(e,t,n,r){var o,i,s=w(e-n);return p(s)>a?v((w(t)*(i=_(r))*w(n)-w(r)*(o=_(t))*w(e))/(o*i*s)):(t+r)/2}function Et(e,t,n,r){var o;if(null==e)o=n*l,r.point(-u,o),r.point(0,o),r.point(u,o),r.point(u,0),r.point(u,-o),r.point(0,-o),r.point(-u,-o),r.point(-u,0),r.point(-u,o);else if(p(e[0]-t[0])>a){var i=e[0]<t[0]?u:-u;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])}function jt(e){var t=_(e),n=6*h,r=t>0,o=p(t)>a;function i(t,r,o,i){st(i,e,n,o,t,r)}function s(e,n){return _(e)*_(n)>t}function l(e){var t,n,i,l,f;return{lineStart:function(){l=i=!1,f=1},point:function(h,p){var v,g=[h,p],_=s(h,p),m=r?_?0:d(h,p):_?d(h+(h<0?u:-u),p):0;if(!t&&(l=i=_)&&e.lineStart(),_!==i&&(v=c(t,g),(!v||dt(t,v)||dt(g,v))&&(g[0]+=a,g[1]+=a,_=s(g[0],g[1]))),_!==i)f=0,_?(e.lineStart(),v=c(g,t),e.point(v[0],v[1])):(v=c(t,g),e.point(v[0],v[1]),e.lineEnd()),t=v;else if(o&&t&&r^_){var y;m&n||!(y=c(g,t,!0))||(f=0,r?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}!_||t&&dt(t,g)||e.point(g[0],g[1]),t=g,i=_,n=m},lineEnd:function(){i&&e.lineEnd(),t=null},clean:function(){return f|(l&&i)<<1}}}function c(e,n,r){var o=K(e),i=K(n),s=[1,0,0],l=J(o,i),c=Q(l,l),d=l[0],f=c-d*d;if(!f)return!r&&e;var h=t*c/f,v=-t*d/f,g=J(s,l),_=ee(s,h),m=ee(l,v);$(_,m);var y=g,b=Q(_,y),x=Q(y,y),w=b*b-x*(Q(_,_)-1);if(!(w<0)){var S=E(w),j=ee(y,(-b-S)/x);if($(j,_),j=Z(j),!r)return j;var T,P=e[0],k=n[0],O=e[1],C=n[1];k<P&&(T=P,P=k,k=T);var A=k-P,M=p(A-u)<a,R=M||A<a;if(!M&&C<O&&(T=O,O=C,C=T),R?M?O+C>0^j[1]<(p(j[0]-P)<a?O:C):O<=j[1]&&j[1]<=C:A>u^(P<=j[0]&&j[0]<=k)){var L=ee(y,(-b+S)/x);return $(L,_),[j,Z(L)]}}}function d(t,n){var o=r?e:u-e,i=0;return t<-o?i|=1:t>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return mt(s,l,i,r?[0,-e]:[-u,e-u])}function Tt(e,t,n,r,o,i){var a,s=e[0],u=e[1],l=t[0],c=t[1],d=0,f=1,h=l-s,p=c-u;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<d)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>d&&(d=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>d&&(d=a)}else if(h>0){if(a<d)return;a<f&&(f=a)}if(a=r-u,p||!(a>0)){if(a/=p,p<0){if(a<d)return;a<f&&(f=a)}else if(p>0){if(a>f)return;a>d&&(d=a)}if(a=i-u,p||!(a<0)){if(a/=p,p<0){if(a>f)return;a>d&&(d=a)}else if(p>0){if(a<d)return;a<f&&(f=a)}return d>0&&(e[0]=s+d*h,e[1]=u+d*p),f<1&&(t[0]=s+f*h,t[1]=u+f*p),!0}}}}}var Pt=1e9,kt=-Pt;function Ot(e,n,r,o){function i(t,i){return e<=t&&t<=r&&n<=i&&i<=o}function s(t,i,a,s){var l=0,d=0;if(null==t||(l=u(t,a))!==(d=u(i,a))||c(t,i)<0^a>0)do{s.point(0===l||3===l?e:r,l>1?o:n)}while((l=(l+a+4)%4)!==d);else s.point(i[0],i[1])}function u(t,o){return p(t[0]-e)<a?o>0?0:3:p(t[0]-r)<a?o>0?2:1:p(t[1]-n)<a?o>0?1:0:o>0?3:2}function l(e,t){return c(e.x,t.x)}function c(e,t){var n=u(e,1),r=u(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var u,c,d,f,h,p,v,g,_,m,y,b=a,x=ct(),w={point:S,lineStart:P,lineEnd:k,polygonStart:j,polygonEnd:T};function S(e,t){i(e,t)&&b.point(e,t)}function E(){for(var t=0,n=0,r=c.length;n<r;++n)for(var i,a,s=c[n],u=1,l=s.length,d=s[0],f=d[0],h=d[1];u<l;++u)i=f,a=h,d=s[u],f=d[0],h=d[1],a<=o?h>o&&(f-i)*(o-a)>(h-a)*(e-i)&&++t:h<=o&&(f-i)*(o-a)<(h-a)*(e-i)&&--t;return t}function j(){b=x,u=[],c=[],y=!0}function T(){var e=E(),n=y&&e,r=(u=t.merge(u)).length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),s(null,null,1,a),a.lineEnd()),r&&ht(u,l,e,s,a),a.polygonEnd()),b=a,u=c=d=null}function P(){w.point=O,c&&c.push(d=[]),m=!0,_=!1,v=g=NaN}function k(){u&&(O(f,h),p&&_&&x.rejoin(),u.push(x.result())),w.point=S,_&&b.lineEnd()}function O(t,a){var s=i(t,a);if(c&&d.push([t,a]),m)f=t,h=a,p=s,m=!1,s&&(b.lineStart(),b.point(t,a));else if(s&&_)b.point(t,a);else{var u=[v=Math.max(kt,Math.min(Pt,v)),g=Math.max(kt,Math.min(Pt,g))],l=[t=Math.max(kt,Math.min(Pt,t)),a=Math.max(kt,Math.min(Pt,a))];Tt(u,l,e,n,r,o)?(_||(b.lineStart(),b.point(u[0],u[1])),b.point(l[0],l[1]),s||b.lineEnd(),y=!1):s&&(b.lineStart(),b.point(t,a),y=!1)}v=t,g=a,_=s}return w}}function Ct(){var e,t,n,r=0,o=0,i=960,a=500;return n={stream:function(n){return e&&t===n?e:e=Ot(r,o,i,a)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],o=+s[0][1],i=+s[1][0],a=+s[1][1],e=t=null,n):[[r,o],[i,a]]}}}var At,Mt,Rt,Lt=n(),It={sphere:O,point:O,lineStart:Nt,lineEnd:O,polygonStart:O,polygonEnd:O};function Nt(){It.point=zt,It.lineEnd=Dt}function Dt(){It.point=It.lineEnd=O}function zt(e,t){e*=h,t*=h,At=e,Mt=w(t),Rt=_(t),It.point=Ft}function Ft(e,t){e*=h,t*=h;var n=w(t),r=_(t),o=p(e-At),i=_(o),a=w(o),s=r*a,u=Rt*n-Mt*r*i,l=Mt*n+Rt*r*i;Lt.add(g(E(s*s+u*u),l)),At=e,Mt=n,Rt=r}function Bt(e){return Lt.reset(),I(e,It),+Lt}var Ut=[null,null],Ht={type:"LineString",coordinates:Ut};function Vt(e,t){return Ut[0]=e,Ut[1]=t,Bt(Ht)}var Gt={Feature:function(e,t){return Xt(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,r=-1,o=n.length;while(++r<o)if(Xt(n[r].geometry,t))return!0;return!1}},qt={Sphere:function(){return!0},Point:function(e,t){return Yt(e.coordinates,t)},MultiPoint:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)if(Yt(n[r],t))return!0;return!1},LineString:function(e,t){return Wt(e.coordinates,t)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)if(Wt(n[r],t))return!0;return!1},Polygon:function(e,t){return Zt(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)if(Zt(n[r],t))return!0;return!1},GeometryCollection:function(e,t){var n=e.geometries,r=-1,o=n.length;while(++r<o)if(Xt(n[r],t))return!0;return!1}};function Xt(e,t){return!(!e||!qt.hasOwnProperty(e.type))&&qt[e.type](e,t)}function Yt(e,t){return 0===Vt(e,t)}function Wt(e,t){for(var n,r,o,i=0,a=e.length;i<a;i++){if(r=Vt(e[i],t),0===r)return!0;if(i>0&&(o=Vt(e[i],e[i-1]),o>0&&n<=o&&r<=o&&(n+r-o)*(1-Math.pow((n-r)/o,2))<s*o))return!0;n=r}return!1}function Zt(e,t){return!!_t(e.map(Kt),Qt(t))}function Kt(e){return e=e.map(Qt),e.pop(),e}function Qt(e){return[e[0]*h,e[1]*h]}function Jt(e,t){return(e&&Gt.hasOwnProperty(e.type)?Gt[e.type]:Xt)(e,t)}function $t(e,n,r){var o=t.range(e,n-a,r).concat(n);return function(e){return o.map((function(t){return[e,t]}))}}function en(e,n,r){var o=t.range(e,n-a,r).concat(n);return function(e){return o.map((function(t){return[t,e]}))}}function tn(){var e,n,r,o,i,s,u,l,c,d,f,h,v=10,g=v,_=90,y=360,b=2.5;function x(){return{type:"MultiLineString",coordinates:w()}}function w(){return t.range(m(o/_)*_,r,_).map(f).concat(t.range(m(l/y)*y,u,y).map(h)).concat(t.range(m(n/v)*v,e,v).filter((function(e){return p(e%_)>a})).map(c)).concat(t.range(m(s/g)*g,i,g).filter((function(e){return p(e%y)>a})).map(d))}return x.lines=function(){return w().map((function(e){return{type:"LineString",coordinates:e}}))},x.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(h(u).slice(1),f(r).reverse().slice(1),h(l).reverse().slice(1))]}},x.extent=function(e){return arguments.length?x.extentMajor(e).extentMinor(e):x.extentMinor()},x.extentMajor=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],l=+e[0][1],u=+e[1][1],o>r&&(e=o,o=r,r=e),l>u&&(e=l,l=u,u=e),x.precision(b)):[[o,l],[r,u]]},x.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],s=+t[0][1],i=+t[1][1],n>e&&(t=n,n=e,e=t),s>i&&(t=s,s=i,i=t),x.precision(b)):[[n,s],[e,i]]},x.step=function(e){return arguments.length?x.stepMajor(e).stepMinor(e):x.stepMinor()},x.stepMajor=function(e){return arguments.length?(_=+e[0],y=+e[1],x):[_,y]},x.stepMinor=function(e){return arguments.length?(v=+e[0],g=+e[1],x):[v,g]},x.precision=function(t){return arguments.length?(b=+t,c=$t(s,i,90),d=en(n,e,b),f=$t(l,u,90),h=en(o,r,b),x):b},x.extentMajor([[-180,-90+a],[180,90-a]]).extentMinor([[-180,-80-a],[180,80+a]])}function nn(){return tn()()}function rn(e,t){var n=e[0]*h,r=e[1]*h,o=t[0]*h,i=t[1]*h,a=_(r),s=w(r),u=_(i),l=w(i),c=a*_(n),d=a*w(n),p=u*_(o),v=u*w(o),m=2*P(E(k(i-r)+a*u*k(o-n))),y=w(m),b=m?function(e){var t=w(e*=m)/y,n=w(m-e)/y,r=n*c+t*p,o=n*d+t*v,i=n*s+t*l;return[g(o,r)*f,g(i,E(r*r+o*o))*f]}:function(){return[n*f,r*f]};return b.distance=m,b}function on(e){return e}var an,sn,un,ln,cn=n(),dn=n(),fn={point:O,lineStart:O,lineEnd:O,polygonStart:function(){fn.lineStart=hn,fn.lineEnd=gn},polygonEnd:function(){fn.lineStart=fn.lineEnd=fn.point=O,cn.add(p(dn)),dn.reset()},result:function(){var e=cn/2;return cn.reset(),e}};function hn(){fn.point=pn}function pn(e,t){fn.point=vn,an=un=e,sn=ln=t}function vn(e,t){dn.add(ln*e-un*t),un=e,ln=t}function gn(){vn(an,sn)}var _n=1/0,mn=_n,yn=-_n,bn=yn,xn={point:wn,lineStart:O,lineEnd:O,polygonStart:O,polygonEnd:O,result:function(){var e=[[_n,mn],[yn,bn]];return yn=bn=-(mn=_n=1/0),e}};function wn(e,t){e<_n&&(_n=e),e>yn&&(yn=e),t<mn&&(mn=t),t>bn&&(bn=t)}var Sn,En,jn,Tn,Pn=0,kn=0,On=0,Cn=0,An=0,Mn=0,Rn=0,Ln=0,In=0,Nn={point:Dn,lineStart:zn,lineEnd:Un,polygonStart:function(){Nn.lineStart=Hn,Nn.lineEnd=Vn},polygonEnd:function(){Nn.point=Dn,Nn.lineStart=zn,Nn.lineEnd=Un},result:function(){var e=In?[Rn/In,Ln/In]:Mn?[Cn/Mn,An/Mn]:On?[Pn/On,kn/On]:[NaN,NaN];return Pn=kn=On=Cn=An=Mn=Rn=Ln=In=0,e}};function Dn(e,t){Pn+=e,kn+=t,++On}function zn(){Nn.point=Fn}function Fn(e,t){Nn.point=Bn,Dn(jn=e,Tn=t)}function Bn(e,t){var n=e-jn,r=t-Tn,o=E(n*n+r*r);Cn+=o*(jn+e)/2,An+=o*(Tn+t)/2,Mn+=o,Dn(jn=e,Tn=t)}function Un(){Nn.point=Dn}function Hn(){Nn.point=Gn}function Vn(){qn(Sn,En)}function Gn(e,t){Nn.point=qn,Dn(Sn=jn=e,En=Tn=t)}function qn(e,t){var n=e-jn,r=t-Tn,o=E(n*n+r*r);Cn+=o*(jn+e)/2,An+=o*(Tn+t)/2,Mn+=o,o=Tn*e-jn*t,Rn+=o*(jn+e),Ln+=o*(Tn+t),In+=3*o,Dn(jn=e,Tn=t)}function Xn(e){this._context=e}Xn.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,d);break}},result:O};var Yn,Wn,Zn,Kn,Qn,Jn=n(),$n={point:O,lineStart:function(){$n.point=er},lineEnd:function(){Yn&&tr(Wn,Zn),$n.point=O},polygonStart:function(){Yn=!0},polygonEnd:function(){Yn=null},result:function(){var e=+Jn;return Jn.reset(),e}};function er(e,t){$n.point=tr,Wn=Kn=e,Zn=Qn=t}function tr(e,t){Kn-=e,Qn-=t,Jn.add(E(Kn*Kn+Qn*Qn)),Kn=e,Qn=t}function nr(){this._string=[]}function rr(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function or(e,t){var n,r,o=4.5;function i(e){return e&&("function"===typeof o&&r.pointRadius(+o.apply(this,arguments)),I(e,n(r))),r.result()}return i.area=function(e){return I(e,n(fn)),fn.result()},i.measure=function(e){return I(e,n($n)),$n.result()},i.bounds=function(e){return I(e,n(xn)),xn.result()},i.centroid=function(e){return I(e,n(Nn)),Nn.result()},i.projection=function(t){return arguments.length?(n=null==t?(e=null,on):(e=t).stream,i):e},i.context=function(e){return arguments.length?(r=null==e?(t=null,new nr):new Xn(t=e),"function"!==typeof o&&r.pointRadius(o),i):t},i.pointRadius=function(e){return arguments.length?(o="function"===typeof e?e:(r.pointRadius(+e),+e),i):o},i.projection(e).context(t)}function ir(e){return{stream:ar(e)}}function ar(e){return function(t){var n=new sr;for(var r in e)n[r]=e[r];return n.stream=t,n}}function sr(){}function ur(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),I(n,e.stream(xn)),t(xn.result()),null!=r&&e.clipExtent(r),e}function lr(e,t,n){return ur(e,(function(n){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=Math.min(r/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),a=+t[0][0]+(r-i*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(o-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,s])}),n)}function cr(e,t,n){return lr(e,[[0,0],t],n)}function dr(e,t,n){return ur(e,(function(n){var r=+t,o=r/(n[1][0]-n[0][0]),i=(r-o*(n[1][0]+n[0][0]))/2,a=-o*n[0][1];e.scale(150*o).translate([i,a])}),n)}function fr(e,t,n){return ur(e,(function(n){var r=+t,o=r/(n[1][1]-n[0][1]),i=-o*n[0][0],a=(r-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([i,a])}),n)}nr.prototype={_radius:4.5,_circle:rr(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=rr(this._radius)),this._string.push("M",e,",",t,this._circle);break}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},sr.prototype={constructor:sr,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var hr=16,pr=_(30*h);function vr(e,t){return+t?_r(e,t):gr(e)}function gr(e){return ar({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function _r(e,t){function n(r,o,i,s,u,l,c,d,f,h,v,_,m,y){var b=c-r,x=d-o,w=b*b+x*x;if(w>4*t&&m--){var S=s+h,j=u+v,T=l+_,k=E(S*S+j*j+T*T),O=P(T/=k),C=p(p(T)-1)<a||p(i-f)<a?(i+f)/2:g(j,S),A=e(C,O),M=A[0],R=A[1],L=M-r,I=R-o,N=x*L-b*I;(N*N/w>t||p((b*L+x*I)/w-.5)>.3||s*h+u*v+l*_<pr)&&(n(r,o,i,s,u,l,M,R,C,S/=k,j/=k,T,m,y),y.point(M,R),n(M,R,C,S,j,T,c,d,f,h,v,_,m,y))}}return function(t){var r,o,i,a,s,u,l,c,d,f,h,p,v={point:g,lineStart:_,lineEnd:y,polygonStart:function(){t.polygonStart(),v.lineStart=b},polygonEnd:function(){t.polygonEnd(),v.lineStart=_}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function _(){c=NaN,v.point=m,t.lineStart()}function m(r,o){var i=K([r,o]),a=e(r,o);n(c,d,l,f,h,p,c=a[0],d=a[1],l=r,f=i[0],h=i[1],p=i[2],hr,t),t.point(c,d)}function y(){v.point=g,t.lineEnd()}function b(){_(),v.point=x,v.lineEnd=w}function x(e,t){m(r=e,t),o=c,i=d,a=f,s=h,u=p,v.point=m}function w(){n(c,d,l,f,h,p,o,i,r,a,s,u,hr,t),v.lineEnd=y,y()}return v}}var mr=ar({point:function(e,t){this.stream.point(e*h,t*h)}});function yr(e){return ar({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function br(e,t,n){function r(r,o){return[t+e*r,n-e*o]}return r.invert=function(r,o){return[(r-t)/e,(n-o)/e]},r}function xr(e,t,n,r){var o=_(r),i=w(r),a=o*e,s=i*e,u=o/e,l=i/e,c=(i*n-o*t)/e,d=(i*t+o*n)/e;function f(e,r){return[a*e-s*r+t,n-s*e-a*r]}return f.invert=function(e,t){return[u*e-l*t+c,d-l*e-u*t]},f}function wr(e){return Sr((function(){return e}))()}function Sr(e){var t,n,r,o,i,a,s,u,l,c,d=150,p=480,v=250,g=0,_=0,m=0,y=0,b=0,x=0,w=null,S=xt,j=null,T=on,P=.5;function k(e){return u(e[0]*h,e[1]*h)}function O(e){return e=u.invert(e[0],e[1]),e&&[e[0]*f,e[1]*f]}function C(){var e=xr(d,0,0,x).apply(null,t(g,_)),r=(x?xr:br)(d,p-e[0],v-e[1],x);return n=nt(m,y,b),s=et(t,r),u=et(n,s),a=vr(s,P),A()}function A(){return l=c=null,k}return k.stream=function(e){return l&&c===e?l:l=mr(yr(n)(S(a(T(c=e)))))},k.preclip=function(e){return arguments.length?(S=e,w=void 0,A()):S},k.postclip=function(e){return arguments.length?(T=e,j=r=o=i=null,A()):T},k.clipAngle=function(e){return arguments.length?(S=+e?jt(w=e*h):(w=null,xt),A()):w*f},k.clipExtent=function(e){return arguments.length?(T=null==e?(j=r=o=i=null,on):Ot(j=+e[0][0],r=+e[0][1],o=+e[1][0],i=+e[1][1]),A()):null==j?null:[[j,r],[o,i]]},k.scale=function(e){return arguments.length?(d=+e,C()):d},k.translate=function(e){return arguments.length?(p=+e[0],v=+e[1],C()):[p,v]},k.center=function(e){return arguments.length?(g=e[0]%360*h,_=e[1]%360*h,C()):[g*f,_*f]},k.rotate=function(e){return arguments.length?(m=e[0]%360*h,y=e[1]%360*h,b=e.length>2?e[2]%360*h:0,C()):[m*f,y*f,b*f]},k.angle=function(e){return arguments.length?(x=e%360*h,C()):x*f},k.precision=function(e){return arguments.length?(a=vr(s,P=e*e),A()):E(P)},k.fitExtent=function(e,t){return lr(k,e,t)},k.fitSize=function(e,t){return cr(k,e,t)},k.fitWidth=function(e,t){return dr(k,e,t)},k.fitHeight=function(e,t){return fr(k,e,t)},function(){return t=e.apply(this,arguments),k.invert=t.invert&&O,C()}}function Er(e){var t=0,n=u/3,r=Sr(e),o=r(t,n);return o.parallels=function(e){return arguments.length?r(t=e[0]*h,n=e[1]*h):[t*f,n*f]},o}function jr(e){var t=_(e);function n(e,n){return[e*t,w(n)/t]}return n.invert=function(e,n){return[e/t,P(n*t)]},n}function Tr(e,t){var n=w(e),r=(n+w(t))/2;if(p(r)<a)return jr(e);var o=1+n*(2*r-n),i=E(o)/r;function s(e,t){var n=E(o-2*r*w(t))/r;return[n*w(e*=r),i-n*_(e)]}return s.invert=function(e,t){var n=i-t;return[g(e,p(n))/r*S(n),P((o-(e*e+n*n)*r*r)/(2*r))]},s}function Pr(){return Er(Tr).scale(155.424).center([0,33.6442])}function kr(){return Pr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Or(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}function Cr(){var e,t,n,r,o,i,s=kr(),u=Pr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=Pr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){i=[e,t]}};function d(e){var t=e[0],a=e[1];return i=null,n.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function f(){return e=t=null,d}return d.invert=function(e){var t=s.scale(),n=s.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?u:o>=.166&&o<.234&&r>=-.214&&r<-.115?l:s).invert(e)},d.stream=function(n){return e&&t===n?e:e=Or([s.stream(t=n),u.stream(n),l.stream(n)])},d.precision=function(e){return arguments.length?(s.precision(e),u.precision(e),l.precision(e),f()):s.precision()},d.scale=function(e){return arguments.length?(s.scale(e),u.scale(.35*e),l.scale(e),d.translate(s.translate())):s.scale()},d.translate=function(e){if(!arguments.length)return s.translate();var t=s.scale(),i=+e[0],d=+e[1];return n=s.translate(e).clipExtent([[i-.455*t,d-.238*t],[i+.455*t,d+.238*t]]).stream(c),r=u.translate([i-.307*t,d+.201*t]).clipExtent([[i-.425*t+a,d+.12*t+a],[i-.214*t-a,d+.234*t-a]]).stream(c),o=l.translate([i-.205*t,d+.212*t]).clipExtent([[i-.214*t+a,d+.166*t+a],[i-.115*t-a,d+.234*t-a]]).stream(c),f()},d.fitExtent=function(e,t){return lr(d,e,t)},d.fitSize=function(e,t){return cr(d,e,t)},d.fitWidth=function(e,t){return dr(d,e,t)},d.fitHeight=function(e,t){return fr(d,e,t)},d.scale(1070)}function Ar(e){return function(t,n){var r=_(t),o=_(n),i=e(r*o);return[i*o*w(t),i*w(n)]}}function Mr(e){return function(t,n){var r=E(t*t+n*n),o=e(r),i=w(o),a=_(o);return[g(t*i,r*a),P(r&&n*i/r)]}}var Rr=Ar((function(e){return E(2/(1+e))}));function Lr(){return wr(Rr).scale(124.75).clipAngle(179.999)}Rr.invert=Mr((function(e){return 2*P(e/2)}));var Ir=Ar((function(e){return(e=T(e))&&e/w(e)}));function Nr(){return wr(Ir).scale(79.4188).clipAngle(179.999)}function Dr(e,t){return[e,b(j((l+t)/2))]}function zr(){return Fr(Dr).scale(961/d)}function Fr(e){var t,n,r,o=wr(e),i=o.center,a=o.scale,s=o.translate,l=o.clipExtent,c=null;function d(){var i=u*a(),s=o(at(o.rotate()).invert([0,0]));return l(null==c?[[s[0]-i,s[1]-i],[s[0]+i,s[1]+i]]:e===Dr?[[Math.max(s[0]-i,c),t],[Math.min(s[0]+i,n),r]]:[[c,Math.max(s[1]-i,t)],[n,Math.min(s[1]+i,r)]])}return o.scale=function(e){return arguments.length?(a(e),d()):a()},o.translate=function(e){return arguments.length?(s(e),d()):s()},o.center=function(e){return arguments.length?(i(e),d()):i()},o.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),d()):null==c?null:[[c,t],[n,r]]},d()}function Br(e){return j((l+e)/2)}function Ur(e,t){var n=_(e),r=e===t?w(e):b(n/_(t))/b(Br(t)/Br(e)),o=n*x(Br(e),r)/r;if(!r)return Dr;function i(e,t){o>0?t<-l+a&&(t=-l+a):t>l-a&&(t=l-a);var n=o/x(Br(t),r);return[n*w(r*e),o-n*_(r*e)]}return i.invert=function(e,t){var n=o-t,i=S(r)*E(e*e+n*n);return[g(e,p(n))/r*S(n),2*v(x(o/i,1/r))-l]},i}function Hr(){return Er(Ur).scale(109.5).parallels([30,30])}function Vr(e,t){return[e,t]}function Gr(){return wr(Vr).scale(152.63)}function qr(e,t){var n=_(e),r=e===t?w(e):(n-_(t))/(t-e),o=n/r+e;if(p(r)<a)return Vr;function i(e,t){var n=o-t,i=r*e;return[n*w(i),o-n*_(i)]}return i.invert=function(e,t){var n=o-t;return[g(e,p(n))/r*S(n),o-S(r)*E(e*e+n*n)]},i}function Xr(){return Er(qr).scale(131.154).center([0,13.9389])}Ir.invert=Mr((function(e){return e})),Dr.invert=function(e,t){return[e,2*v(y(t))-l]},Vr.invert=Vr;var Yr=1.340264,Wr=-.081106,Zr=893e-6,Kr=.003796,Qr=E(3)/2,Jr=12;function $r(e,t){var n=P(Qr*w(t)),r=n*n,o=r*r*r;return[e*_(n)/(Qr*(Yr+3*Wr*r+o*(7*Zr+9*Kr*r))),n*(Yr+Wr*r+o*(Zr+Kr*r))]}function eo(){return wr($r).scale(177.158)}function to(e,t){var n=_(t),r=_(e)*n;return[n*w(e)/r,w(t)/r]}function no(){return wr(to).scale(144.049).clipAngle(60)}function ro(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?on:ar({point:function(o,i){this.stream.point(o*e+n,i*t+r)}})}function oo(){var e,t,n,r,o,i,a=1,s=0,u=0,l=1,c=1,d=on,f=null,h=on;function p(){return r=o=null,i}return i={stream:function(e){return r&&o===e?r:r=d(h(o=e))},postclip:function(r){return arguments.length?(h=r,f=e=t=n=null,p()):h},clipExtent:function(r){return arguments.length?(h=null==r?(f=e=t=n=null,on):Ot(f=+r[0][0],e=+r[0][1],t=+r[1][0],n=+r[1][1]),p()):null==f?null:[[f,e],[t,n]]},scale:function(e){return arguments.length?(d=ro((a=+e)*l,a*c,s,u),p()):a},translate:function(e){return arguments.length?(d=ro(a*l,a*c,s=+e[0],u=+e[1]),p()):[s,u]},reflectX:function(e){return arguments.length?(d=ro(a*(l=e?-1:1),a*c,s,u),p()):l<0},reflectY:function(e){return arguments.length?(d=ro(a*l,a*(c=e?-1:1),s,u),p()):c<0},fitExtent:function(e,t){return lr(i,e,t)},fitSize:function(e,t){return cr(i,e,t)},fitWidth:function(e,t){return dr(i,e,t)},fitHeight:function(e,t){return fr(i,e,t)}}}function io(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function ao(){return wr(io).scale(175.295)}function so(e,t){return[_(t)*w(e),w(t)]}function uo(){return wr(so).scale(249.5).clipAngle(90+a)}function lo(e,t){var n=_(t),r=1+_(e)*n;return[n*w(e)/r,w(t)/r]}function co(){return wr(lo).scale(250).clipAngle(142)}function fo(e,t){return[b(j((l+t)/2)),-e]}function ho(){var e=Fr(fo),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90]).scale(159.155)}$r.invert=function(e,t){for(var n,r,o,i=t,a=i*i,u=a*a*a,l=0;l<Jr;++l)if(r=i*(Yr+Wr*a+u*(Zr+Kr*a))-t,o=Yr+3*Wr*a+u*(7*Zr+9*Kr*a),i-=n=r/o,a=i*i,u=a*a*a,p(n)<s)break;return[Qr*e*(Yr+3*Wr*a+u*(7*Zr+9*Kr*a))/_(i),P(w(i)/Qr)]},to.invert=Mr(v),io.invert=function(e,t){var n,r=t,o=25;do{var i=r*r,s=i*i;r-=n=(r*(1.007226+i*(.015085+s*(.028874*i-.044475-.005916*s)))-t)/(1.007226+i*(.045255+s*(.259866*i-.311325-.005916*11*s)))}while(p(n)>a&&--o>0);return[e/(.8707+(i=r*r)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),r]},so.invert=Mr(P),lo.invert=Mr((function(e){return 2*v(e)})),fo.invert=function(e,t){return[-t,2*v(y(e))-l]},e.geoAlbers=kr,e.geoAlbersUsa=Cr,e.geoArea=W,e.geoAzimuthalEqualArea=Lr,e.geoAzimuthalEqualAreaRaw=Rr,e.geoAzimuthalEquidistant=Nr,e.geoAzimuthalEquidistantRaw=Ir,e.geoBounds=Be,e.geoCentroid=Je,e.geoCircle=lt,e.geoClipAntimeridian=xt,e.geoClipCircle=jt,e.geoClipExtent=Ct,e.geoClipRectangle=Ot,e.geoConicConformal=Hr,e.geoConicConformalRaw=Ur,e.geoConicEqualArea=Pr,e.geoConicEqualAreaRaw=Tr,e.geoConicEquidistant=Xr,e.geoConicEquidistantRaw=qr,e.geoContains=Jt,e.geoDistance=Vt,e.geoEqualEarth=eo,e.geoEqualEarthRaw=$r,e.geoEquirectangular=Gr,e.geoEquirectangularRaw=Vr,e.geoGnomonic=no,e.geoGnomonicRaw=to,e.geoGraticule=tn,e.geoGraticule10=nn,e.geoIdentity=oo,e.geoInterpolate=rn,e.geoLength=Bt,e.geoMercator=zr,e.geoMercatorRaw=Dr,e.geoNaturalEarth1=ao,e.geoNaturalEarth1Raw=io,e.geoOrthographic=uo,e.geoOrthographicRaw=so,e.geoPath=or,e.geoProjection=wr,e.geoProjectionMutator=Sr,e.geoRotation=at,e.geoStereographic=co,e.geoStereographicRaw=lo,e.geoStream=I,e.geoTransform=ir,e.geoTransverseMercator=ho,e.geoTransverseMercatorRaw=fo,Object.defineProperty(e,"__esModule",{value:!0})}))},"./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js":function(e,t,n){(function(e,r){r(t,n("./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js"))})(0,(function(e,t){"use strict";var n=function(){return new r};function r(){this.reset()}r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(e){i(o,e,this.t),i(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new r;function i(e,t,n){var r=e.s=t+n,o=r-t,i=r-o;e.t=t-i+(n-o)}var a=1e-6,s=1e-12,u=Math.PI,l=u/2,c=u/4,d=2*u,f=180/u,h=u/180,p=Math.abs,v=Math.atan,g=Math.atan2,_=Math.cos,m=Math.ceil,y=Math.exp,b=Math.log,x=Math.pow,w=Math.sin,S=Math.sign||function(e){return e>0?1:e<0?-1:0},E=Math.sqrt,j=Math.tan;function T(e){return e>1?0:e<-1?u:Math.acos(e)}function P(e){return e>1?l:e<-1?-l:Math.asin(e)}function k(e){return(e=w(e/2))*e}function O(){}function C(e,t){e&&M.hasOwnProperty(e.type)&&M[e.type](e,t)}var A={Feature:function(e,t){C(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,r=-1,o=n.length;while(++r<o)C(n[r].geometry,t)}},M={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){R(e.coordinates,t,0)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)R(n[r],t,0)},Polygon:function(e,t){L(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)L(n[r],t)},GeometryCollection:function(e,t){var n=e.geometries,r=-1,o=n.length;while(++r<o)C(n[r],t)}};function R(e,t,n){var r,o=-1,i=e.length-n;t.lineStart();while(++o<i)r=e[o],t.point(r[0],r[1],r[2]);t.lineEnd()}function L(e,t){var n=-1,r=e.length;t.polygonStart();while(++n<r)R(e[n],t,1);t.polygonEnd()}var I,N,D,z,F,B=function(e,t){e&&A.hasOwnProperty(e.type)?A[e.type](e,t):C(e,t)},U=n(),H=n(),V={point:O,lineStart:O,lineEnd:O,polygonStart:function(){U.reset(),V.lineStart=G,V.lineEnd=q},polygonEnd:function(){var e=+U;H.add(e<0?d+e:e),this.lineStart=this.lineEnd=this.point=O},sphere:function(){H.add(d)}};function G(){V.point=X}function q(){Y(I,N)}function X(e,t){V.point=Y,I=e,N=t,e*=h,t*=h,D=e,z=_(t=t/2+c),F=w(t)}function Y(e,t){e*=h,t*=h,t=t/2+c;var n=e-D,r=n>=0?1:-1,o=r*n,i=_(t),a=w(t),s=F*a,u=z*i+s*_(o),l=s*r*w(o);U.add(g(l,u)),D=e,z=i,F=a}var W,Z,K,Q,J,$,ee,te,ne=function(e){return H.reset(),B(e,V),2*H};function re(e){return[g(e[1],e[0]),P(e[2])]}function oe(e){var t=e[0],n=e[1],r=_(n);return[r*_(t),r*w(t),w(n)]}function ie(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ae(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function se(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ue(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function le(e){var t=E(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var ce,de,fe=n(),he={point:pe,lineStart:ge,lineEnd:_e,polygonStart:function(){he.point=me,he.lineStart=ye,he.lineEnd=be,fe.reset(),V.polygonStart()},polygonEnd:function(){V.polygonEnd(),he.point=pe,he.lineStart=ge,he.lineEnd=_e,U<0?(W=-(K=180),Z=-(Q=90)):fe>a?Q=90:fe<-a&&(Z=-90),de[0]=W,de[1]=K}};function pe(e,t){ce.push(de=[W=e,K=e]),t<Z&&(Z=t),t>Q&&(Q=t)}function ve(e,t){var n=oe([e*h,t*h]);if(te){var r=ae(te,n),o=[r[1],-r[0],0],i=ae(o,r);le(i),i=re(i);var a,s=e-J,u=s>0?1:-1,l=i[0]*f*u,c=p(s)>180;c^(u*J<l&&l<u*e)?(a=i[1]*f,a>Q&&(Q=a)):(l=(l+360)%360-180,c^(u*J<l&&l<u*e)?(a=-i[1]*f,a<Z&&(Z=a)):(t<Z&&(Z=t),t>Q&&(Q=t))),c?e<J?xe(W,e)>xe(W,K)&&(K=e):xe(e,K)>xe(W,K)&&(W=e):K>=W?(e<W&&(W=e),e>K&&(K=e)):e>J?xe(W,e)>xe(W,K)&&(K=e):xe(e,K)>xe(W,K)&&(W=e)}else ce.push(de=[W=e,K=e]);t<Z&&(Z=t),t>Q&&(Q=t),te=n,J=e}function ge(){he.point=ve}function _e(){de[0]=W,de[1]=K,he.point=pe,te=null}function me(e,t){if(te){var n=e-J;fe.add(p(n)>180?n+(n>0?360:-360):n)}else $=e,ee=t;V.point(e,t),ve(e,t)}function ye(){V.lineStart()}function be(){me($,ee),V.lineEnd(),p(fe)>a&&(W=-(K=180)),de[0]=W,de[1]=K,te=null}function xe(e,t){return(t-=e)<0?t+360:t}function we(e,t){return e[0]-t[0]}function Se(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var Ee,je,Te,Pe,ke,Oe,Ce,Ae,Me,Re,Le,Ie,Ne,De,ze,Fe,Be=function(e){var t,n,r,o,i,a,s;if(Q=K=-(W=Z=1/0),ce=[],B(e,he),n=ce.length){for(ce.sort(we),t=1,r=ce[0],i=[r];t<n;++t)o=ce[t],Se(r,o[0])||Se(r,o[1])?(xe(r[0],o[1])>xe(r[0],r[1])&&(r[1]=o[1]),xe(o[0],r[1])>xe(r[0],r[1])&&(r[0]=o[0])):i.push(r=o);for(a=-1/0,n=i.length-1,t=0,r=i[n];t<=n;r=o,++t)o=i[t],(s=xe(r[1],o[0]))>a&&(a=s,W=o[0],K=r[1])}return ce=de=null,W===1/0||Z===1/0?[[NaN,NaN],[NaN,NaN]]:[[W,Z],[K,Q]]},Ue={sphere:O,point:He,lineStart:Ge,lineEnd:Ye,polygonStart:function(){Ue.lineStart=We,Ue.lineEnd=Ze},polygonEnd:function(){Ue.lineStart=Ge,Ue.lineEnd=Ye}};function He(e,t){e*=h,t*=h;var n=_(t);Ve(n*_(e),n*w(e),w(t))}function Ve(e,t,n){++Ee,Te+=(e-Te)/Ee,Pe+=(t-Pe)/Ee,ke+=(n-ke)/Ee}function Ge(){Ue.point=qe}function qe(e,t){e*=h,t*=h;var n=_(t);De=n*_(e),ze=n*w(e),Fe=w(t),Ue.point=Xe,Ve(De,ze,Fe)}function Xe(e,t){e*=h,t*=h;var n=_(t),r=n*_(e),o=n*w(e),i=w(t),a=g(E((a=ze*i-Fe*o)*a+(a=Fe*r-De*i)*a+(a=De*o-ze*r)*a),De*r+ze*o+Fe*i);je+=a,Oe+=a*(De+(De=r)),Ce+=a*(ze+(ze=o)),Ae+=a*(Fe+(Fe=i)),Ve(De,ze,Fe)}function Ye(){Ue.point=He}function We(){Ue.point=Ke}function Ze(){Qe(Ie,Ne),Ue.point=He}function Ke(e,t){Ie=e,Ne=t,e*=h,t*=h,Ue.point=Qe;var n=_(t);De=n*_(e),ze=n*w(e),Fe=w(t),Ve(De,ze,Fe)}function Qe(e,t){e*=h,t*=h;var n=_(t),r=n*_(e),o=n*w(e),i=w(t),a=ze*i-Fe*o,s=Fe*r-De*i,u=De*o-ze*r,l=E(a*a+s*s+u*u),c=P(l),d=l&&-c/l;Me+=d*a,Re+=d*s,Le+=d*u,je+=c,Oe+=c*(De+(De=r)),Ce+=c*(ze+(ze=o)),Ae+=c*(Fe+(Fe=i)),Ve(De,ze,Fe)}var Je=function(e){Ee=je=Te=Pe=ke=Oe=Ce=Ae=Me=Re=Le=0,B(e,Ue);var t=Me,n=Re,r=Le,o=t*t+n*n+r*r;return o<s&&(t=Oe,n=Ce,r=Ae,je<a&&(t=Te,n=Pe,r=ke),o=t*t+n*n+r*r,o<s)?[NaN,NaN]:[g(n,t)*f,P(r/E(o))*f]},$e=function(e){return function(){return e}},et=function(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n};function tt(e,t){return[e>u?e-d:e<-u?e+d:e,t]}function nt(e,t,n){return(e%=d)?t||n?et(ot(e),it(t,n)):ot(e):t||n?it(t,n):tt}function rt(e){return function(t,n){return t+=e,[t>u?t-d:t<-u?t+d:t,n]}}function ot(e){var t=rt(e);return t.invert=rt(-e),t}function it(e,t){var n=_(e),r=w(e),o=_(t),i=w(t);function a(e,t){var a=_(t),s=_(e)*a,u=w(e)*a,l=w(t),c=l*n+s*r;return[g(u*o-c*i,s*n-l*r),P(c*o+u*i)]}return a.invert=function(e,t){var a=_(t),s=_(e)*a,u=w(e)*a,l=w(t),c=l*o-u*i;return[g(u*o+l*i,s*n+c*r),P(c*n-s*r)]},a}tt.invert=tt;var at=function(e){function t(t){return t=e(t[0]*h,t[1]*h),t[0]*=f,t[1]*=f,t}return e=nt(e[0]*h,e[1]*h,e.length>2?e[2]*h:0),t.invert=function(t){return t=e.invert(t[0]*h,t[1]*h),t[0]*=f,t[1]*=f,t},t};function st(e,t,n,r,o,i){if(n){var a=_(t),s=w(t),u=r*n;null==o?(o=t+r*d,i=t-u/2):(o=ut(a,o),i=ut(a,i),(r>0?o<i:o>i)&&(o+=r*d));for(var l,c=o;r>0?c>i:c<i;c-=u)l=re([a,-s*_(c),-s*w(c)]),e.point(l[0],l[1])}}function ut(e,t){t=oe(t),t[0]-=e,le(t);var n=T(-t[1]);return((-t[2]<0?-n:n)+d-a)%d}var lt=function(){var e,t,n=$e([0,0]),r=$e(90),o=$e(6),i={point:a};function a(n,r){e.push(n=t(n,r)),n[0]*=f,n[1]*=f}function s(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*h,u=o.apply(this,arguments)*h;return e=[],t=nt(-a[0]*h,-a[1]*h,0).invert,st(i,s,u,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return s.center=function(e){return arguments.length?(n="function"===typeof e?e:$e([+e[0],+e[1]]),s):n},s.radius=function(e){return arguments.length?(r="function"===typeof e?e:$e(+e),s):r},s.precision=function(e){return arguments.length?(o="function"===typeof e?e:$e(+e),s):o},s},ct=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:O,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},dt=function(e,t,n,r,o,i){var a,s=e[0],u=e[1],l=t[0],c=t[1],d=0,f=1,h=l-s,p=c-u;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<d)return;a<f&&(f=a)}else if(h>0){if(a>f)return;a>d&&(d=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>f)return;a>d&&(d=a)}else if(h>0){if(a<d)return;a<f&&(f=a)}if(a=r-u,p||!(a>0)){if(a/=p,p<0){if(a<d)return;a<f&&(f=a)}else if(p>0){if(a>f)return;a>d&&(d=a)}if(a=i-u,p||!(a<0)){if(a/=p,p<0){if(a>f)return;a>d&&(d=a)}else if(p>0){if(a<d)return;a<f&&(f=a)}return d>0&&(e[0]=s+d*h,e[1]=u+d*p),f<1&&(t[0]=s+f*h,t[1]=u+f*p),!0}}}}},ft=function(e,t){return p(e[0]-t[0])<a&&p(e[1]-t[1])<a};function ht(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var pt=function(e,t,n,r,o){var i,a,s=[],u=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(ft(r,a)){for(o.lineStart(),i=0;i<t;++i)o.point((r=e[i])[0],r[1]);o.lineEnd()}else s.push(n=new ht(r,e,null,!0)),u.push(n.o=new ht(r,null,n,!1)),s.push(n=new ht(a,e,null,!1)),u.push(n.o=new ht(a,null,n,!0))}})),s.length){for(u.sort(t),vt(s),vt(u),i=0,a=u.length;i<a;++i)u[i].e=n=!n;var l,c,d=s[0];while(1){var f=d,h=!0;while(f.v)if((f=f.n)===d)return;l=f.z,o.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(i=0,a=l.length;i<a;++i)o.point((c=l[i])[0],c[1]);else r(f.x,f.n.x,1,o);f=f.n}else{if(h)for(l=f.p.z,i=l.length-1;i>=0;--i)o.point((c=l[i])[0],c[1]);else r(f.x,f.p.x,-1,o);f=f.p}f=f.o,l=f.z,h=!h}while(!f.v);o.lineEnd()}}};function vt(e){if(t=e.length){var t,n,r=0,o=e[0];while(++r<t)o.n=n=e[r],n.p=o,o=n;o.n=n=e[0],n.p=o}}var gt=1e9,_t=-gt;function mt(e,n,r,o){function i(t,i){return e<=t&&t<=r&&n<=i&&i<=o}function s(t,i,a,s){var l=0,d=0;if(null==t||(l=u(t,a))!==(d=u(i,a))||c(t,i)<0^a>0)do{s.point(0===l||3===l?e:r,l>1?o:n)}while((l=(l+a+4)%4)!==d);else s.point(i[0],i[1])}function u(t,o){return p(t[0]-e)<a?o>0?0:3:p(t[0]-r)<a?o>0?2:1:p(t[1]-n)<a?o>0?1:0:o>0?3:2}function l(e,t){return c(e.x,t.x)}function c(e,t){var n=u(e,1),r=u(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var u,c,d,f,h,p,v,g,_,m,y,b=a,x=ct(),w={point:S,lineStart:P,lineEnd:k,polygonStart:j,polygonEnd:T};function S(e,t){i(e,t)&&b.point(e,t)}function E(){for(var t=0,n=0,r=c.length;n<r;++n)for(var i,a,s=c[n],u=1,l=s.length,d=s[0],f=d[0],h=d[1];u<l;++u)i=f,a=h,d=s[u],f=d[0],h=d[1],a<=o?h>o&&(f-i)*(o-a)>(h-a)*(e-i)&&++t:h<=o&&(f-i)*(o-a)<(h-a)*(e-i)&&--t;return t}function j(){b=x,u=[],c=[],y=!0}function T(){var e=E(),n=y&&e,r=(u=t.merge(u)).length;(n||r)&&(a.polygonStart(),n&&(a.lineStart(),s(null,null,1,a),a.lineEnd()),r&&pt(u,l,e,s,a),a.polygonEnd()),b=a,u=c=d=null}function P(){w.point=O,c&&c.push(d=[]),m=!0,_=!1,v=g=NaN}function k(){u&&(O(f,h),p&&_&&x.rejoin(),u.push(x.result())),w.point=S,_&&b.lineEnd()}function O(t,a){var s=i(t,a);if(c&&d.push([t,a]),m)f=t,h=a,p=s,m=!1,s&&(b.lineStart(),b.point(t,a));else if(s&&_)b.point(t,a);else{var u=[v=Math.max(_t,Math.min(gt,v)),g=Math.max(_t,Math.min(gt,g))],l=[t=Math.max(_t,Math.min(gt,t)),a=Math.max(_t,Math.min(gt,a))];dt(u,l,e,n,r,o)?(_||(b.lineStart(),b.point(u[0],u[1])),b.point(l[0],l[1]),s||b.lineEnd(),y=!1):s&&(b.lineStart(),b.point(t,a),y=!1)}v=t,g=a,_=s}return w}}var yt,bt,xt,wt=function(){var e,t,n,r=0,o=0,i=960,a=500;return n={stream:function(n){return e&&t===n?e:e=mt(r,o,i,a)(t=n)},extent:function(s){return arguments.length?(r=+s[0][0],o=+s[0][1],i=+s[1][0],a=+s[1][1],e=t=null,n):[[r,o],[i,a]]}}},St=n(),Et=function(e,t){var n=t[0],r=t[1],o=[w(n),-_(n),0],i=0,s=0;St.reset();for(var l=0,f=e.length;l<f;++l)if(p=(h=e[l]).length)for(var h,p,v=h[p-1],m=v[0],y=v[1]/2+c,b=w(y),x=_(y),S=0;S<p;++S,m=j,b=k,x=O,v=E){var E=h[S],j=E[0],T=E[1]/2+c,k=w(T),O=_(T),C=j-m,A=C>=0?1:-1,M=A*C,R=M>u,L=b*k;if(St.add(g(L*A*w(M),x*O+L*_(M))),i+=R?C+A*d:C,R^m>=n^j>=n){var I=ae(oe(v),oe(E));le(I);var N=ae(o,I);le(N);var D=(R^C>=0?-1:1)*P(N[2]);(r>D||r===D&&(I[0]||I[1]))&&(s+=R^C>=0?1:-1)}}return(i<-a||i<a&&St<-a)^1&s},jt=n(),Tt={sphere:O,point:O,lineStart:Pt,lineEnd:O,polygonStart:O,polygonEnd:O};function Pt(){Tt.point=Ot,Tt.lineEnd=kt}function kt(){Tt.point=Tt.lineEnd=O}function Ot(e,t){e*=h,t*=h,yt=e,bt=w(t),xt=_(t),Tt.point=Ct}function Ct(e,t){e*=h,t*=h;var n=w(t),r=_(t),o=p(e-yt),i=_(o),a=w(o),s=r*a,u=xt*n-bt*r*i,l=bt*n+xt*r*i;jt.add(g(E(s*s+u*u),l)),yt=e,bt=n,xt=r}var At=function(e){return jt.reset(),B(e,Tt),+jt},Mt=[null,null],Rt={type:"LineString",coordinates:Mt},Lt=function(e,t){return Mt[0]=e,Mt[1]=t,At(Rt)},It={Feature:function(e,t){return Dt(e.geometry,t)},FeatureCollection:function(e,t){var n=e.features,r=-1,o=n.length;while(++r<o)if(Dt(n[r].geometry,t))return!0;return!1}},Nt={Sphere:function(){return!0},Point:function(e,t){return zt(e.coordinates,t)},MultiPoint:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)if(zt(n[r],t))return!0;return!1},LineString:function(e,t){return Ft(e.coordinates,t)},MultiLineString:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)if(Ft(n[r],t))return!0;return!1},Polygon:function(e,t){return Bt(e.coordinates,t)},MultiPolygon:function(e,t){var n=e.coordinates,r=-1,o=n.length;while(++r<o)if(Bt(n[r],t))return!0;return!1},GeometryCollection:function(e,t){var n=e.geometries,r=-1,o=n.length;while(++r<o)if(Dt(n[r],t))return!0;return!1}};function Dt(e,t){return!(!e||!Nt.hasOwnProperty(e.type))&&Nt[e.type](e,t)}function zt(e,t){return 0===Lt(e,t)}function Ft(e,t){var n=Lt(e[0],e[1]),r=Lt(e[0],t),o=Lt(t,e[1]);return r+o<=n+a}function Bt(e,t){return!!Et(e.map(Ut),Ht(t))}function Ut(e){return e=e.map(Ht),e.pop(),e}function Ht(e){return[e[0]*h,e[1]*h]}var Vt=function(e,t){return(e&&It.hasOwnProperty(e.type)?It[e.type]:Dt)(e,t)};function Gt(e,n,r){var o=t.range(e,n-a,r).concat(n);return function(e){return o.map((function(t){return[e,t]}))}}function qt(e,n,r){var o=t.range(e,n-a,r).concat(n);return function(e){return o.map((function(t){return[t,e]}))}}function Xt(){var e,n,r,o,i,s,u,l,c,d,f,h,v=10,g=v,_=90,y=360,b=2.5;function x(){return{type:"MultiLineString",coordinates:w()}}function w(){return t.range(m(o/_)*_,r,_).map(f).concat(t.range(m(l/y)*y,u,y).map(h)).concat(t.range(m(n/v)*v,e,v).filter((function(e){return p(e%_)>a})).map(c)).concat(t.range(m(s/g)*g,i,g).filter((function(e){return p(e%y)>a})).map(d))}return x.lines=function(){return w().map((function(e){return{type:"LineString",coordinates:e}}))},x.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(h(u).slice(1),f(r).reverse().slice(1),h(l).reverse().slice(1))]}},x.extent=function(e){return arguments.length?x.extentMajor(e).extentMinor(e):x.extentMinor()},x.extentMajor=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],l=+e[0][1],u=+e[1][1],o>r&&(e=o,o=r,r=e),l>u&&(e=l,l=u,u=e),x.precision(b)):[[o,l],[r,u]]},x.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],s=+t[0][1],i=+t[1][1],n>e&&(t=n,n=e,e=t),s>i&&(t=s,s=i,i=t),x.precision(b)):[[n,s],[e,i]]},x.step=function(e){return arguments.length?x.stepMajor(e).stepMinor(e):x.stepMinor()},x.stepMajor=function(e){return arguments.length?(_=+e[0],y=+e[1],x):[_,y]},x.stepMinor=function(e){return arguments.length?(v=+e[0],g=+e[1],x):[v,g]},x.precision=function(t){return arguments.length?(b=+t,c=Gt(s,i,90),d=qt(n,e,b),f=Gt(l,u,90),h=qt(o,r,b),x):b},x.extentMajor([[-180,-90+a],[180,90-a]]).extentMinor([[-180,-80-a],[180,80+a]])}function Yt(){return Xt()()}var Wt,Zt,Kt,Qt,Jt=function(e,t){var n=e[0]*h,r=e[1]*h,o=t[0]*h,i=t[1]*h,a=_(r),s=w(r),u=_(i),l=w(i),c=a*_(n),d=a*w(n),p=u*_(o),v=u*w(o),m=2*P(E(k(i-r)+a*u*k(o-n))),y=w(m),b=m?function(e){var t=w(e*=m)/y,n=w(m-e)/y,r=n*c+t*p,o=n*d+t*v,i=n*s+t*l;return[g(o,r)*f,g(i,E(r*r+o*o))*f]}:function(){return[n*f,r*f]};return b.distance=m,b},$t=function(e){return e},en=n(),tn=n(),nn={point:O,lineStart:O,lineEnd:O,polygonStart:function(){nn.lineStart=rn,nn.lineEnd=sn},polygonEnd:function(){nn.lineStart=nn.lineEnd=nn.point=O,en.add(p(tn)),tn.reset()},result:function(){var e=en/2;return en.reset(),e}};function rn(){nn.point=on}function on(e,t){nn.point=an,Wt=Kt=e,Zt=Qt=t}function an(e,t){tn.add(Qt*e-Kt*t),Kt=e,Qt=t}function sn(){an(Wt,Zt)}var un=1/0,ln=un,cn=-un,dn=cn,fn={point:hn,lineStart:O,lineEnd:O,polygonStart:O,polygonEnd:O,result:function(){var e=[[un,ln],[cn,dn]];return cn=dn=-(ln=un=1/0),e}};function hn(e,t){e<un&&(un=e),e>cn&&(cn=e),t<ln&&(ln=t),t>dn&&(dn=t)}var pn,vn,gn,_n,mn=0,yn=0,bn=0,xn=0,wn=0,Sn=0,En=0,jn=0,Tn=0,Pn={point:kn,lineStart:On,lineEnd:Mn,polygonStart:function(){Pn.lineStart=Rn,Pn.lineEnd=Ln},polygonEnd:function(){Pn.point=kn,Pn.lineStart=On,Pn.lineEnd=Mn},result:function(){var e=Tn?[En/Tn,jn/Tn]:Sn?[xn/Sn,wn/Sn]:bn?[mn/bn,yn/bn]:[NaN,NaN];return mn=yn=bn=xn=wn=Sn=En=jn=Tn=0,e}};function kn(e,t){mn+=e,yn+=t,++bn}function On(){Pn.point=Cn}function Cn(e,t){Pn.point=An,kn(gn=e,_n=t)}function An(e,t){var n=e-gn,r=t-_n,o=E(n*n+r*r);xn+=o*(gn+e)/2,wn+=o*(_n+t)/2,Sn+=o,kn(gn=e,_n=t)}function Mn(){Pn.point=kn}function Rn(){Pn.point=In}function Ln(){Nn(pn,vn)}function In(e,t){Pn.point=Nn,kn(pn=gn=e,vn=_n=t)}function Nn(e,t){var n=e-gn,r=t-_n,o=E(n*n+r*r);xn+=o*(gn+e)/2,wn+=o*(_n+t)/2,Sn+=o,o=_n*e-gn*t,En+=o*(gn+e),jn+=o*(_n+t),Tn+=3*o,kn(gn=e,_n=t)}function Dn(e){this._context=e}Dn.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,d);break}},result:O};var zn,Fn,Bn,Un,Hn,Vn=n(),Gn={point:O,lineStart:function(){Gn.point=qn},lineEnd:function(){zn&&Xn(Fn,Bn),Gn.point=O},polygonStart:function(){zn=!0},polygonEnd:function(){zn=null},result:function(){var e=+Vn;return Vn.reset(),e}};function qn(e,t){Gn.point=Xn,Fn=Un=e,Bn=Hn=t}function Xn(e,t){Un-=e,Hn-=t,Vn.add(E(Un*Un+Hn*Hn)),Un=e,Hn=t}function Yn(){this._string=[]}function Wn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}Yn.prototype={_radius:4.5,_circle:Wn(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Wn(this._radius)),this._string.push("M",e,",",t,this._circle);break}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var Zn=function(e,t){var n,r,o=4.5;function i(e){return e&&("function"===typeof o&&r.pointRadius(+o.apply(this,arguments)),B(e,n(r))),r.result()}return i.area=function(e){return B(e,n(nn)),nn.result()},i.measure=function(e){return B(e,n(Gn)),Gn.result()},i.bounds=function(e){return B(e,n(fn)),fn.result()},i.centroid=function(e){return B(e,n(Pn)),Pn.result()},i.projection=function(t){return arguments.length?(n=null==t?(e=null,$t):(e=t).stream,i):e},i.context=function(e){return arguments.length?(r=null==e?(t=null,new Yn):new Dn(t=e),"function"!==typeof o&&r.pointRadius(o),i):t},i.pointRadius=function(e){return arguments.length?(o="function"===typeof e?e:(r.pointRadius(+e),+e),i):o},i.projection(e).context(t)},Kn=function(e,n,r,o){return function(i,a){var s,u,l,c=n(a),d=i.invert(o[0],o[1]),f=ct(),h=n(f),p=!1,v={point:g,lineStart:m,lineEnd:y,polygonStart:function(){v.point=b,v.lineStart=x,v.lineEnd=w,u=[],s=[]},polygonEnd:function(){v.point=g,v.lineStart=m,v.lineEnd=y,u=t.merge(u);var e=Et(s,d);u.length?(p||(a.polygonStart(),p=!0),pt(u,Jn,e,r,a)):e&&(p||(a.polygonStart(),p=!0),a.lineStart(),r(null,null,1,a),a.lineEnd()),p&&(a.polygonEnd(),p=!1),u=s=null},sphere:function(){a.polygonStart(),a.lineStart(),r(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function g(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&a.point(t,n)}function _(e,t){var n=i(e,t);c.point(n[0],n[1])}function m(){v.point=_,c.lineStart()}function y(){v.point=g,c.lineEnd()}function b(e,t){l.push([e,t]);var n=i(e,t);h.point(n[0],n[1])}function x(){h.lineStart(),l=[]}function w(){b(l[0][0],l[0][1]),h.lineEnd();var e,t,n,r,o=h.clean(),i=f.result(),c=i.length;if(l.pop(),s.push(l),l=null,c)if(1&o){if(n=i[0],(t=n.length-1)>0){for(p||(a.polygonStart(),p=!0),a.lineStart(),e=0;e<t;++e)a.point((r=n[e])[0],r[1]);a.lineEnd()}}else c>1&&2&o&&i.push(i.pop().concat(i.shift())),u.push(i.filter(Qn))}return v}};function Qn(e){return e.length>1}function Jn(e,t){return((e=e.x)[0]<0?e[1]-l-a:l-e[1])-((t=t.x)[0]<0?t[1]-l-a:l-t[1])}var $n=Kn((function(){return!0}),er,nr,[-u,-l]);function er(e){var t,n=NaN,r=NaN,o=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,s){var c=i>0?u:-u,d=p(i-n);p(d-u)<a?(e.point(n,r=(r+s)/2>0?l:-l),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(c,r),e.point(i,r),t=0):o!==c&&d>=u&&(p(n-o)<a&&(n-=o*a),p(i-c)<a&&(i-=c*a),r=tr(n,r,i,s),e.point(o,r),e.lineEnd(),e.lineStart(),e.point(c,r),t=0),e.point(n=i,r=s),o=c},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}function tr(e,t,n,r){var o,i,s=w(e-n);return p(s)>a?v((w(t)*(i=_(r))*w(n)-w(r)*(o=_(t))*w(e))/(o*i*s)):(t+r)/2}function nr(e,t,n,r){var o;if(null==e)o=n*l,r.point(-u,o),r.point(0,o),r.point(u,o),r.point(u,0),r.point(u,-o),r.point(0,-o),r.point(-u,-o),r.point(-u,0),r.point(-u,o);else if(p(e[0]-t[0])>a){var i=e[0]<t[0]?u:-u;o=n*i/2,r.point(-i,o),r.point(0,o),r.point(i,o)}else r.point(t[0],t[1])}var rr=function(e,t){var n=_(e),r=n>0,o=p(n)>a;function i(n,r,o,i){st(i,e,t,o,n,r)}function s(e,t){return _(e)*_(t)>n}function l(e){var t,n,i,l,f;return{lineStart:function(){l=i=!1,f=1},point:function(h,p){var v,g=[h,p],_=s(h,p),m=r?_?0:d(h,p):_?d(h+(h<0?u:-u),p):0;if(!t&&(l=i=_)&&e.lineStart(),_!==i&&(v=c(t,g),(!v||ft(t,v)||ft(g,v))&&(g[0]+=a,g[1]+=a,_=s(g[0],g[1]))),_!==i)f=0,_?(e.lineStart(),v=c(g,t),e.point(v[0],v[1])):(v=c(t,g),e.point(v[0],v[1]),e.lineEnd()),t=v;else if(o&&t&&r^_){var y;m&n||!(y=c(g,t,!0))||(f=0,r?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}!_||t&&ft(t,g)||e.point(g[0],g[1]),t=g,i=_,n=m},lineEnd:function(){i&&e.lineEnd(),t=null},clean:function(){return f|(l&&i)<<1}}}function c(e,t,r){var o=oe(e),i=oe(t),s=[1,0,0],l=ae(o,i),c=ie(l,l),d=l[0],f=c-d*d;if(!f)return!r&&e;var h=n*c/f,v=-n*d/f,g=ae(s,l),_=ue(s,h),m=ue(l,v);se(_,m);var y=g,b=ie(_,y),x=ie(y,y),w=b*b-x*(ie(_,_)-1);if(!(w<0)){var S=E(w),j=ue(y,(-b-S)/x);if(se(j,_),j=re(j),!r)return j;var T,P=e[0],k=t[0],O=e[1],C=t[1];k<P&&(T=P,P=k,k=T);var A=k-P,M=p(A-u)<a,R=M||A<a;if(!M&&C<O&&(T=O,O=C,C=T),R?M?O+C>0^j[1]<(p(j[0]-P)<a?O:C):O<=j[1]&&j[1]<=C:A>u^(P<=j[0]&&j[0]<=k)){var L=ue(y,(-b+S)/x);return se(L,_),[j,re(L)]}}}function d(t,n){var o=r?e:u-e,i=0;return t<-o?i|=1:t>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}return Kn(s,l,i,r?[0,-e]:[-u,e-u])},or=function(e){return{stream:ir(e)}};function ir(e){return function(t){var n=new ar;for(var r in e)n[r]=e[r];return n.stream=t,n}}function ar(){}function sr(e,t,n){var r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=i&&e.clipExtent(null),B(n,e.stream(fn));var a=fn.result(),s=Math.min(r/(a[1][0]-a[0][0]),o/(a[1][1]-a[0][1])),u=+t[0][0]+(r-s*(a[1][0]+a[0][0]))/2,l=+t[0][1]+(o-s*(a[1][1]+a[0][1]))/2;return null!=i&&e.clipExtent(i),e.scale(150*s).translate([u,l])}function ur(e,t,n){return sr(e,[[0,0],t],n)}ar.prototype={constructor:ar,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var lr=16,cr=_(30*h),dr=function(e,t){return+t?hr(e,t):fr(e)};function fr(e){return ir({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function hr(e,t){function n(r,o,i,s,u,l,c,d,f,h,v,_,m,y){var b=c-r,x=d-o,w=b*b+x*x;if(w>4*t&&m--){var S=s+h,j=u+v,T=l+_,k=E(S*S+j*j+T*T),O=P(T/=k),C=p(p(T)-1)<a||p(i-f)<a?(i+f)/2:g(j,S),A=e(C,O),M=A[0],R=A[1],L=M-r,I=R-o,N=x*L-b*I;(N*N/w>t||p((b*L+x*I)/w-.5)>.3||s*h+u*v+l*_<cr)&&(n(r,o,i,s,u,l,M,R,C,S/=k,j/=k,T,m,y),y.point(M,R),n(M,R,C,S,j,T,c,d,f,h,v,_,m,y))}}return function(t){var r,o,i,a,s,u,l,c,d,f,h,p,v={point:g,lineStart:_,lineEnd:y,polygonStart:function(){t.polygonStart(),v.lineStart=b},polygonEnd:function(){t.polygonEnd(),v.lineStart=_}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function _(){c=NaN,v.point=m,t.lineStart()}function m(r,o){var i=oe([r,o]),a=e(r,o);n(c,d,l,f,h,p,c=a[0],d=a[1],l=r,f=i[0],h=i[1],p=i[2],lr,t),t.point(c,d)}function y(){v.point=g,t.lineEnd()}function b(){_(),v.point=x,v.lineEnd=w}function x(e,t){m(r=e,t),o=c,i=d,a=f,s=h,u=p,v.point=m}function w(){n(c,d,l,f,h,p,o,i,r,a,s,u,lr,t),v.lineEnd=y,y()}return v}}var pr=ir({point:function(e,t){this.stream.point(e*h,t*h)}});function vr(e){return gr((function(){return e}))()}function gr(e){var t,n,r,o,i,a,s,u,l,c,d=150,p=480,v=250,g=0,_=0,m=0,y=0,b=0,x=null,w=$n,S=null,j=$t,T=.5,P=dr(C,T);function k(e){return e=i(e[0]*h,e[1]*h),[e[0]*d+n,r-e[1]*d]}function O(e){return e=i.invert((e[0]-n)/d,(r-e[1])/d),e&&[e[0]*f,e[1]*f]}function C(e,o){return e=t(e,o),[e[0]*d+n,r-e[1]*d]}function A(){i=et(o=nt(m,y,b),t);var e=t(g,_);return n=p-e[0]*d,r=v+e[1]*d,M()}function M(){return l=c=null,k}return k.stream=function(e){return l&&c===e?l:l=pr(w(o,P(j(c=e))))},k.clipAngle=function(e){return arguments.length?(w=+e?rr(x=e*h,6*h):(x=null,$n),M()):x*f},k.clipExtent=function(e){return arguments.length?(j=null==e?(S=a=s=u=null,$t):mt(S=+e[0][0],a=+e[0][1],s=+e[1][0],u=+e[1][1]),M()):null==S?null:[[S,a],[s,u]]},k.scale=function(e){return arguments.length?(d=+e,A()):d},k.translate=function(e){return arguments.length?(p=+e[0],v=+e[1],A()):[p,v]},k.center=function(e){return arguments.length?(g=e[0]%360*h,_=e[1]%360*h,A()):[g*f,_*f]},k.rotate=function(e){return arguments.length?(m=e[0]%360*h,y=e[1]%360*h,b=e.length>2?e[2]%360*h:0,A()):[m*f,y*f,b*f]},k.precision=function(e){return arguments.length?(P=dr(C,T=e*e),M()):E(T)},k.fitExtent=function(e,t){return sr(k,e,t)},k.fitSize=function(e,t){return ur(k,e,t)},function(){return t=e.apply(this,arguments),k.invert=t.invert&&O,A()}}function _r(e){var t=0,n=u/3,r=gr(e),o=r(t,n);return o.parallels=function(e){return arguments.length?r(t=e[0]*h,n=e[1]*h):[t*f,n*f]},o}function mr(e){var t=_(e);function n(e,n){return[e*t,w(n)/t]}return n.invert=function(e,n){return[e/t,P(n*t)]},n}function yr(e,t){var n=w(e),r=(n+w(t))/2;if(p(r)<a)return mr(e);var o=1+n*(2*r-n),i=E(o)/r;function s(e,t){var n=E(o-2*r*w(t))/r;return[n*w(e*=r),i-n*_(e)]}return s.invert=function(e,t){var n=i-t;return[g(e,p(n))/r*S(n),P((o-(e*e+n*n)*r*r)/(2*r))]},s}var br=function(){return _r(yr).scale(155.424).center([0,33.6442])},xr=function(){return br().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function wr(e){var t=e.length;return{point:function(n,r){var o=-1;while(++o<t)e[o].point(n,r)},sphere:function(){var n=-1;while(++n<t)e[n].sphere()},lineStart:function(){var n=-1;while(++n<t)e[n].lineStart()},lineEnd:function(){var n=-1;while(++n<t)e[n].lineEnd()},polygonStart:function(){var n=-1;while(++n<t)e[n].polygonStart()},polygonEnd:function(){var n=-1;while(++n<t)e[n].polygonEnd()}}}var Sr=function(){var e,t,n,r,o,i,s=xr(),u=br().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=br().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){i=[e,t]}};function d(e){var t=e[0],a=e[1];return i=null,n.point(t,a),i||(r.point(t,a),i)||(o.point(t,a),i)}function f(){return e=t=null,d}return d.invert=function(e){var t=s.scale(),n=s.translate(),r=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&r>=-.425&&r<-.214?u:o>=.166&&o<.234&&r>=-.214&&r<-.115?l:s).invert(e)},d.stream=function(n){return e&&t===n?e:e=wr([s.stream(t=n),u.stream(n),l.stream(n)])},d.precision=function(e){return arguments.length?(s.precision(e),u.precision(e),l.precision(e),f()):s.precision()},d.scale=function(e){return arguments.length?(s.scale(e),u.scale(.35*e),l.scale(e),d.translate(s.translate())):s.scale()},d.translate=function(e){if(!arguments.length)return s.translate();var t=s.scale(),i=+e[0],d=+e[1];return n=s.translate(e).clipExtent([[i-.455*t,d-.238*t],[i+.455*t,d+.238*t]]).stream(c),r=u.translate([i-.307*t,d+.201*t]).clipExtent([[i-.425*t+a,d+.12*t+a],[i-.214*t-a,d+.234*t-a]]).stream(c),o=l.translate([i-.205*t,d+.212*t]).clipExtent([[i-.214*t+a,d+.166*t+a],[i-.115*t-a,d+.234*t-a]]).stream(c),f()},d.fitExtent=function(e,t){return sr(d,e,t)},d.fitSize=function(e,t){return ur(d,e,t)},d.scale(1070)};function Er(e){return function(t,n){var r=_(t),o=_(n),i=e(r*o);return[i*o*w(t),i*w(n)]}}function jr(e){return function(t,n){var r=E(t*t+n*n),o=e(r),i=w(o),a=_(o);return[g(t*i,r*a),P(r&&n*i/r)]}}var Tr=Er((function(e){return E(2/(1+e))}));Tr.invert=jr((function(e){return 2*P(e/2)}));var Pr=function(){return vr(Tr).scale(124.75).clipAngle(179.999)},kr=Er((function(e){return(e=T(e))&&e/w(e)}));kr.invert=jr((function(e){return e}));var Or=function(){return vr(kr).scale(79.4188).clipAngle(179.999)};function Cr(e,t){return[e,b(j((l+t)/2))]}Cr.invert=function(e,t){return[e,2*v(y(t))-l]};var Ar=function(){return Mr(Cr).scale(961/d)};function Mr(e){var t,n,r,o=vr(e),i=o.center,a=o.scale,s=o.translate,l=o.clipExtent,c=null;function d(){var i=u*a(),s=o(at(o.rotate()).invert([0,0]));return l(null==c?[[s[0]-i,s[1]-i],[s[0]+i,s[1]+i]]:e===Cr?[[Math.max(s[0]-i,c),t],[Math.min(s[0]+i,n),r]]:[[c,Math.max(s[1]-i,t)],[n,Math.min(s[1]+i,r)]])}return o.scale=function(e){return arguments.length?(a(e),d()):a()},o.translate=function(e){return arguments.length?(s(e),d()):s()},o.center=function(e){return arguments.length?(i(e),d()):i()},o.clipExtent=function(e){return arguments.length?(null==e?c=t=n=r=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),d()):null==c?null:[[c,t],[n,r]]},d()}function Rr(e){return j((l+e)/2)}function Lr(e,t){var n=_(e),r=e===t?w(e):b(n/_(t))/b(Rr(t)/Rr(e)),o=n*x(Rr(e),r)/r;if(!r)return Cr;function i(e,t){o>0?t<-l+a&&(t=-l+a):t>l-a&&(t=l-a);var n=o/x(Rr(t),r);return[n*w(r*e),o-n*_(r*e)]}return i.invert=function(e,t){var n=o-t,i=S(r)*E(e*e+n*n);return[g(e,p(n))/r*S(n),2*v(x(o/i,1/r))-l]},i}var Ir=function(){return _r(Lr).scale(109.5).parallels([30,30])};function Nr(e,t){return[e,t]}Nr.invert=Nr;var Dr=function(){return vr(Nr).scale(152.63)};function zr(e,t){var n=_(e),r=e===t?w(e):(n-_(t))/(t-e),o=n/r+e;if(p(r)<a)return Nr;function i(e,t){var n=o-t,i=r*e;return[n*w(i),o-n*_(i)]}return i.invert=function(e,t){var n=o-t;return[g(e,p(n))/r*S(n),o-S(r)*E(e*e+n*n)]},i}var Fr=function(){return _r(zr).scale(131.154).center([0,13.9389])};function Br(e,t){var n=_(t),r=_(e)*n;return[n*w(e)/r,w(t)/r]}Br.invert=jr(v);var Ur=function(){return vr(Br).scale(144.049).clipAngle(60)};function Hr(e,t,n,r){return 1===e&&1===t&&0===n&&0===r?$t:ir({point:function(o,i){this.stream.point(o*e+n,i*t+r)}})}var Vr=function(){var e,t,n,r,o,i,a=1,s=0,u=0,l=1,c=1,d=$t,f=null,h=$t;function p(){return r=o=null,i}return i={stream:function(e){return r&&o===e?r:r=d(h(o=e))},clipExtent:function(r){return arguments.length?(h=null==r?(f=e=t=n=null,$t):mt(f=+r[0][0],e=+r[0][1],t=+r[1][0],n=+r[1][1]),p()):null==f?null:[[f,e],[t,n]]},scale:function(e){return arguments.length?(d=Hr((a=+e)*l,a*c,s,u),p()):a},translate:function(e){return arguments.length?(d=Hr(a*l,a*c,s=+e[0],u=+e[1]),p()):[s,u]},reflectX:function(e){return arguments.length?(d=Hr(a*(l=e?-1:1),a*c,s,u),p()):l<0},reflectY:function(e){return arguments.length?(d=Hr(a*l,a*(c=e?-1:1),s,u),p()):c<0},fitExtent:function(e,t){return sr(i,e,t)},fitSize:function(e,t){return ur(i,e,t)}}};function Gr(e,t){return[_(t)*w(e),w(t)]}Gr.invert=jr(P);var qr=function(){return vr(Gr).scale(249.5).clipAngle(90+a)};function Xr(e,t){var n=_(t),r=1+_(e)*n;return[n*w(e)/r,w(t)/r]}Xr.invert=jr((function(e){return 2*v(e)}));var Yr=function(){return vr(Xr).scale(250).clipAngle(142)};function Wr(e,t){return[b(j((l+t)/2)),-e]}Wr.invert=function(e,t){return[-t,2*v(y(e))-l]};var Zr=function(){var e=Mr(Wr),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90]).scale(159.155)};e.geoArea=ne,e.geoBounds=Be,e.geoCentroid=Je,e.geoCircle=lt,e.geoClipExtent=wt,e.geoContains=Vt,e.geoDistance=Lt,e.geoGraticule=Xt,e.geoGraticule10=Yt,e.geoInterpolate=Jt,e.geoLength=At,e.geoPath=Zn,e.geoAlbers=xr,e.geoAlbersUsa=Sr,e.geoAzimuthalEqualArea=Pr,e.geoAzimuthalEqualAreaRaw=Tr,e.geoAzimuthalEquidistant=Or,e.geoAzimuthalEquidistantRaw=kr,e.geoConicConformal=Ir,e.geoConicConformalRaw=Lr,e.geoConicEqualArea=br,e.geoConicEqualAreaRaw=yr,e.geoConicEquidistant=Fr,e.geoConicEquidistantRaw=zr,e.geoEquirectangular=Dr,e.geoEquirectangularRaw=Nr,e.geoGnomonic=Ur,e.geoGnomonicRaw=Br,e.geoIdentity=Vr,e.geoProjection=vr,e.geoProjectionMutator=gr,e.geoMercator=Ar,e.geoMercatorRaw=Cr,e.geoOrthographic=qr,e.geoOrthographicRaw=Gr,e.geoStereographic=Yr,e.geoStereographicRaw=Xr,e.geoTransverseMercator=Zr,e.geoTransverseMercatorRaw=Wr,e.geoRotation=at,e.geoStream=B,e.geoTransform=or,Object.defineProperty(e,"__esModule",{value:!0})}))},"./node_modules/_d3-hexjson@1.1.0@d3-hexjson/build/d3-hexjson.js":function(e,t,n){(function(e,r){r(t,n("./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js"))})(0,(function(e,t){"use strict";function n(e,n,s){var u=e.layout,l=[],c=0;Object.keys(e.hexes).forEach((function(t){e.hexes[t].key=t,l.push(e.hexes[t])}));var d=t.max(l,(function(e){return+e.q})),f=t.min(l,(function(e){return+e.q})),h=t.max(l,(function(e){return+e.r})),p=t.min(l,(function(e){return+e.r})),v=d-f+1,g=h-p+1;c="odd-r"===u||"even-r"===u?t.min([n/((v+.5)*Math.sqrt(3)),s/(1.5*(g+1/3))]):t.min([s/((g+.5)*Math.sqrt(3)),n/(1.5*(v+1/3))]);var _=c*Math.sqrt(3),m=i(u,_,c),y=a(m);return l.forEach((function(e){e.qc=e.q-f,e.rc=h-e.r,e.x=r(e,u,_,c),e.y=o(e,u,_,c),e.vertices=m,e.points=y})),l}function r(e,t,n,r){var o=0,i=0;switch(t){case"odd-r":i=e.rc%2===1?n:n/2,o=e.qc*n+i;break;case"even-r":i=e.rc%2===0?n:n/2,o=e.qc*n+i;break;case"odd-q":case"even-q":o=e.qc*r*1.5+r;break}return o}function o(e,t,n,r){var o=0,i=0;switch(t){case"odd-r":case"even-r":o=e.rc*r*1.5+r;break;case"odd-q":i=e.qc%2===1?n:n/2,o=e.rc*n+i;break;case"even-q":i=e.qc%2===0?n:n/2,o=e.rc*n+i;break}return o}function i(e,t,n){var r=[];switch(e){case"odd-r":case"even-r":r.push({x:0,y:0-n}),r.push({x:0+.5*t,y:0-.5*n}),r.push({x:0+.5*t,y:0+.5*n}),r.push({x:0,y:0+n}),r.push({x:0-.5*t,y:0+.5*n}),r.push({x:0-.5*t,y:0-.5*n});break;case"odd-q":case"even-q":r.push({x:0-n,y:0}),r.push({x:0-.5*n,y:0-.5*t}),r.push({x:0+.5*n,y:0-.5*t}),r.push({x:0+n,y:0}),r.push({x:0+.5*n,y:0+.5*t}),r.push({x:0-.5*n,y:0+.5*t});break}return r}function a(e){var t="";return e.forEach((function(e){t+=e.x+","+e.y+" "})),t.substring(0,t.length-1)}function s(e){var n={};n.layout=e.layout,n.hexes={};var r=[];Object.keys(e.hexes).forEach((function(t){r.push(e.hexes[t])}));var o,i,a,s=t.max(r,(function(e){return+e.q})),u=t.min(r,(function(e){return+e.q})),l=t.max(r,(function(e){return+e.r})),c=t.min(r,(function(e){return+e.r}));for(o=u;o<=s;o++)for(i=c;i<=l;i++)a="Q"+o+"R"+i,n.hexes[a]={q:o,r:i};return n}function u(e,n,i,a){var s=[],u=e.layout;Object.keys(e.hexes).forEach((function(t){s.push(e.hexes[t])}));var l,c=t.max(s,(function(e){return+e.q})),d=t.min(s,(function(e){return+e.q})),f=t.max(s,(function(e){return+e.r})),h=t.min(s,(function(e){return+e.r})),p=c-d+1,v=f-h+1;l="odd-r"===u||"even-r"===u?t.min([n/((p+.5)*Math.sqrt(3)),i/(1.5*(v+1/3))]):t.min([i/((v+.5)*Math.sqrt(3)),n/(1.5*(p+1/3))]);var g=l*Math.sqrt(3),_=[],m=l*l*4,y=s.length;if(y>1){s.forEach((function(e){e.qc=e.q-d,e.rc=f-e.r,e.x=r(e,u,g,l),e.y=o(e,u,g,l)}));for(var b=0;b<y-1;b++)for(var x=b+1;x<y;x++){var w=s[b],S=s[x];if(w[a]!==S[a]&&Math.abs(w.q-S.q)<=1&&Math.abs(w.r-S.r)<=1&&(w.x-S.x)*(w.x-S.x)+(w.y-S.y)*(w.y-S.y)<m){var E={};E.x=S.x+(w.x-S.x)/2,E.y=S.y+(w.y-S.y)/2;var j={},T=4*Math.sqrt(3);j.dx=(w.y-S.y)/T,j.dy=-(w.x-S.x)/T,_.push({x:E.x-2*j.dx,y:E.y-2*j.dy}),_.push({x:E.x-j.dx,y:E.y-j.dy}),_.push({x:E.x,y:E.y}),_.push({x:E.x+j.dx,y:E.y+j.dy}),_.push({x:E.x+2*j.dx,y:E.y+2*j.dy})}}}return _}function l(e,n,i,a){var s=[],u=e.layout;Object.keys(e.hexes).forEach((function(t){s.push(e.hexes[t])}));var l,c=t.max(s,(function(e){return+e.q})),d=t.min(s,(function(e){return+e.q})),f=t.max(s,(function(e){return+e.r})),h=t.min(s,(function(e){return+e.r})),p=c-d+1,v=f-h+1;l="odd-r"===u||"even-r"===u?t.min([n/((p+.5)*Math.sqrt(3)),i/(1.5*(v+1/3))]):t.min([i/((v+.5)*Math.sqrt(3)),n/(1.5*(p+1/3))]);var g=l*Math.sqrt(3),_=[],m=l*l*4,y=s.length;if(y>1){s.forEach((function(e){e.qc=e.q-d,e.rc=f-e.r,e.x=r(e,u,g,l),e.y=o(e,u,g,l)}));for(var b=0;b<y-1;b++)for(var x=b+1;x<y;x++){var w=s[b],S=s[x];if(w[a]!==S[a]&&Math.abs(w.q-S.q)<=1&&Math.abs(w.r-S.r)<=1&&(w.x-S.x)*(w.x-S.x)+(w.y-S.y)*(w.y-S.y)<m){var E={};E.x=S.x+(w.x-S.x)/2,E.y=S.y+(w.y-S.y)/2;var j={},T=1;w[a]<S[a]&&(T=-1);var P=2*Math.sqrt(3)*T;j.dx=(w.y-S.y)/P,j.dy=-(w.x-S.x)/P,_.push({x1:E.x-j.dx,y1:E.y-j.dy,x2:E.x+j.dx,y2:E.y+j.dy})}}}return _}e.renderHexJSON=n,e.getGridForHexJSON=s,e.getBoundaryDotsForHexJSON=u,e.getBoundarySegmentsForHexJSON=l,Object.defineProperty(e,"__esModule",{value:!0})}))},"./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js":function(e,t,n){(function(e,n){n(t)})(0,(function(e){"use strict";function t(e,t){return e.parent===t.parent?1:2}function n(e){return e.reduce(r,0)/e.length}function r(e,t){return e+t.x}function o(e){return 1+e.reduce(i,0)}function i(e,t){return Math.max(e,t.y)}function a(e){var t;while(t=e.children)e=t[0];return e}function s(e){var t;while(t=e.children)e=t[t.length-1];return e}function u(){var e=t,r=1,i=1,u=!1;function l(t){var l,c=0;t.eachAfter((function(t){var r=t.children;r?(t.x=n(r),t.y=o(r)):(t.x=l?c+=e(t,l):0,t.y=0,l=t)}));var d=a(t),f=s(t),h=d.x-e(d,f)/2,p=f.x+e(f,d)/2;return t.eachAfter(u?function(e){e.x=(e.x-t.x)*r,e.y=(t.y-e.y)*i}:function(e){e.x=(e.x-h)/(p-h)*r,e.y=(1-(t.y?e.y/t.y:1))*i})}return l.separation=function(t){return arguments.length?(e=t,l):e},l.size=function(e){return arguments.length?(u=!1,r=+e[0],i=+e[1],l):u?null:[r,i]},l.nodeSize=function(e){return arguments.length?(u=!0,r=+e[0],i=+e[1],l):u?[r,i]:null},l}function l(e){var t=0,n=e.children,r=n&&n.length;if(r)while(--r>=0)t+=n[r].value;else t=1;e.value=t}function c(){return this.eachAfter(l)}function d(e){var t,n,r,o,i=this,a=[i];do{t=a.reverse(),a=[];while(i=t.pop())if(e(i),n=i.children,n)for(r=0,o=n.length;r<o;++r)a.push(n[r])}while(a.length);return this}function f(e){var t,n,r=this,o=[r];while(r=o.pop())if(e(r),t=r.children,t)for(n=t.length-1;n>=0;--n)o.push(t[n]);return this}function h(e){var t,n,r,o=this,i=[o],a=[];while(o=i.pop())if(a.push(o),t=o.children,t)for(n=0,r=t.length;n<r;++n)i.push(t[n]);while(o=a.pop())e(o);return this}function p(e){return this.eachAfter((function(t){var n=+e(t.data)||0,r=t.children,o=r&&r.length;while(--o>=0)n+=r[o].value;t.value=n}))}function v(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))}function g(e){var t=this,n=_(t,e),r=[t];while(t!==n)t=t.parent,r.push(t);var o=r.length;while(e!==n)r.splice(o,0,e),e=e.parent;return r}function _(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),o=null;e=n.pop(),t=r.pop();while(e===t)o=e,e=n.pop(),t=r.pop();return o}function m(){var e=this,t=[e];while(e=e.parent)t.push(e);return t}function y(){var e=[];return this.each((function(t){e.push(t)})),e}function b(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e}function x(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t}function w(e,t){var n,r,o,i,a,s=new P(e),u=+e.value&&(s.value=e.value),l=[s];null==t&&(t=E);while(n=l.pop())if(u&&(n.value=+n.data.value),(o=t(n.data))&&(a=o.length))for(n.children=new Array(a),i=a-1;i>=0;--i)l.push(r=n.children[i]=new P(o[i])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(T)}function S(){return w(this).eachBefore(j)}function E(e){return e.children}function j(e){e.data=e.data.data}function T(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function P(e){this.data=e,this.depth=this.height=0,this.parent=null}P.prototype=w.prototype={constructor:P,count:c,each:d,eachAfter:h,eachBefore:f,sum:p,sort:v,path:g,ancestors:m,descendants:y,leaves:b,links:x,copy:S};var k=Array.prototype.slice;function O(e){var t,n,r=e.length;while(r)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}function C(e){var t,n,r=0,o=(e=O(k.call(e))).length,i=[];while(r<o)t=e[r],n&&R(n,t)?++r:(n=I(i=A(i,t)),r=0);return n}function A(e,t){var n,r;if(L(t,e))return[t];for(n=0;n<e.length;++n)if(M(t,e[n])&&L(D(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(M(D(e[n],e[r]),t)&&M(D(e[n],t),e[r])&&M(D(e[r],t),e[n])&&L(z(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function M(e,t){var n=e.r-t.r,r=t.x-e.x,o=t.y-e.y;return n<0||n*n<r*r+o*o}function R(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,o=t.y-e.y;return n>0&&n*n>r*r+o*o}function L(e,t){for(var n=0;n<t.length;++n)if(!R(e,t[n]))return!1;return!0}function I(e){switch(e.length){case 1:return N(e[0]);case 2:return D(e[0],e[1]);case 3:return z(e[0],e[1],e[2])}}function N(e){return{x:e.x,y:e.y,r:e.r}}function D(e,t){var n=e.x,r=e.y,o=e.r,i=t.x,a=t.y,s=t.r,u=i-n,l=a-r,c=s-o,d=Math.sqrt(u*u+l*l);return{x:(n+i+u/d*c)/2,y:(r+a+l/d*c)/2,r:(d+o+s)/2}}function z(e,t,n){var r=e.x,o=e.y,i=e.r,a=t.x,s=t.y,u=t.r,l=n.x,c=n.y,d=n.r,f=r-a,h=r-l,p=o-s,v=o-c,g=u-i,_=d-i,m=r*r+o*o-i*i,y=m-a*a-s*s+u*u,b=m-l*l-c*c+d*d,x=h*p-f*v,w=(p*b-v*y)/(2*x)-r,S=(v*g-p*_)/x,E=(h*y-f*b)/(2*x)-o,j=(f*_-h*g)/x,T=S*S+j*j-1,P=2*(i+w*S+E*j),k=w*w+E*E-i*i,O=-(T?(P+Math.sqrt(P*P-4*T*k))/(2*T):k/P);return{x:r+w+S*O,y:o+E+j*O,r:O}}function F(e,t,n){var r,o,i,a,s=e.x-t.x,u=e.y-t.y,l=s*s+u*u;l?(o=t.r+n.r,o*=o,a=e.r+n.r,a*=a,o>a?(r=(l+a-o)/(2*l),i=Math.sqrt(Math.max(0,a/l-r*r)),n.x=e.x-r*s-i*u,n.y=e.y-r*u+i*s):(r=(l+o-a)/(2*l),i=Math.sqrt(Math.max(0,o/l-r*r)),n.x=t.x+r*s-i*u,n.y=t.y+r*u+i*s)):(n.x=t.x+n.r,n.y=t.y)}function B(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,o=t.y-e.y;return n>0&&n*n>r*r+o*o}function U(e){var t=e._,n=e.next._,r=t.r+n.r,o=(t.x*n.r+n.x*t.r)/r,i=(t.y*n.r+n.y*t.r)/r;return o*o+i*i}function H(e){this._=e,this.next=null,this.previous=null}function V(e){if(!(o=e.length))return 0;var t,n,r,o,i,a,s,u,l,c,d;if(t=e[0],t.x=0,t.y=0,!(o>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(o>2))return t.r+n.r;F(n,t,r=e[2]),t=new H(t),n=new H(n),r=new H(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(s=3;s<o;++s){F(t._,n._,r=e[s]),r=new H(r),u=n.next,l=t.previous,c=n._.r,d=t._.r;do{if(c<=d){if(B(u._,r._)){n=u,t.next=n,n.previous=t,--s;continue e}c+=u._.r,u=u.next}else{if(B(l._,r._)){t=l,t.next=n,n.previous=t,--s;continue e}d+=l._.r,l=l.previous}}while(u!==l.next);r.previous=t,r.next=n,t.next=n.previous=n=r,i=U(t);while((r=r.next)!==n)(a=U(r))<i&&(t=r,i=a);n=t.next}t=[n._],r=n;while((r=r.next)!==n)t.push(r._);for(r=C(t),s=0;s<o;++s)t=e[s],t.x-=r.x,t.y-=r.y;return r.r}function G(e){return V(e),e}function q(e){return null==e?null:X(e)}function X(e){if("function"!==typeof e)throw new Error;return e}function Y(){return 0}function W(e){return function(){return e}}function Z(e){return Math.sqrt(e.value)}function K(){var e=null,t=1,n=1,r=Y;function o(o){return o.x=t/2,o.y=n/2,e?o.eachBefore(Q(e)).eachAfter(J(r,.5)).eachBefore($(1)):o.eachBefore(Q(Z)).eachAfter(J(Y,1)).eachAfter(J(r,o.r/Math.min(t,n))).eachBefore($(Math.min(t,n)/(2*o.r))),o}return o.radius=function(t){return arguments.length?(e=q(t),o):e},o.size=function(e){return arguments.length?(t=+e[0],n=+e[1],o):[t,n]},o.padding=function(e){return arguments.length?(r="function"===typeof e?e:W(+e),o):r},o}function Q(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function J(e,t){return function(n){if(r=n.children){var r,o,i,a=r.length,s=e(n)*t||0;if(s)for(o=0;o<a;++o)r[o].r+=s;if(i=V(r),s)for(o=0;o<a;++o)r[o].r-=s;n.r=i+s}}}function $(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function ee(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function te(e,t,n,r,o){var i,a=e.children,s=-1,u=a.length,l=e.value&&(r-t)/e.value;while(++s<u)i=a[s],i.y0=n,i.y1=o,i.x0=t,i.x1=t+=i.value*l}function ne(){var e=1,t=1,n=0,r=!1;function o(o){var a=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/a,o.eachBefore(i(t,a)),r&&o.eachBefore(ee),o}function i(e,t){return function(r){r.children&&te(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var o=r.x0,i=r.y0,a=r.x1-n,s=r.y1-n;a<o&&(o=a=(o+a)/2),s<i&&(i=s=(i+s)/2),r.x0=o,r.y0=i,r.x1=a,r.y1=s}}return o.round=function(e){return arguments.length?(r=!!e,o):r},o.size=function(n){return arguments.length?(e=+n[0],t=+n[1],o):[e,t]},o.padding=function(e){return arguments.length?(n=+e,o):n},o}var re="$",oe={depth:-1},ie={};function ae(e){return e.id}function se(e){return e.parentId}function ue(){var e=ae,t=se;function n(n){var r,o,i,a,s,u,l,c=n.length,d=new Array(c),f={};for(o=0;o<c;++o)r=n[o],s=d[o]=new P(r),null!=(u=e(r,o,n))&&(u+="")&&(l=re+(s.id=u),f[l]=l in f?ie:s);for(o=0;o<c;++o)if(s=d[o],u=t(n[o],o,n),null!=u&&(u+="")){if(a=f[re+u],!a)throw new Error("missing: "+u);if(a===ie)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(i)throw new Error("multiple roots");i=s}if(!i)throw new Error("no root");if(i.parent=oe,i.eachBefore((function(e){e.depth=e.parent.depth+1,--c})).eachBefore(T),i.parent=null,c>0)throw new Error("cycle");return i}return n.id=function(t){return arguments.length?(e=X(t),n):e},n.parentId=function(e){return arguments.length?(t=X(e),n):t},n}function le(e,t){return e.parent===t.parent?1:2}function ce(e){var t=e.children;return t?t[0]:e.t}function de(e){var t=e.children;return t?t[t.length-1]:e.t}function fe(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function he(e){var t,n=0,r=0,o=e.children,i=o.length;while(--i>=0)t=o[i],t.z+=n,t.m+=n,n+=t.s+(r+=t.c)}function pe(e,t,n){return e.a.parent===t.parent?e.a:n}function ve(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function ge(e){var t,n,r,o,i,a=new ve(e,0),s=[a];while(t=s.pop())if(r=t._.children)for(t.children=new Array(i=r.length),o=i-1;o>=0;--o)s.push(n=t.children[o]=new ve(r[o],o)),n.parent=t;return(a.parent=new ve(null,0)).children=[a],a}function _e(){var e=le,t=1,n=1,r=null;function o(o){var s=ge(o);if(s.eachAfter(i),s.parent.m=-s.z,s.eachBefore(a),r)o.eachBefore(u);else{var l=o,c=o,d=o;o.eachBefore((function(e){e.x<l.x&&(l=e),e.x>c.x&&(c=e),e.depth>d.depth&&(d=e)}));var f=l===c?1:e(l,c)/2,h=f-l.x,p=t/(c.x+f+h),v=n/(d.depth||1);o.eachBefore((function(e){e.x=(e.x+h)*p,e.y=e.depth*v}))}return o}function i(t){var n=t.children,r=t.parent.children,o=t.i?r[t.i-1]:null;if(n){he(t);var i=(n[0].z+n[n.length-1].z)/2;o?(t.z=o.z+e(t._,o._),t.m=t.z-i):t.z=i}else o&&(t.z=o.z+e(t._,o._));t.parent.A=s(t,o,t.parent.A||r[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(t,n,r){if(n){var o,i=t,a=t,s=n,u=i.parent.children[0],l=i.m,c=a.m,d=s.m,f=u.m;while(s=de(s),i=ce(i),s&&i)u=ce(u),a=de(a),a.a=t,o=s.z+d-i.z-l+e(s._,i._),o>0&&(fe(pe(s,t,r),t,o),l+=o,c+=o),d+=s.m,l+=i.m,f+=u.m,c+=a.m;s&&!de(a)&&(a.t=s,a.m+=d-c),i&&!ce(u)&&(u.t=i,u.m+=l-f,r=t)}return r}function u(e){e.x*=t,e.y=e.depth*n}return o.separation=function(t){return arguments.length?(e=t,o):e},o.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],o):r?null:[t,n]},o.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],o):r?[t,n]:null},o}function me(e,t,n,r,o){var i,a=e.children,s=-1,u=a.length,l=e.value&&(o-n)/e.value;while(++s<u)i=a[s],i.x0=t,i.x1=r,i.y0=n,i.y1=n+=i.value*l}ve.prototype=Object.create(P.prototype);var ye=(1+Math.sqrt(5))/2;function be(e,t,n,r,o,i){var a,s,u,l,c,d,f,h,p,v,g,_=[],m=t.children,y=0,b=0,x=m.length,w=t.value;while(y<x){u=o-n,l=i-r;do{c=m[b++].value}while(!c&&b<x);for(d=f=c,v=Math.max(l/u,u/l)/(w*e),g=c*c*v,p=Math.max(f/g,g/d);b<x;++b){if(c+=s=m[b].value,s<d&&(d=s),s>f&&(f=s),g=c*c*v,h=Math.max(f/g,g/d),h>p){c-=s;break}p=h}_.push(a={value:c,dice:u<l,children:m.slice(y,b)}),a.dice?te(a,n,r,o,w?r+=l*c/w:i):me(a,n,r,w?n+=u*c/w:o,i),w-=c,y=b}return _}var xe=function e(t){function n(e,n,r,o,i){be(t,e,n,r,o,i)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(ye);function we(){var e=xe,t=!1,n=1,r=1,o=[0],i=Y,a=Y,s=Y,u=Y,l=Y;function c(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(d),o=[0],t&&e.eachBefore(ee),e}function d(t){var n=o[t.depth],r=t.x0+n,c=t.y0+n,d=t.x1-n,f=t.y1-n;d<r&&(r=d=(r+d)/2),f<c&&(c=f=(c+f)/2),t.x0=r,t.y0=c,t.x1=d,t.y1=f,t.children&&(n=o[t.depth+1]=i(t)/2,r+=l(t)-n,c+=a(t)-n,d-=s(t)-n,f-=u(t)-n,d<r&&(r=d=(r+d)/2),f<c&&(c=f=(c+f)/2),e(t,r,c,d,f))}return c.round=function(e){return arguments.length?(t=!!e,c):t},c.size=function(e){return arguments.length?(n=+e[0],r=+e[1],c):[n,r]},c.tile=function(t){return arguments.length?(e=X(t),c):e},c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()},c.paddingInner=function(e){return arguments.length?(i="function"===typeof e?e:W(+e),c):i},c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()},c.paddingTop=function(e){return arguments.length?(a="function"===typeof e?e:W(+e),c):a},c.paddingRight=function(e){return arguments.length?(s="function"===typeof e?e:W(+e),c):s},c.paddingBottom=function(e){return arguments.length?(u="function"===typeof e?e:W(+e),c):u},c.paddingLeft=function(e){return arguments.length?(l="function"===typeof e?e:W(+e),c):l},c}function Se(e,t,n,r,o){var i,a,s=e.children,u=s.length,l=new Array(u+1);for(l[0]=a=i=0;i<u;++i)l[i+1]=a+=s[i].value;function c(e,t,n,r,o,i,a){if(e>=t-1){var u=s[e];return u.x0=r,u.y0=o,u.x1=i,void(u.y1=a)}var d=l[e],f=n/2+d,h=e+1,p=t-1;while(h<p){var v=h+p>>>1;l[v]<f?h=v+1:p=v}f-l[h-1]<l[h]-f&&e+1<h&&--h;var g=l[h]-d,_=n-g;if(i-r>a-o){var m=(r*_+i*g)/n;c(e,h,g,r,o,m,a),c(h,t,_,m,o,i,a)}else{var y=(o*_+a*g)/n;c(e,h,g,r,o,i,y),c(h,t,_,r,y,i,a)}}c(0,u,e.value,t,n,r,o)}function Ee(e,t,n,r,o){(1&e.depth?me:te)(e,t,n,r,o)}var je=function e(t){function n(e,n,r,o,i){if((a=e._squarify)&&a.ratio===t){var a,s,u,l,c,d=-1,f=a.length,h=e.value;while(++d<f){for(s=a[d],u=s.children,l=s.value=0,c=u.length;l<c;++l)s.value+=u[l].value;s.dice?te(s,n,r,o,r+=(i-r)*s.value/h):me(s,n,r,n+=(o-n)*s.value/h,i),h-=s.value}}else e._squarify=a=be(t,e,n,r,o,i),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(ye);e.cluster=u,e.hierarchy=w,e.pack=K,e.packEnclose=C,e.packSiblings=G,e.partition=ne,e.stratify=ue,e.tree=_e,e.treemap=we,e.treemapBinary=Se,e.treemapDice=te,e.treemapResquarify=je,e.treemapSlice=me,e.treemapSliceDice=Ee,e.treemapSquarify=xe,Object.defineProperty(e,"__esModule",{value:!0})}))},"./node_modules/_d3-path@1.0.9@d3-path/dist/d3-path.js":function(e,t,n){(function(e,n){n(t)})(0,(function(e){"use strict";var t=Math.PI,n=2*t,r=1e-6,o=n-r;function i(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function a(){return new i}i.prototype=a.prototype={constructor:i,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,o,i){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(e,n,o,i,a){e=+e,n=+n,o=+o,i=+i,a=+a;var s=this._x1,u=this._y1,l=o-e,c=i-n,d=s-e,f=u-n,h=d*d+f*f;if(a<0)throw new Error("negative radius: "+a);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=n);else if(h>r)if(Math.abs(f*l-c*d)>r&&a){var p=o-s,v=i-u,g=l*l+c*c,_=p*p+v*v,m=Math.sqrt(g),y=Math.sqrt(h),b=a*Math.tan((t-Math.acos((g+h-_)/(2*m*y)))/2),x=b/y,w=b/m;Math.abs(x-1)>r&&(this._+="L"+(e+x*d)+","+(n+x*f)),this._+="A"+a+","+a+",0,0,"+ +(f*p>d*v)+","+(this._x1=e+w*l)+","+(this._y1=n+w*c)}else this._+="L"+(this._x1=e)+","+(this._y1=n);else;},arc:function(e,i,a,s,u,l){e=+e,i=+i,a=+a,l=!!l;var c=a*Math.cos(s),d=a*Math.sin(s),f=e+c,h=i+d,p=1^l,v=l?s-u:u-s;if(a<0)throw new Error("negative radius: "+a);null===this._x1?this._+="M"+f+","+h:(Math.abs(this._x1-f)>r||Math.abs(this._y1-h)>r)&&(this._+="L"+f+","+h),a&&(v<0&&(v=v%n+n),v>o?this._+="A"+a+","+a+",0,1,"+p+","+(e-c)+","+(i-d)+"A"+a+","+a+",0,1,"+p+","+(this._x1=f)+","+(this._y1=h):v>r&&(this._+="A"+a+","+a+",0,"+ +(v>=t)+","+p+","+(this._x1=e+a*Math.cos(u))+","+(this._y1=i+a*Math.sin(u))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},e.path=a,Object.defineProperty(e,"__esModule",{value:!0})}))},"./node_modules/_d3-sankey@0.9.1@d3-sankey/dist/d3-sankey.js":function(e,t,n){var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js");(function(e,r){r(t,n("./node_modules/_d3-array@1.2.4@d3-array/dist/d3-array.js"),n("./node_modules/_d3-collection@1.0.7@d3-collection/dist/d3-collection.js"),n("./node_modules/_d3-shape@1.3.7@d3-shape/dist/d3-shape.js"))})(0,(function(e,t,n,o){"use strict";function i(e){return e.target.depth}function a(e){return e.depth}function s(e,t){return t-1-e.height}function u(e,t){return e.sourceLinks.length?e.depth:t-1}function l(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?t.min(e.sourceLinks,i)-1:0}function c(e){return function(){return e}}function d(e,t){return h(e.source,t.source)||e.index-t.index}function f(e,t){return h(e.target,t.target)||e.index-t.index}function h(e,t){return e.y0-t.y0}function p(e){return e.value}function v(e){return e.index}function g(e){return e.nodes}function _(e){return e.links}function m(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function y(){var e,o=0,i=0,a=1,s=1,l=24,y=8,b=v,x=u,w=g,S=_,E=6;function j(){var e={nodes:w.apply(null,arguments),links:S.apply(null,arguments)};return T(e),P(e),k(e),O(e),C(e),e}function T(e){e.nodes.forEach((function(e,t){e.index=t,e.sourceLinks=[],e.targetLinks=[]}));var t=n.map(e.nodes,b);e.links.forEach((function(e,n){e.index=n;var r=e.source,o=e.target;"object"!==typeof r&&(r=e.source=m(t,r)),"object"!==typeof o&&(o=e.target=m(t,o)),r.sourceLinks.push(e),o.targetLinks.push(e)}))}function P(e){e.nodes.forEach((function(e){e.value=Math.max(t.sum(e.sourceLinks,p),t.sum(e.targetLinks,p))}))}function k(e){var t,n,r,i=e.nodes.length;for(t=e.nodes,n=[],r=0;t.length;++r,t=n,n=[]){if(r>i)throw new Error("circular link");t.forEach((function(e){e.depth=r,e.sourceLinks.forEach((function(e){n.indexOf(e.target)<0&&n.push(e.target)}))}))}for(t=e.nodes,n=[],r=0;t.length;++r,t=n,n=[]){if(r>i)throw new Error("circular link");t.forEach((function(e){e.height=r,e.targetLinks.forEach((function(e){n.indexOf(e.source)<0&&n.push(e.source)}))}))}var s=(a-o-l)/(r-1);e.nodes.forEach((function(e){e.x1=(e.x0=o+Math.max(0,Math.min(r-1,Math.floor(x.call(null,e,r))))*s)+l}))}function O(o){var a=n.nest().key((function(e){return e.x0})).sortKeys(t.ascending).entries(o.nodes).map((function(e){return e.values}));c(),_();for(var u=.9,l=E;l>0;--l,u*=.9)g(u),_(),v(u),_();function c(){var n=t.min(a,(function(e){return(s-i-(e.length-1)*y)/t.sum(e,p)}));a.forEach((function(t){null!=e&&t.sort(e),t.forEach((function(e,t){e.y1=(e.y0=t)+e.value*n}))})),o.links.forEach((function(e){e.width=e.value*n}))}function v(e){a.forEach((function(t){t.forEach((function(t){var n,o,i,a,s=t.y0;try{for(var u=r.__values(t.sourceLinks.sort(f)),l=u.next();!l.done;l=u.next()){var c=l.value,d=c.target,h=c.width,p=c.value;if(p>0){var v=0;try{for(var g=(i=void 0,r.__values(d.targetLinks)),_=g.next();!_.done;_=g.next()){var m=_.value,b=m.source,x=m.width;if(b===t)break;v+=x+y/2}}catch(w){i={error:w}}finally{try{_&&!_.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}v=(s-v-d.y0)*e*(p/Math.min(t.value,d.value)),d.y0+=v,d.y1+=v}s+=h+y/2}}catch(S){n={error:S}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}}))}))}function g(e){a.slice().reverse().forEach((function(t){t.forEach((function(t){var n,o,i,a,s=t.y0;try{for(var u=r.__values(t.targetLinks.sort(d)),l=u.next();!l.done;l=u.next()){var c=l.value,f=c.source,h=c.width,p=c.value;if(p>0){var v=0;try{for(var g=(i=void 0,r.__values(f.sourceLinks)),_=g.next();!_.done;_=g.next()){var m=_.value,b=m.target,x=m.width;if(b===t)break;v+=x+y/2}}catch(w){i={error:w}}finally{try{_&&!_.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}v=(s-v-f.y0)*e*(p/Math.min(t.value,f.value)),f.y0+=v,f.y1+=v}s+=h+y/2}}catch(S){n={error:S}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}}))}))}function _(){a.forEach((function(t){var n,r,o,a=i,u=t.length;for(void 0===e&&t.sort(h),o=0;o<u;++o)n=t[o],r=a-n.y0,r>0&&(n.y0+=r,n.y1+=r),a=n.y1+y;if(r=a-y-s,r>0)for(a=n.y0-=r,n.y1-=r,o=u-2;o>=0;--o)n=t[o],r=n.y1+y-a,r>0&&(n.y0-=r,n.y1-=r),a=n.y0}))}}function C(e){e.nodes.forEach((function(e){e.sourceLinks.sort(f),e.targetLinks.sort(d)})),e.nodes.forEach((function(e){var t=e.y0,n=t;e.sourceLinks.forEach((function(e){e.y0=t+e.width/2,t+=e.width})),e.targetLinks.forEach((function(e){e.y1=n+e.width/2,n+=e.width}))}))}return j.update=function(e){return C(e),e},j.nodeId=function(e){return arguments.length?(b="function"===typeof e?e:c(e),j):b},j.nodeAlign=function(e){return arguments.length?(x="function"===typeof e?e:c(e),j):x},j.nodeSort=function(t){return arguments.length?(e=t,j):e},j.nodeWidth=function(e){return arguments.length?(l=+e,j):l},j.nodePadding=function(e){return arguments.length?(y=+e,j):y},j.nodes=function(e){return arguments.length?(w="function"===typeof e?e:c(e),j):w},j.links=function(e){return arguments.length?(S="function"===typeof e?e:c(e),j):S},j.size=function(e){return arguments.length?(o=i=0,a=+e[0],s=+e[1],j):[a-o,s-i]},j.extent=function(e){return arguments.length?(o=+e[0][0],a=+e[1][0],i=+e[0][1],s=+e[1][1],j):[[o,i],[a,s]]},j.iterations=function(e){return arguments.length?(E=+e,j):E},j}function b(e){return[e.source.x1,e.y0]}function x(e){return[e.target.x0,e.y1]}function w(){return o.linkHorizontal().source(b).target(x)}e.sankey=y,e.sankeyCenter=l,e.sankeyLeft=a,e.sankeyRight=s,e.sankeyJustify=u,e.sankeyLinkHorizontal=w,Object.defineProperty(e,"__esModule",{value:!0})}))},"./node_modules/_d3-shape@1.3.7@d3-shape/dist/d3-shape.js":function(e,t,n){(function(e,r){r(t,n("./node_modules/_d3-path@1.0.9@d3-path/dist/d3-path.js"))})(0,(function(e,t){"use strict";function n(e){return function(){return e}}var r=Math.abs,o=Math.atan2,i=Math.cos,a=Math.max,s=Math.min,u=Math.sin,l=Math.sqrt,c=1e-12,d=Math.PI,f=d/2,h=2*d;function p(e){return e>1?0:e<-1?d:Math.acos(e)}function v(e){return e>=1?f:e<=-1?-f:Math.asin(e)}function g(e){return e.innerRadius}function _(e){return e.outerRadius}function m(e){return e.startAngle}function y(e){return e.endAngle}function b(e){return e&&e.padAngle}function x(e,t,n,r,o,i,a,s){var u=n-e,l=r-t,d=a-o,f=s-i,h=f*u-d*l;if(!(h*h<c))return h=(d*(t-i)-f*(e-o))/h,[e+h*u,t+h*l]}function w(e,t,n,r,o,i,s){var u=e-n,c=t-r,d=(s?i:-i)/l(u*u+c*c),f=d*c,h=-d*u,p=e+f,v=t+h,g=n+f,_=r+h,m=(p+g)/2,y=(v+_)/2,b=g-p,x=_-v,w=b*b+x*x,S=o-i,E=p*_-g*v,j=(x<0?-1:1)*l(a(0,S*S*w-E*E)),T=(E*x-b*j)/w,P=(-E*b-x*j)/w,k=(E*x+b*j)/w,O=(-E*b+x*j)/w,C=T-m,A=P-y,M=k-m,R=O-y;return C*C+A*A>M*M+R*R&&(T=k,P=O),{cx:T,cy:P,x01:-f,y01:-h,x11:T*(o/S-1),y11:P*(o/S-1)}}function S(){var e=g,a=_,S=n(0),E=null,j=m,T=y,P=b,k=null;function O(){var n,g,_=+e.apply(this,arguments),m=+a.apply(this,arguments),y=j.apply(this,arguments)-f,b=T.apply(this,arguments)-f,O=r(b-y),C=b>y;if(k||(k=n=t.path()),m<_&&(g=m,m=_,_=g),m>c)if(O>h-c)k.moveTo(m*i(y),m*u(y)),k.arc(0,0,m,y,b,!C),_>c&&(k.moveTo(_*i(b),_*u(b)),k.arc(0,0,_,b,y,C));else{var A,M,R=y,L=b,I=y,N=b,D=O,z=O,F=P.apply(this,arguments)/2,B=F>c&&(E?+E.apply(this,arguments):l(_*_+m*m)),U=s(r(m-_)/2,+S.apply(this,arguments)),H=U,V=U;if(B>c){var G=v(B/_*u(F)),q=v(B/m*u(F));(D-=2*G)>c?(G*=C?1:-1,I+=G,N-=G):(D=0,I=N=(y+b)/2),(z-=2*q)>c?(q*=C?1:-1,R+=q,L-=q):(z=0,R=L=(y+b)/2)}var X=m*i(R),Y=m*u(R),W=_*i(N),Z=_*u(N);if(U>c){var K,Q=m*i(L),J=m*u(L),$=_*i(I),ee=_*u(I);if(O<d&&(K=x(X,Y,$,ee,Q,J,W,Z))){var te=X-K[0],ne=Y-K[1],re=Q-K[0],oe=J-K[1],ie=1/u(p((te*re+ne*oe)/(l(te*te+ne*ne)*l(re*re+oe*oe)))/2),ae=l(K[0]*K[0]+K[1]*K[1]);H=s(U,(_-ae)/(ie-1)),V=s(U,(m-ae)/(ie+1))}}z>c?V>c?(A=w($,ee,X,Y,m,V,C),M=w(Q,J,W,Z,m,V,C),k.moveTo(A.cx+A.x01,A.cy+A.y01),V<U?k.arc(A.cx,A.cy,V,o(A.y01,A.x01),o(M.y01,M.x01),!C):(k.arc(A.cx,A.cy,V,o(A.y01,A.x01),o(A.y11,A.x11),!C),k.arc(0,0,m,o(A.cy+A.y11,A.cx+A.x11),o(M.cy+M.y11,M.cx+M.x11),!C),k.arc(M.cx,M.cy,V,o(M.y11,M.x11),o(M.y01,M.x01),!C))):(k.moveTo(X,Y),k.arc(0,0,m,R,L,!C)):k.moveTo(X,Y),_>c&&D>c?H>c?(A=w(W,Z,Q,J,_,-H,C),M=w(X,Y,$,ee,_,-H,C),k.lineTo(A.cx+A.x01,A.cy+A.y01),H<U?k.arc(A.cx,A.cy,H,o(A.y01,A.x01),o(M.y01,M.x01),!C):(k.arc(A.cx,A.cy,H,o(A.y01,A.x01),o(A.y11,A.x11),!C),k.arc(0,0,_,o(A.cy+A.y11,A.cx+A.x11),o(M.cy+M.y11,M.cx+M.x11),C),k.arc(M.cx,M.cy,H,o(M.y11,M.x11),o(M.y01,M.x01),!C))):k.arc(0,0,_,N,I,C):k.lineTo(W,Z)}else k.moveTo(0,0);if(k.closePath(),n)return k=null,n+""||null}return O.centroid=function(){var t=(+e.apply(this,arguments)+ +a.apply(this,arguments))/2,n=(+j.apply(this,arguments)+ +T.apply(this,arguments))/2-d/2;return[i(n)*t,u(n)*t]},O.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:n(+t),O):e},O.outerRadius=function(e){return arguments.length?(a="function"===typeof e?e:n(+e),O):a},O.cornerRadius=function(e){return arguments.length?(S="function"===typeof e?e:n(+e),O):S},O.padRadius=function(e){return arguments.length?(E=null==e?null:"function"===typeof e?e:n(+e),O):E},O.startAngle=function(e){return arguments.length?(j="function"===typeof e?e:n(+e),O):j},O.endAngle=function(e){return arguments.length?(T="function"===typeof e?e:n(+e),O):T},O.padAngle=function(e){return arguments.length?(P="function"===typeof e?e:n(+e),O):P},O.context=function(e){return arguments.length?(k=null==e?null:e,O):k},O}function E(e){this._context=e}function j(e){return new E(e)}function T(e){return e[0]}function P(e){return e[1]}function k(){var e=T,r=P,o=n(!0),i=null,a=j,s=null;function u(n){var u,l,c,d=n.length,f=!1;for(null==i&&(s=a(c=t.path())),u=0;u<=d;++u)!(u<d&&o(l=n[u],u,n))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+e(l,u,n),+r(l,u,n));if(c)return s=null,c+""||null}return u.x=function(t){return arguments.length?(e="function"===typeof t?t:n(+t),u):e},u.y=function(e){return arguments.length?(r="function"===typeof e?e:n(+e),u):r},u.defined=function(e){return arguments.length?(o="function"===typeof e?e:n(!!e),u):o},u.curve=function(e){return arguments.length?(a=e,null!=i&&(s=a(i)),u):a},u.context=function(e){return arguments.length?(null==e?i=s=null:s=a(i=e),u):i},u}function O(){var e=T,r=null,o=n(0),i=P,a=n(!0),s=null,u=j,l=null;function c(n){var c,d,f,h,p,v=n.length,g=!1,_=new Array(v),m=new Array(v);for(null==s&&(l=u(p=t.path())),c=0;c<=v;++c){if(!(c<v&&a(h=n[c],c,n))===g)if(g=!g)d=c,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),f=c-1;f>=d;--f)l.point(_[f],m[f]);l.lineEnd(),l.areaEnd()}g&&(_[c]=+e(h,c,n),m[c]=+o(h,c,n),l.point(r?+r(h,c,n):_[c],i?+i(h,c,n):m[c]))}if(p)return l=null,p+""||null}function d(){return k().defined(a).curve(u).context(s)}return c.x=function(t){return arguments.length?(e="function"===typeof t?t:n(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:n(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:n(+e),c):r},c.y=function(e){return arguments.length?(o="function"===typeof e?e:n(+e),i=null,c):o},c.y0=function(e){return arguments.length?(o="function"===typeof e?e:n(+e),c):o},c.y1=function(e){return arguments.length?(i=null==e?null:"function"===typeof e?e:n(+e),c):i},c.lineX0=c.lineY0=function(){return d().x(e).y(o)},c.lineY1=function(){return d().x(e).y(i)},c.lineX1=function(){return d().x(r).y(o)},c.defined=function(e){return arguments.length?(a="function"===typeof e?e:n(!!e),c):a},c.curve=function(e){return arguments.length?(u=e,null!=s&&(l=u(s)),c):u},c.context=function(e){return arguments.length?(null==e?s=l=null:l=u(s=e),c):s},c}function C(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function A(e){return e}function M(){var e=A,t=C,r=null,o=n(0),i=n(h),a=n(0);function s(n){var s,u,l,c,d,f=n.length,p=0,v=new Array(f),g=new Array(f),_=+o.apply(this,arguments),m=Math.min(h,Math.max(-h,i.apply(this,arguments)-_)),y=Math.min(Math.abs(m)/f,a.apply(this,arguments)),b=y*(m<0?-1:1);for(s=0;s<f;++s)(d=g[v[s]=s]=+e(n[s],s,n))>0&&(p+=d);for(null!=t?v.sort((function(e,n){return t(g[e],g[n])})):null!=r&&v.sort((function(e,t){return r(n[e],n[t])})),s=0,l=p?(m-f*b)/p:0;s<f;++s,_=c)u=v[s],d=g[u],c=_+(d>0?d*l:0)+b,g[u]={data:n[u],index:s,value:d,startAngle:_,endAngle:c,padAngle:y};return g}return s.value=function(t){return arguments.length?(e="function"===typeof t?t:n(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,r=null,s):t},s.sort=function(e){return arguments.length?(r=e,t=null,s):r},s.startAngle=function(e){return arguments.length?(o="function"===typeof e?e:n(+e),s):o},s.endAngle=function(e){return arguments.length?(i="function"===typeof e?e:n(+e),s):i},s.padAngle=function(e){return arguments.length?(a="function"===typeof e?e:n(+e),s):a},s}E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};var R=I(j);function L(e){this._curve=e}function I(e){function t(t){return new L(e(t))}return t._curve=e,t}function N(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(I(e)):t()._curve},e}function D(){return N(k().curve(R))}function z(){var e=O().curve(R),t=e.curve,n=e.lineX0,r=e.lineX1,o=e.lineY0,i=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return N(n())},delete e.lineX0,e.lineEndAngle=function(){return N(r())},delete e.lineX1,e.lineInnerRadius=function(){return N(o())},delete e.lineY0,e.lineOuterRadius=function(){return N(i())},delete e.lineY1,e.curve=function(e){return arguments.length?t(I(e)):t()._curve},e}function F(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}L.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var B=Array.prototype.slice;function U(e){return e.source}function H(e){return e.target}function V(e){var r=U,o=H,i=T,a=P,s=null;function u(){var n,u=B.call(arguments),l=r.apply(this,u),c=o.apply(this,u);if(s||(s=n=t.path()),e(s,+i.apply(this,(u[0]=l,u)),+a.apply(this,u),+i.apply(this,(u[0]=c,u)),+a.apply(this,u)),n)return s=null,n+""||null}return u.source=function(e){return arguments.length?(r=e,u):r},u.target=function(e){return arguments.length?(o=e,u):o},u.x=function(e){return arguments.length?(i="function"===typeof e?e:n(+e),u):i},u.y=function(e){return arguments.length?(a="function"===typeof e?e:n(+e),u):a},u.context=function(e){return arguments.length?(s=null==e?null:e,u):s},u}function G(e,t,n,r,o){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,o,r,o)}function q(e,t,n,r,o){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+o)/2,r,n,r,o)}function X(e,t,n,r,o){var i=F(t,n),a=F(t,n=(n+o)/2),s=F(r,n),u=F(r,o);e.moveTo(i[0],i[1]),e.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function Y(){return V(G)}function W(){return V(q)}function Z(){var e=V(X);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var K={draw:function(e,t){var n=Math.sqrt(t/d);e.moveTo(n,0),e.arc(0,0,n,0,h)}},Q={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},J=Math.sqrt(1/3),$=2*J,ee={draw:function(e,t){var n=Math.sqrt(t/$),r=n*J;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},te=.8908130915292852,ne=Math.sin(d/10)/Math.sin(7*d/10),re=Math.sin(h/10)*ne,oe=-Math.cos(h/10)*ne,ie={draw:function(e,t){var n=Math.sqrt(t*te),r=re*n,o=oe*n;e.moveTo(0,-n),e.lineTo(r,o);for(var i=1;i<5;++i){var a=h*i/5,s=Math.cos(a),u=Math.sin(a);e.lineTo(u*n,-s*n),e.lineTo(s*r-u*o,u*r+s*o)}e.closePath()}},ae={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},se=Math.sqrt(3),ue={draw:function(e,t){var n=-Math.sqrt(t/(3*se));e.moveTo(0,2*n),e.lineTo(-se*n,-n),e.lineTo(se*n,-n),e.closePath()}},le=-.5,ce=Math.sqrt(3)/2,de=1/Math.sqrt(12),fe=3*(de/2+1),he={draw:function(e,t){var n=Math.sqrt(t/fe),r=n/2,o=n*de,i=r,a=n*de+n,s=-i,u=a;e.moveTo(r,o),e.lineTo(i,a),e.lineTo(s,u),e.lineTo(le*r-ce*o,ce*r+le*o),e.lineTo(le*i-ce*a,ce*i+le*a),e.lineTo(le*s-ce*u,ce*s+le*u),e.lineTo(le*r+ce*o,le*o-ce*r),e.lineTo(le*i+ce*a,le*a-ce*i),e.lineTo(le*s+ce*u,le*u-ce*s),e.closePath()}},pe=[K,Q,ee,ae,ie,ue,he];function ve(){var e=n(K),r=n(64),o=null;function i(){var n;if(o||(o=n=t.path()),e.apply(this,arguments).draw(o,+r.apply(this,arguments)),n)return o=null,n+""||null}return i.type=function(t){return arguments.length?(e="function"===typeof t?t:n(t),i):e},i.size=function(e){return arguments.length?(r="function"===typeof e?e:n(+e),i):r},i.context=function(e){return arguments.length?(o=null==e?null:e,i):o},i}function ge(){}function _e(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function me(e){this._context=e}function ye(e){return new me(e)}function be(e){this._context=e}function xe(e){return new be(e)}function we(e){this._context=e}function Se(e){return new we(e)}function Ee(e,t){this._basis=new me(e),this._beta=t}me.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_e(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_e(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},be.prototype={areaStart:ge,areaEnd:ge,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_e(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},we.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_e(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Ee.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0){var r,o=e[0],i=t[0],a=e[n]-o,s=t[n]-i,u=-1;while(++u<=n)r=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(o+r*a),this._beta*t[u]+(1-this._beta)*(i+r*s))}this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var je=function e(t){function n(e){return 1===t?new me(e):new Ee(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function Te(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Pe(e,t){this._context=e,this._k=(1-t)/6}Pe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Te(this,this._x1,this._y1);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Te(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ke=function e(t){function n(e){return new Pe(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Oe(e,t){this._context=e,this._k=(1-t)/6}Oe.prototype={areaStart:ge,areaEnd:ge,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Te(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ce=function e(t){function n(e){return new Oe(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Ae(e,t){this._context=e,this._k=(1-t)/6}Ae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Te(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Me=function e(t){function n(e){return new Ae(e,t)}return n.tension=function(t){return e(+t)},n}(0);function Re(e,t,n){var r=e._x1,o=e._y1,i=e._x2,a=e._y2;if(e._l01_a>c){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,o=(o*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>c){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,d=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*l+e._x1*e._l23_2a-t*e._l12_2a)/d,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/d}e._context.bezierCurveTo(r,o,i,a,e._x2,e._y2)}function Le(e,t){this._context=e,this._alpha=t}Le.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Re(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Ie=function e(t){function n(e){return t?new Le(e,t):new Pe(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ne(e,t){this._context=e,this._alpha=t}Ne.prototype={areaStart:ge,areaEnd:ge,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Re(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var De=function e(t){function n(e){return t?new Ne(e,t):new Oe(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function ze(e,t){this._context=e,this._alpha=t}ze.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Re(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Fe=function e(t){function n(e){return t?new ze(e,t):new Ae(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Be(e){this._context=e}function Ue(e){return new Be(e)}function He(e){return e<0?-1:1}function Ve(e,t,n){var r=e._x1-e._x0,o=t-e._x1,i=(e._y1-e._y0)/(r||o<0&&-0),a=(n-e._y1)/(o||r<0&&-0),s=(i*o+a*r)/(r+o);return(He(i)+He(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(s))||0}function Ge(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function qe(e,t,n){var r=e._x0,o=e._y0,i=e._x1,a=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,o+s*t,i-s,a-s*n,i,a)}function Xe(e){this._context=e}function Ye(e){this._context=new We(e)}function We(e){this._context=e}function Ze(e){return new Xe(e)}function Ke(e){return new Ye(e)}function Qe(e){this._context=e}function Je(e){var t,n,r=e.length-1,o=new Array(r),i=new Array(r),a=new Array(r);for(o[0]=0,i[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,i[t]=4,a[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,i[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/i[t-1],i[t]-=n,a[t]-=n*a[t-1];for(o[r-1]=a[r-1]/i[r-1],t=r-2;t>=0;--t)o[t]=(a[t]-o[t+1])/i[t];for(i[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-o[t+1];return[o,i]}function $e(e){return new Qe(e)}function et(e,t){this._context=e,this._t=t}function tt(e){return new et(e,.5)}function nt(e){return new et(e,0)}function rt(e){return new et(e,1)}function ot(e,t){if((o=e.length)>1)for(var n,r,o,i=1,a=e[t[0]],s=a.length;i<o;++i)for(r=a,a=e[t[i]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function it(e){var t=e.length,n=new Array(t);while(--t>=0)n[t]=t;return n}function at(e,t){return e[t]}function st(){var e=n([]),t=it,r=ot,o=at;function i(n){var i,a,s=e.apply(this,arguments),u=n.length,l=s.length,c=new Array(l);for(i=0;i<l;++i){for(var d,f=s[i],h=c[i]=new Array(u),p=0;p<u;++p)h[p]=d=[0,+o(n[p],f,p,n)],d.data=n[p];h.key=f}for(i=0,a=t(c);i<l;++i)c[a[i]].index=i;return r(c,a),c}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:n(B.call(t)),i):e},i.value=function(e){return arguments.length?(o="function"===typeof e?e:n(+e),i):o},i.order=function(e){return arguments.length?(t=null==e?it:"function"===typeof e?e:n(B.call(e)),i):t},i.offset=function(e){return arguments.length?(r=null==e?ot:e,i):r},i}function ut(e,t){if((r=e.length)>0){for(var n,r,o,i=0,a=e[0].length;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}ot(e,t)}}function lt(e,t){if((s=e.length)>0)for(var n,r,o,i,a,s,u=0,l=e[t[0]].length;u<l;++u)for(i=a=0,n=0;n<s;++n)(o=(r=e[t[n]][u])[1]-r[0])>0?(r[0]=i,r[1]=i+=o):o<0?(r[1]=a,r[0]=a+=o):(r[0]=0,r[1]=o)}function ct(e,t){if((n=e.length)>0){for(var n,r=0,o=e[t[0]],i=o.length;r<i;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;o[r][1]+=o[r][0]=-s/2}ot(e,t)}}function dt(e,t){if((o=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,o,i=0,a=1;a<r;++a){for(var s=0,u=0,l=0;s<o;++s){for(var c=e[t[s]],d=c[a][1]||0,f=c[a-1][1]||0,h=(d-f)/2,p=0;p<s;++p){var v=e[t[p]],g=v[a][1]||0,_=v[a-1][1]||0;h+=g-_}u+=d,l+=h*d}n[a-1][1]+=n[a-1][0]=i,u&&(i-=l/u)}n[a-1][1]+=n[a-1][0]=i,ot(e,t)}}function ft(e){var t=e.map(ht);return it(e).sort((function(e,n){return t[e]-t[n]}))}function ht(e){var t,n=-1,r=0,o=e.length,i=-1/0;while(++n<o)(t=+e[n][1])>i&&(i=t,r=n);return r}function pt(e){var t=e.map(vt);return it(e).sort((function(e,n){return t[e]-t[n]}))}function vt(e){var t,n=0,r=-1,o=e.length;while(++r<o)(t=+e[r][1])&&(n+=t);return n}function gt(e){return pt(e).reverse()}function _t(e){var t,n,r=e.length,o=e.map(vt),i=ft(e),a=0,s=0,u=[],l=[];for(t=0;t<r;++t)n=i[t],a<s?(a+=o[n],u.push(n)):(s+=o[n],l.push(n));return l.reverse().concat(u)}function mt(e){return it(e).reverse()}Be.prototype={areaStart:ge,areaEnd:ge,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Xe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qe(this,this._t0,Ge(this,this._t0));break}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,e!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,qe(this,Ge(this,n=Ve(this,e,t)),n);break;default:qe(this,this._t0,n=Ve(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Ye.prototype=Object.create(Xe.prototype)).point=function(e,t){Xe.prototype.point.call(this,t,e)},We.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,o,i){this._context.bezierCurveTo(t,e,r,n,i,o)}},Qe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=Je(e),o=Je(t),i=0,a=1;a<n;++i,++a)this._context.bezierCurveTo(r[0][i],o[0][i],r[1][i],o[1][i],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},et.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}this._x=e,this._y=t}},e.arc=S,e.area=O,e.areaRadial=z,e.curveBasis=ye,e.curveBasisClosed=xe,e.curveBasisOpen=Se,e.curveBundle=je,e.curveCardinal=ke,e.curveCardinalClosed=Ce,e.curveCardinalOpen=Me,e.curveCatmullRom=Ie,e.curveCatmullRomClosed=De,e.curveCatmullRomOpen=Fe,e.curveLinear=j,e.curveLinearClosed=Ue,e.curveMonotoneX=Ze,e.curveMonotoneY=Ke,e.curveNatural=$e,e.curveStep=tt,e.curveStepAfter=rt,e.curveStepBefore=nt,e.line=k,e.lineRadial=D,e.linkHorizontal=Y,e.linkRadial=Z,e.linkVertical=W,e.pie=M,e.pointRadial=F,e.radialArea=z,e.radialLine=D,e.stack=st,e.stackOffsetDiverging=lt,e.stackOffsetExpand=ut,e.stackOffsetNone=ot,e.stackOffsetSilhouette=ct,e.stackOffsetWiggle=dt,e.stackOrderAppearance=ft,e.stackOrderAscending=pt,e.stackOrderDescending=gt,e.stackOrderInsideOut=_t,e.stackOrderNone=it,e.stackOrderReverse=mt,e.symbol=ve,e.symbolCircle=K,e.symbolCross=Q,e.symbolDiamond=ee,e.symbolSquare=ae,e.symbolStar=ie,e.symbolTriangle=ue,e.symbolWye=he,e.symbols=pe,Object.defineProperty(e,"__esModule",{value:!0})}))},"./node_modules/_d3-voronoi@1.1.4@d3-voronoi/dist/d3-voronoi.js":function(e,t,n){(function(e,n){n(t)})(0,(function(e){"use strict";function t(e){return function(){return e}}function n(e){return e[0]}function r(e){return e[1]}function o(){this._=null}function i(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function a(e,t){var n=t,r=t.R,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function s(e,t){var n=t,r=t.L,o=n.U;o?o.L===n?o.L=r:o.R=r:e._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function u(e){while(e.L)e=e.L;return e}function l(e,t,n,r){var o=[null,null],i=D.push(o)-1;return o.left=e,o.right=t,n&&d(o,e,t,n),r&&d(o,t,e,r),I[e.index].halfedges.push(i),I[t.index].halfedges.push(i),o}function c(e,t,n){var r=[t,n];return r.left=e,r}function d(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function f(e,t,n,r,o){var i,a=e[0],s=e[1],u=a[0],l=a[1],c=s[0],d=s[1],f=0,h=1,p=c-u,v=d-l;if(i=t-u,p||!(i>0)){if(i/=p,p<0){if(i<f)return;i<h&&(h=i)}else if(p>0){if(i>h)return;i>f&&(f=i)}if(i=r-u,p||!(i<0)){if(i/=p,p<0){if(i>h)return;i>f&&(f=i)}else if(p>0){if(i<f)return;i<h&&(h=i)}if(i=n-l,v||!(i>0)){if(i/=v,v<0){if(i<f)return;i<h&&(h=i)}else if(v>0){if(i>h)return;i>f&&(f=i)}if(i=o-l,v||!(i<0)){if(i/=v,v<0){if(i>h)return;i>f&&(f=i)}else if(v>0){if(i<f)return;i<h&&(h=i)}return!(f>0||h<1)||(f>0&&(e[0]=[u+f*p,l+f*v]),h<1&&(e[1]=[u+h*p,l+h*v]),!0)}}}}}function h(e,t,n,r,o){var i=e[1];if(i)return!0;var a,s,u=e[0],l=e.left,c=e.right,d=l[0],f=l[1],h=c[0],p=c[1],v=(d+h)/2,g=(f+p)/2;if(p===f){if(v<t||v>=r)return;if(d>h){if(u){if(u[1]>=o)return}else u=[v,n];i=[v,o]}else{if(u){if(u[1]<n)return}else u=[v,o];i=[v,n]}}else if(a=(d-h)/(p-f),s=g-a*v,a<-1||a>1)if(d>h){if(u){if(u[1]>=o)return}else u=[(n-s)/a,n];i=[(o-s)/a,o]}else{if(u){if(u[1]<n)return}else u=[(o-s)/a,o];i=[(n-s)/a,n]}else if(f<p){if(u){if(u[0]>=r)return}else u=[t,a*t+s];i=[r,a*r+s]}else{if(u){if(u[0]<t)return}else u=[r,a*r+s];i=[t,a*t+s]}return e[0]=u,e[1]=i,!0}function p(e,t,n,r){var o,i=D.length;while(i--)h(o=D[i],e,t,n,r)&&f(o,e,t,n,r)&&(Math.abs(o[0][0]-o[1][0])>z||Math.abs(o[0][1]-o[1][1])>z)||delete D[i]}function v(e){return I[e.index]={site:e,halfedges:[]}}function g(e,t){var n=e.site,r=t.left,o=t.right;return n===o&&(o=r,r=n),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(n===r?(r=t[1],o=t[0]):(r=t[0],o=t[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function _(e,t){return t[+(t.left!==e.site)]}function m(e,t){return t[+(t.left===e.site)]}function y(){for(var e,t,n,r,o=0,i=I.length;o<i;++o)if((e=I[o])&&(r=(t=e.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=g(e,D[t[n]]);for(a.sort((function(e,t){return s[t]-s[e]})),n=0;n<r;++n)s[n]=t[a[n]];for(n=0;n<r;++n)t[n]=s[n]}}function b(e,t,n,r){var o,i,a,s,u,l,d,f,h,p,v,g,y=I.length,b=!0;for(o=0;o<y;++o)if(i=I[o]){a=i.site,u=i.halfedges,s=u.length;while(s--)D[u[s]]||u.splice(s,1);s=0,l=u.length;while(s<l)p=m(i,D[u[s]]),v=p[0],g=p[1],d=_(i,D[u[++s%l]]),f=d[0],h=d[1],(Math.abs(v-f)>z||Math.abs(g-h)>z)&&(u.splice(s,0,D.push(c(a,p,Math.abs(v-e)<z&&r-g>z?[e,Math.abs(f-e)<z?h:r]:Math.abs(g-r)<z&&n-v>z?[Math.abs(h-r)<z?f:n,r]:Math.abs(v-n)<z&&g-t>z?[n,Math.abs(f-n)<z?h:t]:Math.abs(g-t)<z&&v-e>z?[Math.abs(h-t)<z?f:e,t]:null))-1),++l);l&&(b=!1)}if(b){var x,w,S,E=1/0;for(o=0,b=null;o<y;++o)(i=I[o])&&(a=i.site,x=a[0]-e,w=a[1]-t,S=x*x+w*w,S<E&&(E=S,b=i));if(b){var j=[e,t],T=[e,r],P=[n,r],k=[n,t];b.halfedges.push(D.push(c(a=b.site,j,T))-1,D.push(c(a,T,P))-1,D.push(c(a,P,k))-1,D.push(c(a,k,j))-1)}}for(o=0;o<y;++o)(i=I[o])&&(i.halfedges.length||delete I[o])}o.prototype={constructor:o,insert:function(e,t){var n,r,o;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){e=e.R;while(e.L)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=u(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);t.L=t.R=null,t.U=n,t.C=!0,e=t;while(n&&n.C)r=n.U,n===r.L?(o=r.R,o&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.R&&(a(this,n),e=n,n=e.U),n.C=!1,r.C=!0,s(this,r))):(o=r.L,o&&o.C?(n.C=o.C=!1,r.C=!0,e=r):(e===n.L&&(s(this,n),e=n,n=e.U),n.C=!1,r.C=!0,a(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,o=e.U,i=e.L,l=e.R;if(n=i?l?u(l):i:l,o?o.L===e?o.L=n:o.R=n:this._=n,i&&l?(r=n.C,n.C=e.C,n.L=i,i.U=n,n!==l?(o=n.U,n.U=e.U,e=n.R,o.L=e,n.R=l,l.U=n):(n.U=o,o=n,e=n.R)):(r=e.C,e=n),e&&(e.U=o),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===o.L){if(t=o.R,t.C&&(t.C=!1,o.C=!0,a(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,s(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,a(this,o),e=this._;break}}else if(t=o.L,t.C&&(t.C=!1,o.C=!0,s(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,a(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,s(this,o),e=this._;break}t.C=!0,e=o,o=o.U}while(!e.C);e&&(e.C=!1)}}};var x,w=[];function S(){i(this),this.x=this.y=this.arc=this.site=this.cy=null}function E(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,o=e.site,i=n.site;if(r!==i){var a=o[0],s=o[1],u=r[0]-a,l=r[1]-s,c=i[0]-a,d=i[1]-s,f=2*(u*d-l*c);if(!(f>=-F)){var h=u*u+l*l,p=c*c+d*d,v=(d*h-l*p)/f,g=(u*p-c*h)/f,_=w.pop()||new S;_.arc=e,_.site=o,_.x=v+a,_.y=(_.cy=g+s)+Math.sqrt(v*v+g*g),e.circle=_;var m=null,y=N._;while(y)if(_.y<y.y||_.y===y.y&&_.x<=y.x){if(!y.L){m=y.P;break}y=y.L}else{if(!y.R){m=y;break}y=y.R}N.insert(m,_),m||(x=_)}}}}function j(e){var t=e.circle;t&&(t.P||(x=t.N),N.remove(t),w.push(t),i(t),e.circle=null)}var T=[];function P(){i(this),this.edge=this.site=this.circle=null}function k(e){var t=T.pop()||new P;return t.site=e,t}function O(e){j(e),L.remove(e),T.push(e),i(e)}function C(e){var t=e.circle,n=t.x,r=t.cy,o=[n,r],i=e.P,a=e.N,s=[e];O(e);var u=i;while(u.circle&&Math.abs(n-u.circle.x)<z&&Math.abs(r-u.circle.cy)<z)i=u.P,s.unshift(u),O(u),u=i;s.unshift(u),j(u);var c=a;while(c.circle&&Math.abs(n-c.circle.x)<z&&Math.abs(r-c.circle.cy)<z)a=c.N,s.push(c),O(c),c=a;s.push(c),j(c);var f,h=s.length;for(f=1;f<h;++f)c=s[f],u=s[f-1],d(c.edge,u.site,c.site,o);u=s[0],c=s[h-1],c.edge=l(u.site,c.site,null,o),E(u),E(c)}function A(e){var t,n,r,o,i=e[0],a=e[1],s=L._;while(s)if(r=M(s,a)-i,r>z)s=s.L;else{if(o=i-R(s,a),!(o>z)){r>-z?(t=s.P,n=s):o>-z?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}v(e);var u=k(e);if(L.insert(t,u),t||n){if(t===n)return j(t),n=k(t.site),L.insert(u,n),u.edge=n.edge=l(t.site,u.site),E(t),void E(n);if(n){j(t),j(n);var c=t.site,f=c[0],h=c[1],p=e[0]-f,g=e[1]-h,_=n.site,m=_[0]-f,y=_[1]-h,b=2*(p*y-g*m),x=p*p+g*g,w=m*m+y*y,S=[(y*x-g*w)/b+f,(p*w-m*x)/b+h];d(n.edge,c,_,S),u.edge=l(c,e,null,S),n.edge=l(e,_,null,S),E(t),E(n)}else u.edge=l(t.site,u.site)}}function M(e,t){var n=e.site,r=n[0],o=n[1],i=o-t;if(!i)return r;var a=e.P;if(!a)return-1/0;n=a.site;var s=n[0],u=n[1],l=u-t;if(!l)return s;var c=s-r,d=1/i-1/l,f=c/l;return d?(-f+Math.sqrt(f*f-2*d*(c*c/(-2*l)-u+l/2+o-i/2)))/d+r:(r+s)/2}function R(e,t){var n=e.N;if(n)return M(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var L,I,N,D,z=1e-6,F=1e-12;function B(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function U(e,t){return t[1]-e[1]||t[0]-e[0]}function H(e,t){var n,r,i,a=e.sort(U).pop();D=[],I=new Array(e.length),L=new o,N=new o;while(1)if(i=x,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(A(a),n=a[0],r=a[1]),a=e.pop();else{if(!i)break;C(i.arc)}if(y(),t){var s=+t[0][0],u=+t[0][1],l=+t[1][0],c=+t[1][1];p(s,u,l,c),b(s,u,l,c)}this.edges=D,this.cells=I,L=N=D=I=null}function V(){var e=n,o=r,i=null;function a(t){return new H(t.map((function(n,r){var i=[Math.round(e(n,r,t)/z)*z,Math.round(o(n,r,t)/z)*z];return i.index=r,i.data=n,i})),i)}return a.polygons=function(e){return a(e).polygons()},a.links=function(e){return a(e).links()},a.triangles=function(e){return a(e).triangles()},a.x=function(n){return arguments.length?(e="function"===typeof n?n:t(+n),a):e},a.y=function(e){return arguments.length?(o="function"===typeof e?e:t(+e),a):o},a.extent=function(e){return arguments.length?(i=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],a):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},a.size=function(e){return arguments.length?(i=null==e?null:[[0,0],[+e[0],+e[1]]],a):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},a}H.prototype={constructor:H,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return _(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,r){if(i=(o=n.halfedges).length){var o,i,a,s=n.site,u=-1,l=t[o[i-1]],c=l.left===s?l.right:l.left;while(++u<i)a=c,l=t[o[u]],c=l.left===s?l.right:l.left,a&&c&&r<a.index&&r<c.index&&B(s,a,c)<0&&e.push([s.data,a.data,c.data])}})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){var r,o,i=this,a=i._found||0,s=i.cells.length;while(!(o=i.cells[a]))if(++a>=s)return null;var u=e-o.site[0],l=t-o.site[1],c=u*u+l*l;do{o=i.cells[r=a],a=null,o.halfedges.forEach((function(n){var r=i.edges[n],s=r.left;if(s!==o.site&&s||(s=r.right)){var u=e-s[0],l=t-s[1],d=u*u+l*l;d<c&&(c=d,a=s.index)}}))}while(null!==a);return i._found=r,null==n||c<=n*n?o.site:null}},e.voronoi=V,Object.defineProperty(e,"__esModule",{value:!0})}))},"./node_modules/_dagre@0.8.5@dagre/index.js":function(e,t,n){e.exports={graphlib:n("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js"),layout:n("./node_modules/_dagre@0.8.5@dagre/lib/layout.js"),debug:n("./node_modules/_dagre@0.8.5@dagre/lib/debug.js"),util:{time:n("./node_modules/_dagre@0.8.5@dagre/lib/util.js").time,notime:n("./node_modules/_dagre@0.8.5@dagre/lib/util.js").notime},version:n("./node_modules/_dagre@0.8.5@dagre/lib/version.js")}},"./node_modules/_dagre@0.8.5@dagre/lib/acyclic.js":function(e,t,n){"use strict";var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/greedy-fas.js");function i(e){var t="greedy"===e.graph().acyclicer?o(e,n(e)):a(e);function n(e){return function(t){return e.edge(t).weight}}r.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r.uniqueId("rev"))}))}function a(e){var t=[],n={},o={};function i(a){r.has(o,a)||(o[a]=!0,n[a]=!0,r.forEach(e.outEdges(a),(function(e){r.has(n,e.w)?t.push(e):i(e.w)})),delete n[a])}return r.forEach(e.nodes(),i),t}function s(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}}))}e.exports={run:i,undo:s}},"./node_modules/_dagre@0.8.5@dagre/lib/add-border-segments.js":function(e,t,n){var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/util.js");function i(e){function t(n){var o=e.children(n),i=e.node(n);if(o.length&&r.forEach(o,t),r.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var s=i.minRank,u=i.maxRank+1;s<u;++s)a(e,"borderLeft","_bl",n,i,s),a(e,"borderRight","_br",n,i,s)}}r.forEach(e.children(),t)}function a(e,t,n,r,i,a){var s={width:0,height:0,rank:a,borderType:t},u=i[t][a-1],l=o.addDummyNode(e,"border",s,n);i[t][a]=l,e.setParent(l,r),u&&e.setEdge(u,l,{weight:1})}e.exports=i},"./node_modules/_dagre@0.8.5@dagre/lib/coordinate-system.js":function(e,t,n){"use strict";var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");function o(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||a(e)}function i(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||u(e),"lr"!==t&&"rl"!==t||(c(e),a(e))}function a(e){r.forEach(e.nodes(),(function(t){s(e.node(t))})),r.forEach(e.edges(),(function(t){s(e.edge(t))}))}function s(e){var t=e.width;e.width=e.height,e.height=t}function u(e){r.forEach(e.nodes(),(function(t){l(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.forEach(n.points,l),r.has(n,"y")&&l(n)}))}function l(e){e.y=-e.y}function c(e){r.forEach(e.nodes(),(function(t){d(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.forEach(n.points,d),r.has(n,"x")&&d(n)}))}function d(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:o,undo:i}},"./node_modules/_dagre@0.8.5@dagre/lib/data/list.js":function(e,t){function n(){var e={};e._next=e._prev=e,this._sentinel=e}function r(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function o(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=n,n.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return r(t),t},n.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&r(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},n.prototype.toString=function(){var e=[],t=this._sentinel,n=t._prev;while(n!==t)e.push(JSON.stringify(n,o)),n=n._prev;return"["+e.join(", ")+"]"}},"./node_modules/_dagre@0.8.5@dagre/lib/debug.js":function(e,t,n){var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/util.js"),i=n("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph;function a(e){var t=o.buildLayerMatrix(e),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),r.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),r.forEach(t,(function(e,t){var o="layer"+t;n.setNode(o,{rank:"same"}),r.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}e.exports={debugOrdering:a}},"./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js":function(e,t,n){var r;try{r=n("./node_modules/_graphlib@2.1.8@graphlib/index.js")}catch(o){}r||(r=window.graphlib),e.exports=r},"./node_modules/_dagre@0.8.5@dagre/lib/greedy-fas.js":function(e,t,n){var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph,i=n("./node_modules/_dagre@0.8.5@dagre/lib/data/list.js");e.exports=s;var a=r.constant(1);function s(e,t){if(e.nodeCount()<=1)return[];var n=c(e,t||a),o=u(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(o,(function(t){return e.outEdges(t.v,t.w)})),!0)}function u(e,t,n){var r,o=[],i=t[t.length-1],a=t[0];while(e.nodeCount()){while(r=a.dequeue())l(e,t,n,r);while(r=i.dequeue())l(e,t,n,r);if(e.nodeCount())for(var s=t.length-2;s>0;--s)if(r=t[s].dequeue(),r){o=o.concat(l(e,t,n,r,!0));break}}return o}function l(e,t,n,o,i){var a=i?[]:void 0;return r.forEach(e.inEdges(o.v),(function(r){var o=e.edge(r),s=e.node(r.v);i&&a.push({v:r.v,w:r.w}),s.out-=o,d(t,n,s)})),r.forEach(e.outEdges(o.v),(function(r){var o=e.edge(r),i=r.w,a=e.node(i);a["in"]-=o,d(t,n,a)})),e.removeNode(o.v),a}function c(e,t){var n=new o,a=0,s=0;r.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),r.forEach(e.edges(),(function(e){var r=n.edge(e.v,e.w)||0,o=t(e),i=r+o;n.setEdge(e.v,e.w,i),s=Math.max(s,n.node(e.v).out+=o),a=Math.max(a,n.node(e.w)["in"]+=o)}));var u=r.range(s+a+3).map((function(){return new i})),l=a+1;return r.forEach(n.nodes(),(function(e){d(u,l,n.node(e))})),{graph:n,buckets:u,zeroIdx:l}}function d(e,t,n){n.out?n["in"]?e[n.out-n["in"]+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},"./node_modules/_dagre@0.8.5@dagre/lib/layout.js":function(e,t,n){"use strict";var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/acyclic.js"),i=n("./node_modules/_dagre@0.8.5@dagre/lib/normalize.js"),a=n("./node_modules/_dagre@0.8.5@dagre/lib/rank/index.js"),s=n("./node_modules/_dagre@0.8.5@dagre/lib/util.js").normalizeRanks,u=n("./node_modules/_dagre@0.8.5@dagre/lib/parent-dummy-chains.js"),l=n("./node_modules/_dagre@0.8.5@dagre/lib/util.js").removeEmptyRanks,c=n("./node_modules/_dagre@0.8.5@dagre/lib/nesting-graph.js"),d=n("./node_modules/_dagre@0.8.5@dagre/lib/add-border-segments.js"),f=n("./node_modules/_dagre@0.8.5@dagre/lib/coordinate-system.js"),h=n("./node_modules/_dagre@0.8.5@dagre/lib/order/index.js"),p=n("./node_modules/_dagre@0.8.5@dagre/lib/position/index.js"),v=n("./node_modules/_dagre@0.8.5@dagre/lib/util.js"),g=n("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph;function _(e,t){var n=t&&t.debugTiming?v.time:v.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return k(e)}));n("  runLayout",(function(){m(t,n)})),n("  updateInputGraph",(function(){y(e,t)}))}))}function m(e,t){t("    makeSpaceForEdgeLabels",(function(){O(e)})),t("    removeSelfEdges",(function(){z(e)})),t("    acyclic",(function(){o.run(e)})),t("    nestingGraph.run",(function(){c.run(e)})),t("    rank",(function(){a(v.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){C(e)})),t("    removeEmptyRanks",(function(){l(e)})),t("    nestingGraph.cleanup",(function(){c.cleanup(e)})),t("    normalizeRanks",(function(){s(e)})),t("    assignRankMinMax",(function(){A(e)})),t("    removeEdgeLabelProxies",(function(){M(e)})),t("    normalize.run",(function(){i.run(e)})),t("    parentDummyChains",(function(){u(e)})),t("    addBorderSegments",(function(){d(e)})),t("    order",(function(){h(e)})),t("    insertSelfEdges",(function(){F(e)})),t("    adjustCoordinateSystem",(function(){f.adjust(e)})),t("    position",(function(){p(e)})),t("    positionSelfEdges",(function(){B(e)})),t("    removeBorderNodes",(function(){D(e)})),t("    normalize.undo",(function(){i.undo(e)})),t("    fixupEdgeLabelCoords",(function(){I(e)})),t("    undoCoordinateSystem",(function(){f.undo(e)})),t("    translateGraph",(function(){R(e)})),t("    assignNodeIntersects",(function(){L(e)})),t("    reversePoints",(function(){N(e)})),t("    acyclic.undo",(function(){o.undo(e)}))}function y(e,t){r.forEach(e.nodes(),(function(n){var r=e.node(n),o=t.node(n);r&&(r.x=o.x,r.y=o.y,t.children(n).length&&(r.width=o.width,r.height=o.height))})),r.forEach(e.edges(),(function(n){var o=e.edge(n),i=t.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}e.exports=_;var b=["nodesep","edgesep","ranksep","marginx","marginy"],x={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},w=["acyclicer","ranker","rankdir","align"],S=["width","height"],E={width:0,height:0},j=["minlen","weight","width","height","labeloffset"],T={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},P=["labelpos"];function k(e){var t=new g({multigraph:!0,compound:!0}),n=H(e.graph());return t.setGraph(r.merge({},x,U(n,b),r.pick(n,w))),r.forEach(e.nodes(),(function(n){var o=H(e.node(n));t.setNode(n,r.defaults(U(o,S),E)),t.setParent(n,e.parent(n))})),r.forEach(e.edges(),(function(n){var o=H(e.edge(n));t.setEdge(n,r.merge({},T,U(o,j),r.pick(o,P)))})),t}function O(e){var t=e.graph();t.ranksep/=2,r.forEach(e.edges(),(function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}function C(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),o=e.node(t.w),i={rank:(o.rank-r.rank)/2+r.rank,e:t};v.addDummyNode(e,"edge-proxy",i,"_ep")}}))}function A(e){var t=0;r.forEach(e.nodes(),(function(n){var o=e.node(n);o.borderTop&&(o.minRank=e.node(o.borderTop).rank,o.maxRank=e.node(o.borderBottom).rank,t=r.max(t,o.maxRank))})),e.graph().maxRank=t}function M(e){r.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}function R(e){var t=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=e.graph(),s=a.marginx||0,u=a.marginy||0;function l(e){var r=e.x,a=e.y,s=e.width,u=e.height;t=Math.min(t,r-s/2),n=Math.max(n,r+s/2),o=Math.min(o,a-u/2),i=Math.max(i,a+u/2)}r.forEach(e.nodes(),(function(t){l(e.node(t))})),r.forEach(e.edges(),(function(t){var n=e.edge(t);r.has(n,"x")&&l(n)})),t-=s,o-=u,r.forEach(e.nodes(),(function(n){var r=e.node(n);r.x-=t,r.y-=o})),r.forEach(e.edges(),(function(n){var i=e.edge(n);r.forEach(i.points,(function(e){e.x-=t,e.y-=o})),r.has(i,"x")&&(i.x-=t),r.has(i,"y")&&(i.y-=o)})),a.width=n-t+s,a.height=i-o+u}function L(e){r.forEach(e.edges(),(function(t){var n,r,o=e.edge(t),i=e.node(t.v),a=e.node(t.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(v.intersectRect(i,n)),o.points.push(v.intersectRect(a,r))}))}function I(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}}))}function N(e){r.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}function D(e){r.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),o=e.node(n.borderTop),i=e.node(n.borderBottom),a=e.node(r.last(n.borderLeft)),s=e.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}})),r.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}function z(e){r.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}function F(e){var t=v.buildLayerMatrix(e);r.forEach(t,(function(t){var n=0;r.forEach(t,(function(t,o){var i=e.node(t);i.order=o+n,r.forEach(i.selfEdges,(function(t){v.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:o+ ++n,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))}function B(e){r.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{x:o+a,y:i},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}}))}function U(e,t){return r.mapValues(r.pick(e,t),Number)}function H(e){var t={};return r.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}},"./node_modules/_dagre@0.8.5@dagre/lib/lodash.js":function(e,t,n){var r;try{r={cloneDeep:n("./node_modules/_lodash@4.17.15@lodash/cloneDeep.js"),constant:n("./node_modules/_lodash@4.17.15@lodash/constant.js"),defaults:n("./node_modules/_lodash@4.17.15@lodash/defaults.js"),each:n("./node_modules/_lodash@4.17.15@lodash/each.js"),filter:n("./node_modules/_lodash@4.17.15@lodash/filter.js"),find:n("./node_modules/_lodash@4.17.15@lodash/find.js"),flatten:n("./node_modules/_lodash@4.17.15@lodash/flatten.js"),forEach:n("./node_modules/_lodash@4.17.15@lodash/forEach.js"),forIn:n("./node_modules/_lodash@4.17.15@lodash/forIn.js"),has:n("./node_modules/_lodash@4.17.15@lodash/has.js"),isUndefined:n("./node_modules/_lodash@4.17.15@lodash/isUndefined.js"),last:n("./node_modules/_lodash@4.17.15@lodash/last.js"),map:n("./node_modules/_lodash@4.17.15@lodash/map.js"),mapValues:n("./node_modules/_lodash@4.17.15@lodash/mapValues.js"),max:n("./node_modules/_lodash@4.17.15@lodash/max.js"),merge:n("./node_modules/_lodash@4.17.15@lodash/merge.js"),min:n("./node_modules/_lodash@4.17.15@lodash/min.js"),minBy:n("./node_modules/_lodash@4.17.15@lodash/minBy.js"),now:n("./node_modules/_lodash@4.17.15@lodash/now.js"),pick:n("./node_modules/_lodash@4.17.15@lodash/pick.js"),range:n("./node_modules/_lodash@4.17.15@lodash/range.js"),reduce:n("./node_modules/_lodash@4.17.15@lodash/reduce.js"),sortBy:n("./node_modules/_lodash@4.17.15@lodash/sortBy.js"),uniqueId:n("./node_modules/_lodash@4.17.15@lodash/uniqueId.js"),values:n("./node_modules/_lodash@4.17.15@lodash/values.js"),zipObject:n("./node_modules/_lodash@4.17.15@lodash/zipObject.js")}}catch(o){}r||(r=window._),e.exports=r},"./node_modules/_dagre@0.8.5@dagre/lib/nesting-graph.js":function(e,t,n){var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/util.js");function i(e){var t=o.addDummyNode(e,"root",{},"_root"),n=s(e),i=r.max(r.values(n))-1,l=2*i+1;e.graph().nestingRoot=t,r.forEach(e.edges(),(function(t){e.edge(t).minlen*=l}));var c=u(e)+1;r.forEach(e.children(),(function(r){a(e,t,l,c,i,n,r)})),e.graph().nodeRankFactor=l}function a(e,t,n,i,s,u,l){var c=e.children(l);if(c.length){var d=o.addBorderNode(e,"_bt"),f=o.addBorderNode(e,"_bb"),h=e.node(l);e.setParent(d,l),h.borderTop=d,e.setParent(f,l),h.borderBottom=f,r.forEach(c,(function(r){a(e,t,n,i,s,u,r);var o=e.node(r),c=o.borderTop?o.borderTop:r,h=o.borderBottom?o.borderBottom:r,p=o.borderTop?i:2*i,v=c!==h?1:s-u[l]+1;e.setEdge(d,c,{weight:p,minlen:v,nestingEdge:!0}),e.setEdge(h,f,{weight:p,minlen:v,nestingEdge:!0})})),e.parent(l)||e.setEdge(t,d,{weight:0,minlen:s+u[l]})}else l!==t&&e.setEdge(t,l,{weight:0,minlen:n})}function s(e){var t={};function n(o,i){var a=e.children(o);a&&a.length&&r.forEach(a,(function(e){n(e,i+1)})),t[o]=i}return r.forEach(e.children(),(function(e){n(e,1)})),t}function u(e){return r.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}function l(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.forEach(e.edges(),(function(t){var n=e.edge(t);n.nestingEdge&&e.removeEdge(t)}))}e.exports={run:i,cleanup:l}},"./node_modules/_dagre@0.8.5@dagre/lib/normalize.js":function(e,t,n){"use strict";var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/util.js");function i(e){e.graph().dummyChains=[],r.forEach(e.edges(),(function(t){a(e,t)}))}function a(e,t){var n=t.v,r=e.node(n).rank,i=t.w,a=e.node(i).rank,s=t.name,u=e.edge(t),l=u.labelRank;if(a!==r+1){var c,d,f;for(e.removeEdge(t),f=0,++r;r<a;++f,++r)u.points=[],d={width:0,height:0,edgeLabel:u,edgeObj:t,rank:r},c=o.addDummyNode(e,"edge",d,"_d"),r===l&&(d.width=u.width,d.height=u.height,d.dummy="edge-label",d.labelpos=u.labelpos),e.setEdge(n,c,{weight:u.weight},s),0===f&&e.graph().dummyChains.push(c),n=c;e.setEdge(n,i,{weight:u.weight},s)}}function s(e){r.forEach(e.graph().dummyChains,(function(t){var n,r=e.node(t),o=r.edgeLabel;e.setEdge(r.edgeObj,o);while(r.dummy)n=e.successors(t)[0],e.removeNode(t),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),t=n,r=e.node(t)}))}e.exports={run:i,undo:s}},"./node_modules/_dagre@0.8.5@dagre/lib/order/add-subgraph-constraints.js":function(e,t,n){var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");function o(e,t,n){var o,i={};r.forEach(n,(function(n){var r,a,s=e.parent(n);while(s){if(r=e.parent(s),r?(a=i[r],i[r]=s):(a=o,o=s),a&&a!==s)return void t.setEdge(a,s);s=r}}))}e.exports=o},"./node_modules/_dagre@0.8.5@dagre/lib/order/barycenter.js":function(e,t,n){var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");function o(e,t){return r.map(t,(function(t){var n=e.inEdges(t);if(n.length){var o=r.reduce(n,(function(t,n){var r=e.edge(n),o=e.node(n.v);return{sum:t.sum+r.weight*o.order,weight:t.weight+r.weight}}),{sum:0,weight:0});return{v:t,barycenter:o.sum/o.weight,weight:o.weight}}return{v:t}}))}e.exports=o},"./node_modules/_dagre@0.8.5@dagre/lib/order/build-layer-graph.js":function(e,t,n){var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph;function i(e,t,n){var i=a(e),s=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(t){return e.node(t)}));return r.forEach(e.nodes(),(function(o){var a=e.node(o),u=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(s.setNode(o),s.setParent(o,u||i),r.forEach(e[n](o),(function(t){var n=t.v===o?t.w:t.v,i=s.edge(n,o),a=r.isUndefined(i)?0:i.weight;s.setEdge(n,o,{weight:e.edge(t).weight+a})})),r.has(a,"minRank")&&s.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))})),s}function a(e){var t;while(e.hasNode(t=r.uniqueId("_root")));return t}e.exports=i},"./node_modules/_dagre@0.8.5@dagre/lib/order/cross-count.js":function(e,t,n){"use strict";var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");function o(e,t){for(var n=0,r=1;r<t.length;++r)n+=i(e,t[r-1],t[r]);return n}function i(e,t,n){var o=r.zipObject(n,r.map(n,(function(e,t){return t}))),i=r.flatten(r.map(t,(function(t){return r.sortBy(r.map(e.outEdges(t),(function(t){return{pos:o[t.w],weight:e.edge(t).weight}})),"pos")})),!0),a=1;while(a<n.length)a<<=1;var s=2*a-1;a-=1;var u=r.map(new Array(s),(function(){return 0})),l=0;return r.forEach(i.forEach((function(e){var t=e.pos+a;u[t]+=e.weight;var n=0;while(t>0)t%2&&(n+=u[t+1]),t=t-1>>1,u[t]+=e.weight;l+=e.weight*n}))),l}e.exports=o},"./node_modules/_dagre@0.8.5@dagre/lib/order/index.js":function(e,t,n){"use strict";var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/order/init-order.js"),i=n("./node_modules/_dagre@0.8.5@dagre/lib/order/cross-count.js"),a=n("./node_modules/_dagre@0.8.5@dagre/lib/order/sort-subgraph.js"),s=n("./node_modules/_dagre@0.8.5@dagre/lib/order/build-layer-graph.js"),u=n("./node_modules/_dagre@0.8.5@dagre/lib/order/add-subgraph-constraints.js"),l=n("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph,c=n("./node_modules/_dagre@0.8.5@dagre/lib/util.js");function d(e){var t=c.maxRank(e),n=f(e,r.range(1,t+1),"inEdges"),a=f(e,r.range(t-1,-1,-1),"outEdges"),s=o(e);p(e,s);for(var u,l=Number.POSITIVE_INFINITY,d=0,v=0;v<4;++d,++v){h(d%2?n:a,d%4>=2),s=c.buildLayerMatrix(e);var g=i(e,s);g<l&&(v=0,u=r.cloneDeep(s),l=g)}p(e,u)}function f(e,t,n){return r.map(t,(function(t){return s(e,t,n)}))}function h(e,t){var n=new l;r.forEach(e,(function(e){var o=e.graph().root,i=a(e,o,n,t);r.forEach(i.vs,(function(t,n){e.node(t).order=n})),u(e,n,i.vs)}))}function p(e,t){r.forEach(t,(function(t){r.forEach(t,(function(t,n){e.node(t).order=n}))}))}e.exports=d},"./node_modules/_dagre@0.8.5@dagre/lib/order/init-order.js":function(e,t,n){"use strict";var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");function o(e){var t={},n=r.filter(e.nodes(),(function(t){return!e.children(t).length})),o=r.max(r.map(n,(function(t){return e.node(t).rank}))),i=r.map(r.range(o+1),(function(){return[]}));function a(n){if(!r.has(t,n)){t[n]=!0;var o=e.node(n);i[o.rank].push(n),r.forEach(e.successors(n),a)}}var s=r.sortBy(n,(function(t){return e.node(t).rank}));return r.forEach(s,a),i}e.exports=o},"./node_modules/_dagre@0.8.5@dagre/lib/order/resolve-conflicts.js":function(e,t,n){"use strict";var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");function o(e,t){var n={};r.forEach(e,(function(e,t){var o=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};r.isUndefined(e.barycenter)||(o.barycenter=e.barycenter,o.weight=e.weight)})),r.forEach(t.edges(),(function(e){var t=n[e.v],o=n[e.w];r.isUndefined(t)||r.isUndefined(o)||(o.indegree++,t.out.push(n[e.w]))}));var o=r.filter(n,(function(e){return!e.indegree}));return i(o)}function i(e){var t=[];function n(e){return function(t){t.merged||(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&a(e,t)}}function o(t){return function(n){n["in"].push(t),0===--n.indegree&&e.push(n)}}while(e.length){var i=e.pop();t.push(i),r.forEach(i["in"].reverse(),n(i)),r.forEach(i.out,o(i))}return r.map(r.filter(t,(function(e){return!e.merged})),(function(e){return r.pick(e,["vs","i","barycenter","weight"])}))}function a(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}e.exports=o},"./node_modules/_dagre@0.8.5@dagre/lib/order/sort-subgraph.js":function(e,t,n){var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/order/barycenter.js"),i=n("./node_modules/_dagre@0.8.5@dagre/lib/order/resolve-conflicts.js"),a=n("./node_modules/_dagre@0.8.5@dagre/lib/order/sort.js");function s(e,t,n,c){var d=e.children(t),f=e.node(t),h=f?f.borderLeft:void 0,p=f?f.borderRight:void 0,v={};h&&(d=r.filter(d,(function(e){return e!==h&&e!==p})));var g=o(e,d);r.forEach(g,(function(t){if(e.children(t.v).length){var o=s(e,t.v,n,c);v[t.v]=o,r.has(o,"barycenter")&&l(t,o)}}));var _=i(g,n);u(_,v);var m=a(_,c);if(h&&(m.vs=r.flatten([h,m.vs,p],!0),e.predecessors(h).length)){var y=e.node(e.predecessors(h)[0]),b=e.node(e.predecessors(p)[0]);r.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+y.order+b.order)/(m.weight+2),m.weight+=2}return m}function u(e,t){r.forEach(e,(function(e){e.vs=r.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}function l(e,t){r.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}e.exports=s},"./node_modules/_dagre@0.8.5@dagre/lib/order/sort.js":function(e,t,n){var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/util.js");function i(e,t){var n=o.partition(e,(function(e){return r.has(e,"barycenter")})),i=n.lhs,u=r.sortBy(n.rhs,(function(e){return-e.i})),l=[],c=0,d=0,f=0;i.sort(s(!!t)),f=a(l,u,f),r.forEach(i,(function(e){f+=e.vs.length,l.push(e.vs),c+=e.barycenter*e.weight,d+=e.weight,f=a(l,u,f)}));var h={vs:r.flatten(l,!0)};return d&&(h.barycenter=c/d,h.weight=d),h}function a(e,t,n){var o;while(t.length&&(o=r.last(t)).i<=n)t.pop(),e.push(o.vs),n++;return n}function s(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}e.exports=i},"./node_modules/_dagre@0.8.5@dagre/lib/parent-dummy-chains.js":function(e,t,n){var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");function o(e){var t=a(e);r.forEach(e.graph().dummyChains,(function(n){var r=e.node(n),o=r.edgeObj,a=i(e,t,o.v,o.w),s=a.path,u=a.lca,l=0,c=s[l],d=!0;while(n!==o.w){if(r=e.node(n),d){while((c=s[l])!==u&&e.node(c).maxRank<r.rank)l++;c===u&&(d=!1)}if(!d){while(l<s.length-1&&e.node(c=s[l+1]).minRank<=r.rank)l++;c=s[l]}e.setParent(n,c),n=e.successors(n)[0]}}))}function i(e,t,n,r){var o,i,a=[],s=[],u=Math.min(t[n].low,t[r].low),l=Math.max(t[n].lim,t[r].lim);o=n;do{o=e.parent(o),a.push(o)}while(o&&(t[o].low>u||l>t[o].lim));i=o,o=r;while((o=e.parent(o))!==i)s.push(o);return{path:a.concat(s.reverse()),lca:i}}function a(e){var t={},n=0;function o(i){var a=n;r.forEach(e.children(i),o),t[i]={low:a,lim:n++}}return r.forEach(e.children(),o),t}e.exports=o},"./node_modules/_dagre@0.8.5@dagre/lib/position/bk.js":function(e,t,n){"use strict";var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph,i=n("./node_modules/_dagre@0.8.5@dagre/lib/util.js");function a(e,t){var n={};function o(t,o){var i=0,a=0,s=t.length,c=r.last(o);return r.forEach(o,(function(t,d){var f=u(e,t),h=f?e.node(f).order:s;(f||t===c)&&(r.forEach(o.slice(a,d+1),(function(t){r.forEach(e.predecessors(t),(function(r){var o=e.node(r),a=o.order;!(a<i||h<a)||o.dummy&&e.node(t).dummy||l(n,r,t)}))})),a=d+1,i=h)})),o}return r.reduce(t,o),n}function s(e,t){var n={};function o(t,o,i,a,s){var u;r.forEach(r.range(o,i),(function(o){u=t[o],e.node(u).dummy&&r.forEach(e.predecessors(u),(function(t){var r=e.node(t);r.dummy&&(r.order<a||r.order>s)&&l(n,t,u)}))}))}function i(t,n){var i,a=-1,s=0;return r.forEach(n,(function(r,u){if("border"===e.node(r).dummy){var l=e.predecessors(r);l.length&&(i=e.node(l[0]).order,o(n,s,u,a,i),s=u,a=i)}o(n,s,n.length,i,t.length)})),n}return r.reduce(t,i),n}function u(e,t){if(e.node(t).dummy)return r.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}function l(e,t,n){if(t>n){var r=t;t=n,n=r}var o=e[t];o||(e[t]=o={}),o[n]=!0}function c(e,t,n){if(t>n){var o=t;t=n,n=o}return r.has(e[t],n)}function d(e,t,n,o){var i={},a={},s={};return r.forEach(t,(function(e){r.forEach(e,(function(e,t){i[e]=e,a[e]=e,s[e]=t}))})),r.forEach(t,(function(e){var t=-1;r.forEach(e,(function(e){var u=o(e);if(u.length){u=r.sortBy(u,(function(e){return s[e]}));for(var l=(u.length-1)/2,d=Math.floor(l),f=Math.ceil(l);d<=f;++d){var h=u[d];a[e]===e&&t<s[h]&&!c(n,e,h)&&(a[h]=e,a[e]=i[e]=i[h],t=s[h])}}}))})),{root:i,align:a}}function f(e,t,n,o,i){var a={},s=h(e,t,n,i),u=i?"borderLeft":"borderRight";function l(e,t){var n=s.nodes(),r=n.pop(),o={};while(r)o[r]?e(r):(o[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}function c(e){a[e]=s.inEdges(e).reduce((function(e,t){return Math.max(e,a[t.v]+s.edge(t))}),0)}function d(t){var n=s.outEdges(t).reduce((function(e,t){return Math.min(e,a[t.w]-s.edge(t))}),Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==u&&(a[t]=Math.max(a[t],n))}return l(c,s.predecessors.bind(s)),l(d,s.successors.bind(s)),r.forEach(o,(function(e){a[e]=a[n[e]]})),a}function h(e,t,n,i){var a=new o,s=e.graph(),u=m(s.nodesep,s.edgesep,i);return r.forEach(t,(function(t){var o;r.forEach(t,(function(t){var r=n[t];if(a.setNode(r),o){var i=n[o],s=a.edge(i,r);a.setEdge(i,r,Math.max(u(e,t,o),s||0))}o=t}))})),a}function p(e,t){return r.minBy(r.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(t,(function(t,r){var i=y(e,r)/2;n=Math.max(t+i,n),o=Math.min(t-i,o)})),n-o}))}function v(e,t){var n=r.values(t),o=r.min(n),i=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var s,u=n+a,l=e[u];if(l!==t){var c=r.values(l);s="l"===a?o-r.min(c):i-r.max(c),s&&(e[u]=r.mapValues(l,(function(e){return e+s})))}}))}))}function g(e,t){return r.mapValues(e.ul,(function(n,o){if(t)return e[t.toLowerCase()][o];var i=r.sortBy(r.map(e,o));return(i[1]+i[2])/2}))}function _(e){var t,n=i.buildLayerMatrix(e),o=r.merge(a(e,n),s(e,n)),u={};r.forEach(["u","d"],(function(i){t="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(t=r.map(t,(function(e){return r.values(e).reverse()})));var a=("u"===i?e.predecessors:e.successors).bind(e),s=d(e,t,o,a),l=f(e,t,s.root,s.align,"r"===n);"r"===n&&(l=r.mapValues(l,(function(e){return-e}))),u[i+n]=l}))}));var l=p(e,u);return v(u,l),g(u,e.graph().align)}function m(e,t,n){return function(o,i,a){var s,u=o.node(i),l=o.node(a),c=0;if(c+=u.width/2,r.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":s=-u.width/2;break;case"r":s=u.width/2;break}if(s&&(c+=n?s:-s),s=0,c+=(u.dummy?t:e)/2,c+=(l.dummy?t:e)/2,c+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=l.width/2;break;case"r":s=-l.width/2;break}return s&&(c+=n?s:-s),s=0,c}}function y(e,t){return e.node(t).width}e.exports={positionX:_,findType1Conflicts:a,findType2Conflicts:s,addConflict:l,hasConflict:c,verticalAlignment:d,horizontalCompaction:f,alignCoordinates:v,findSmallestWidthAlignment:p,balance:g}},"./node_modules/_dagre@0.8.5@dagre/lib/position/index.js":function(e,t,n){"use strict";var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/util.js"),i=n("./node_modules/_dagre@0.8.5@dagre/lib/position/bk.js").positionX;function a(e){e=o.asNonCompoundGraph(e),s(e),r.forEach(i(e),(function(t,n){e.node(n).x=t}))}function s(e){var t=o.buildLayerMatrix(e),n=e.graph().ranksep,i=0;r.forEach(t,(function(t){var o=r.max(r.map(t,(function(t){return e.node(t).height})));r.forEach(t,(function(t){e.node(t).y=i+o/2})),i+=o+n}))}e.exports=a},"./node_modules/_dagre@0.8.5@dagre/lib/rank/feasible-tree.js":function(e,t,n){"use strict";var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph,i=n("./node_modules/_dagre@0.8.5@dagre/lib/rank/util.js").slack;function a(e){var t,n,r=new o({directed:!1}),a=e.nodes()[0],c=e.nodeCount();r.setNode(a,{});while(s(r,e)<c)t=u(r,e),n=r.hasNode(t.v)?i(e,t):-i(e,t),l(r,e,n);return r}function s(e,t){function n(o){r.forEach(t.nodeEdges(o),(function(r){var a=r.v,s=o===a?r.w:a;e.hasNode(s)||i(t,r)||(e.setNode(s,{}),e.setEdge(o,s,{}),n(s))}))}return r.forEach(e.nodes(),n),e.nodeCount()}function u(e,t){return r.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return i(t,n)}))}function l(e,t,n){r.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}e.exports=a},"./node_modules/_dagre@0.8.5@dagre/lib/rank/index.js":function(e,t,n){"use strict";var r=n("./node_modules/_dagre@0.8.5@dagre/lib/rank/util.js"),o=r.longestPath,i=n("./node_modules/_dagre@0.8.5@dagre/lib/rank/feasible-tree.js"),a=n("./node_modules/_dagre@0.8.5@dagre/lib/rank/network-simplex.js");function s(e){switch(e.graph().ranker){case"network-simplex":c(e);break;case"tight-tree":l(e);break;case"longest-path":u(e);break;default:c(e)}}e.exports=s;var u=o;function l(e){o(e),i(e)}function c(e){a(e)}},"./node_modules/_dagre@0.8.5@dagre/lib/rank/network-simplex.js":function(e,t,n){"use strict";var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/rank/feasible-tree.js"),i=n("./node_modules/_dagre@0.8.5@dagre/lib/rank/util.js").slack,a=n("./node_modules/_dagre@0.8.5@dagre/lib/rank/util.js").longestPath,s=n("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").alg.preorder,u=n("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").alg.postorder,l=n("./node_modules/_dagre@0.8.5@dagre/lib/util.js").simplify;function c(e){e=l(e),a(e);var t,n,r=o(e);p(r),d(r,e);while(t=g(r))n=_(r,e,t),m(r,e,t,n)}function d(e,t){var n=u(e,e.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){f(e,t,n)}))}function f(e,t,n){var r=e.node(n),o=r.parent;e.edge(n,o).cutvalue=h(e,t,n)}function h(e,t,n){var o=e.node(n),i=o.parent,a=!0,s=t.edge(n,i),u=0;return s||(a=!1,s=t.edge(i,n)),u=s.weight,r.forEach(t.nodeEdges(n),(function(r){var o=r.v===n,s=o?r.w:r.v;if(s!==i){var l=o===a,c=t.edge(r).weight;if(u+=l?c:-c,b(e,n,s)){var d=e.edge(n,s).cutvalue;u+=l?-d:d}}})),u}function p(e,t){arguments.length<2&&(t=e.nodes()[0]),v(e,{},1,t)}function v(e,t,n,o,i){var a=n,s=e.node(o);return t[o]=!0,r.forEach(e.neighbors(o),(function(i){r.has(t,i)||(n=v(e,t,n,i,o))})),s.low=a,s.lim=n++,i?s.parent=i:delete s.parent,n}function g(e){return r.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function _(e,t,n){var o=n.v,a=n.w;t.hasEdge(o,a)||(o=n.w,a=n.v);var s=e.node(o),u=e.node(a),l=s,c=!1;s.lim>u.lim&&(l=u,c=!0);var d=r.filter(t.edges(),(function(t){return c===x(e,e.node(t.v),l)&&c!==x(e,e.node(t.w),l)}));return r.minBy(d,(function(e){return i(t,e)}))}function m(e,t,n,r){var o=n.v,i=n.w;e.removeEdge(o,i),e.setEdge(r.v,r.w,{}),p(e),d(e,t),y(e,t)}function y(e,t){var n=r.find(e.nodes(),(function(e){return!t.node(e).parent})),o=s(e,n);o=o.slice(1),r.forEach(o,(function(n){var r=e.node(n).parent,o=t.edge(n,r),i=!1;o||(o=t.edge(r,n),i=!0),t.node(n).rank=t.node(r).rank+(i?o.minlen:-o.minlen)}))}function b(e,t,n){return e.hasEdge(t,n)}function x(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=c,c.initLowLimValues=p,c.initCutValues=d,c.calcCutValue=h,c.leaveEdge=g,c.enterEdge=_,c.exchangeEdges=m},"./node_modules/_dagre@0.8.5@dagre/lib/rank/util.js":function(e,t,n){"use strict";var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js");function o(e){var t={};function n(o){var i=e.node(o);if(r.has(t,o))return i.rank;t[o]=!0;var a=r.min(r.map(e.outEdges(o),(function(t){return n(t.w)-e.edge(t).minlen})));return a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0),i.rank=a}r.forEach(e.sources(),n)}function i(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}e.exports={longestPath:o,slack:i}},"./node_modules/_dagre@0.8.5@dagre/lib/util.js":function(e,t,n){"use strict";var r=n("./node_modules/_dagre@0.8.5@dagre/lib/lodash.js"),o=n("./node_modules/_dagre@0.8.5@dagre/lib/graphlib.js").Graph;function i(e,t,n,o){var i;do{i=r.uniqueId(o)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function a(e){var t=(new o).setGraph(e.graph());return r.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),r.forEach(e.edges(),(function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),t}function s(e){var t=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),r.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t}function u(e){var t=r.map(e.nodes(),(function(t){var n={};return r.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return r.zipObject(e.nodes(),t)}function l(e){var t=r.map(e.nodes(),(function(t){var n={};return r.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return r.zipObject(e.nodes(),t)}function c(e,t){var n,r,o=e.x,i=e.y,a=t.x-o,s=t.y-i,u=e.width/2,l=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*u>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,r=l):(a<0&&(u=-u),n=u,r=u*s/a),{x:o+n,y:i+r}}function d(e){var t=r.map(r.range(v(e)+1),(function(){return[]}));return r.forEach(e.nodes(),(function(n){var o=e.node(n),i=o.rank;r.isUndefined(i)||(t[i][o.order]=n)})),t}function f(e){var t=r.min(r.map(e.nodes(),(function(t){return e.node(t).rank})));r.forEach(e.nodes(),(function(n){var o=e.node(n);r.has(o,"rank")&&(o.rank-=t)}))}function h(e){var t=r.min(r.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];r.forEach(e.nodes(),(function(r){var o=e.node(r).rank-t;n[o]||(n[o]=[]),n[o].push(r)}));var o=0,i=e.graph().nodeRankFactor;r.forEach(n,(function(t,n){r.isUndefined(t)&&n%i!==0?--o:o&&r.forEach(t,(function(t){e.node(t).rank+=o}))}))}function p(e,t,n,r){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=r),i(e,"border",o,t)}function v(e){return r.max(r.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!r.isUndefined(n))return n})))}function g(e,t){var n={lhs:[],rhs:[]};return r.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n}function _(e,t){var n=r.now();try{return t()}finally{console.log(e+" time: "+(r.now()-n)+"ms")}}function m(e,t){return t()}e.exports={addDummyNode:i,simplify:a,asNonCompoundGraph:s,successorWeights:u,predecessorWeights:l,intersectRect:c,buildLayerMatrix:d,normalizeRanks:f,removeEmptyRanks:h,addBorderNode:p,maxRank:v,partition:g,time:_,notime:m}},"./node_modules/_dagre@0.8.5@dagre/lib/version.js":function(e,t){e.exports="0.8.5"},"./node_modules/_graphlib@2.1.8@graphlib/index.js":function(e,t,n){var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/index.js");e.exports={Graph:r.Graph,json:n("./node_modules/_graphlib@2.1.8@graphlib/lib/json.js"),alg:n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/index.js"),version:r.version}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/components.js":function(e,t,n){var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");function o(e){var t,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,t.push(o),r.each(e.successors(o),i),r.each(e.predecessors(o),i))}return r.each(e.nodes(),(function(e){t=[],i(e),t.length&&o.push(t)})),o}e.exports=o},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dfs.js":function(e,t,n){var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");function o(e,t,n){r.isArray(t)||(t=[t]);var o=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],s={};return r.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);i(e,t,"post"===n,s,o,a)})),a}function i(e,t,n,o,a,s){r.has(o,t)||(o[t]=!0,n||s.push(t),r.each(a(t),(function(t){i(e,t,n,o,a,s)})),n&&s.push(t))}e.exports=o},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dijkstra-all.js":function(e,t,n){var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dijkstra.js"),o=n("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");function i(e,t,n){return o.transform(e.nodes(),(function(o,i){o[i]=r(e,i,t,n)}),{})}e.exports=i},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dijkstra.js":function(e,t,n){var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js"),o=n("./node_modules/_graphlib@2.1.8@graphlib/lib/data/priority-queue.js");e.exports=a;var i=r.constant(1);function a(e,t,n,r){return s(e,String(t),n||i,r||function(t){return e.outEdges(t)})}function s(e,t,n,r){var i,a,s={},u=new o,l=function(e){var t=e.v!==i?e.v:e.w,r=s[t],o=n(e),l=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);l<r.distance&&(r.distance=l,r.predecessor=i,u.decrease(t,l))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},u.add(e,n)}));while(u.size()>0){if(i=u.removeMin(),a=s[i],a.distance===Number.POSITIVE_INFINITY)break;r(i).forEach(l)}return s}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/find-cycles.js":function(e,t,n){var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js"),o=n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/tarjan.js");function i(e){return r.filter(o(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}e.exports=i},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/floyd-warshall.js":function(e,t,n){var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");e.exports=i;var o=r.constant(1);function i(e,t,n){return a(e,t||o,n||function(t){return e.outEdges(t)})}function a(e,t,n){var r={},o=e.nodes();return o.forEach((function(e){r[e]={},r[e][e]={distance:0},o.forEach((function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var o=n.v===e?n.w:n.v,i=t(n);r[e][o]={distance:i,predecessor:e}}))})),o.forEach((function(e){var t=r[e];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[e],o=t[n],a=i[n],s=r.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)}))}))})),r}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/index.js":function(e,t,n){e.exports={components:n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/components.js"),dijkstra:n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dijkstra.js"),dijkstraAll:n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dijkstra-all.js"),findCycles:n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/find-cycles.js"),floydWarshall:n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/floyd-warshall.js"),isAcyclic:n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/is-acyclic.js"),postorder:n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/postorder.js"),preorder:n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/preorder.js"),prim:n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/prim.js"),tarjan:n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/tarjan.js"),topsort:n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/topsort.js")}},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/is-acyclic.js":function(e,t,n){var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/topsort.js");function o(e){try{r(e)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}e.exports=o},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/postorder.js":function(e,t,n){var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dfs.js");function o(e,t){return r(e,t,"post")}e.exports=o},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/preorder.js":function(e,t,n){var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/alg/dfs.js");function o(e,t){return r(e,t,"pre")}e.exports=o},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/prim.js":function(e,t,n){var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js"),o=n("./node_modules/_graphlib@2.1.8@graphlib/lib/graph.js"),i=n("./node_modules/_graphlib@2.1.8@graphlib/lib/data/priority-queue.js");function a(e,t){var n,a=new o,s={},u=new i;function l(e){var r=e.v===n?e.w:e.v,o=u.priority(r);if(void 0!==o){var i=t(e);i<o&&(s[r]=n,u.decrease(r,i))}}if(0===e.nodeCount())return a;r.each(e.nodes(),(function(e){u.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),u.decrease(e.nodes()[0],0);var c=!1;while(u.size()>0){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(c)throw new Error("Input graph is not connected: "+e);c=!0}e.nodeEdges(n).forEach(l)}return a}e.exports=a},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/tarjan.js":function(e,t,n){var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");function o(e){var t=0,n=[],o={},i=[];function a(s){var u=o[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach((function(e){r.has(o,e)?o[e].onStack&&(u.lowlink=Math.min(u.lowlink,o[e].index)):(a(e),u.lowlink=Math.min(u.lowlink,o[e].lowlink))})),u.lowlink===u.index){var l,c=[];do{l=n.pop(),o[l].onStack=!1,c.push(l)}while(s!==l);i.push(c)}}return e.nodes().forEach((function(e){r.has(o,e)||a(e)})),i}e.exports=o},"./node_modules/_graphlib@2.1.8@graphlib/lib/alg/topsort.js":function(e,t,n){var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");function o(e){var t={},n={},o=[];function a(s){if(r.has(n,s))throw new i;r.has(t,s)||(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],o.push(s))}if(r.each(e.sinks(),a),r.size(t)!==e.nodeCount())throw new i;return o}function i(){}e.exports=o,o.CycleException=i,i.prototype=new Error},"./node_modules/_graphlib@2.1.8@graphlib/lib/data/priority-queue.js":function(e,t,n){var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");function o(){this._arr=[],this._keyIndices={}}e.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},o.prototype.has=function(e){return r.has(this._keyIndices,e)},o.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var o=this._arr,i=o.length;return n[e]=i,o.push({key:e,priority:t}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},o.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},o.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))},o.prototype._decrease=function(e){var t,n=this._arr,r=n[e].priority;while(0!==e){if(t=e>>1,n[t].priority<r)break;this._swap(e,t),e=t}},o.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t}},"./node_modules/_graphlib@2.1.8@graphlib/lib/graph.js":function(e,t,n){"use strict";var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js");e.exports=s;var o="\0",i="\0",a="\x01";function s(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[i]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function u(e,t){e[t]?e[t]++:e[t]=1}function l(e,t){--e[t]||delete e[t]}function c(e,t,n,i){var s=""+t,u=""+n;if(!e&&s>u){var l=s;s=u,u=l}return s+a+u+a+(r.isUndefined(i)?o:i)}function d(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return r&&(s.name=r),s}function f(e,t){return c(e,t.v,t.w,t.name)}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(e){return this._label=e,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultNodeLabelFn=e,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return r.keys(this._nodes)},s.prototype.sources=function(){var e=this;return r.filter(this.nodes(),(function(t){return r.isEmpty(e._in[t])}))},s.prototype.sinks=function(){var e=this;return r.filter(this.nodes(),(function(t){return r.isEmpty(e._out[t])}))},s.prototype.setNodes=function(e,t){var n=arguments,o=this;return r.each(e,(function(e){n.length>1?o.setNode(e,t):o.setNode(e)})),this},s.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=i,this._children[e]={},this._children[i][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},s.prototype.node=function(e){return this._nodes[e]},s.prototype.hasNode=function(e){return r.has(this._nodes,e)},s.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},s.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t=i;else{t+="";for(var n=t;!r.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},s.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},s.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==i)return t}},s.prototype.children=function(e){if(r.isUndefined(e)&&(e=i),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else{if(e===i)return this.nodes();if(this.hasNode(e))return[]}},s.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},s.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},s.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},s.prototype.isLeaf=function(e){var t;return t=this.isDirected()?this.successors(e):this.neighbors(e),0===t.length},s.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){e(r)&&t.setNode(r,n)})),r.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var o={};function i(e){var r=n.parent(e);return void 0===r||t.hasNode(r)?(o[e]=r,r):r in o?o[r]:i(r)}return this._isCompound&&r.each(t.nodes(),(function(e){t.setParent(e,i(e))})),t},s.prototype.setDefaultEdgeLabel=function(e){return r.isFunction(e)||(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return r.values(this._edgeObjs)},s.prototype.setPath=function(e,t){var n=this,o=arguments;return r.reduce(e,(function(e,r){return o.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r})),this},s.prototype.setEdge=function(){var e,t,n,o,i=!1,a=arguments[0];"object"===typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,n=a.name,2===arguments.length&&(o=arguments[1],i=!0)):(e=a,t=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),e=""+e,t=""+t,r.isUndefined(n)||(n=""+n);var s=c(this._isDirected,e,t,n);if(r.has(this._edgeLabels,s))return i&&(this._edgeLabels[s]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[s]=i?o:this._defaultEdgeLabelFn(e,t,n);var l=d(this._isDirected,e,t,n);return e=l.v,t=l.w,Object.freeze(l),this._edgeObjs[s]=l,u(this._preds[t],e),u(this._sucs[e],t),this._in[t][s]=l,this._out[e][s]=l,this._edgeCount++,this},s.prototype.edge=function(e,t,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):c(this._isDirected,e,t,n);return this._edgeLabels[r]},s.prototype.hasEdge=function(e,t,n){var o=1===arguments.length?f(this._isDirected,arguments[0]):c(this._isDirected,e,t,n);return r.has(this._edgeLabels,o)},s.prototype.removeEdge=function(e,t,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):c(this._isDirected,e,t,n),o=this._edgeObjs[r];return o&&(e=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],l(this._preds[t],e),l(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},s.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var o=r.values(n);return t?r.filter(o,(function(e){return e.v===t})):o}},s.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var o=r.values(n);return t?r.filter(o,(function(e){return e.w===t})):o}},s.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},"./node_modules/_graphlib@2.1.8@graphlib/lib/index.js":function(e,t,n){e.exports={Graph:n("./node_modules/_graphlib@2.1.8@graphlib/lib/graph.js"),version:n("./node_modules/_graphlib@2.1.8@graphlib/lib/version.js")}},"./node_modules/_graphlib@2.1.8@graphlib/lib/json.js":function(e,t,n){var r=n("./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js"),o=n("./node_modules/_graphlib@2.1.8@graphlib/lib/graph.js");function i(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:a(e),edges:s(e)};return r.isUndefined(e.graph())||(t.value=r.clone(e.graph())),t}function a(e){return r.map(e.nodes(),(function(t){var n=e.node(t),o=e.parent(t),i={v:t};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i}))}function s(e){return r.map(e.edges(),(function(t){var n=e.edge(t),o={v:t.v,w:t.w};return r.isUndefined(t.name)||(o.name=t.name),r.isUndefined(n)||(o.value=n),o}))}function u(e){var t=new o(e.options).setGraph(e.value);return r.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),r.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}e.exports={write:i,read:u}},"./node_modules/_graphlib@2.1.8@graphlib/lib/lodash.js":function(e,t,n){var r;try{r={clone:n("./node_modules/_lodash@4.17.15@lodash/clone.js"),constant:n("./node_modules/_lodash@4.17.15@lodash/constant.js"),each:n("./node_modules/_lodash@4.17.15@lodash/each.js"),filter:n("./node_modules/_lodash@4.17.15@lodash/filter.js"),has:n("./node_modules/_lodash@4.17.15@lodash/has.js"),isArray:n("./node_modules/_lodash@4.17.15@lodash/isArray.js"),isEmpty:n("./node_modules/_lodash@4.17.15@lodash/isEmpty.js"),isFunction:n("./node_modules/_lodash@4.17.15@lodash/isFunction.js"),isUndefined:n("./node_modules/_lodash@4.17.15@lodash/isUndefined.js"),keys:n("./node_modules/_lodash@4.17.15@lodash/keys.js"),map:n("./node_modules/_lodash@4.17.15@lodash/map.js"),reduce:n("./node_modules/_lodash@4.17.15@lodash/reduce.js"),size:n("./node_modules/_lodash@4.17.15@lodash/size.js"),transform:n("./node_modules/_lodash@4.17.15@lodash/transform.js"),union:n("./node_modules/_lodash@4.17.15@lodash/union.js"),values:n("./node_modules/_lodash@4.17.15@lodash/values.js")}}catch(o){}r||(r=window._),e.exports=r},"./node_modules/_graphlib@2.1.8@graphlib/lib/version.js":function(e,t){e.exports="2.1.8"},"./node_modules/_isarray@0.0.1@isarray/index.js":function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},"./node_modules/_lodash@4.17.15@lodash/_DataView.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_getNative.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_root.js"),i=r(o,"DataView");e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_Hash.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_hashClear.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_hashDelete.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_hashGet.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_hashHas.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_hashSet.js");function u(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},"./node_modules/_lodash@4.17.15@lodash/_ListCache.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_listCacheClear.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_listCacheDelete.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_listCacheGet.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_listCacheHas.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_listCacheSet.js");function u(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},"./node_modules/_lodash@4.17.15@lodash/_Map.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_getNative.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_root.js"),i=r(o,"Map");e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_MapCache.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_mapCacheClear.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_mapCacheDelete.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_mapCacheGet.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_mapCacheHas.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_mapCacheSet.js");function u(e){var t=-1,n=null==e?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype["delete"]=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=s,e.exports=u},"./node_modules/_lodash@4.17.15@lodash/_Promise.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_getNative.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_root.js"),i=r(o,"Promise");e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_Set.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_getNative.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_root.js"),i=r(o,"Set");e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_SetCache.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_MapCache.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_setCacheAdd.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_setCacheHas.js");function a(e){var t=-1,n=null==e?0:e.length;this.__data__=new r;while(++t<n)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_Stack.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_ListCache.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_stackClear.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_stackDelete.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_stackGet.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_stackHas.js"),u=n("./node_modules/_lodash@4.17.15@lodash/_stackSet.js");function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=o,l.prototype["delete"]=i,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},"./node_modules/_lodash@4.17.15@lodash/_Symbol.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_root.js"),o=r.Symbol;e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_Uint8Array.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_root.js"),o=r.Uint8Array;e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_WeakMap.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_getNative.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_root.js"),i=r(o,"WeakMap");e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_apply.js":function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_arrayEach.js":function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(!1===t(e[n],n,e))break;return e}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_arrayFilter.js":function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length,o=0,i=[];while(++n<r){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_arrayIncludes.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseIndexOf.js");function o(e,t){var n=null==e?0:e.length;return!!n&&r(e,t,0)>-1}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_arrayIncludesWith.js":function(e,t){function n(e,t,n){var r=-1,o=null==e?0:e.length;while(++r<o)if(n(t,e[r]))return!0;return!1}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_arrayLikeKeys.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseTimes.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isArguments.js"),i=n("./node_modules/_lodash@4.17.15@lodash/isArray.js"),a=n("./node_modules/_lodash@4.17.15@lodash/isBuffer.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_isIndex.js"),u=n("./node_modules/_lodash@4.17.15@lodash/isTypedArray.js"),l=Object.prototype,c=l.hasOwnProperty;function d(e,t){var n=i(e),l=!n&&o(e),d=!n&&!l&&a(e),f=!n&&!l&&!d&&u(e),h=n||l||d||f,p=h?r(e.length,String):[],v=p.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||p.push(g);return p}e.exports=d},"./node_modules/_lodash@4.17.15@lodash/_arrayMap.js":function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length,o=Array(r);while(++n<r)o[n]=t(e[n],n,e);return o}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_arrayPush.js":function(e,t){function n(e,t){var n=-1,r=t.length,o=e.length;while(++n<r)e[o+n]=t[n];return e}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_arrayReduce.js":function(e,t){function n(e,t,n,r){var o=-1,i=null==e?0:e.length;r&&i&&(n=e[++o]);while(++o<i)n=t(n,e[o],o,e);return n}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_arraySome.js":function(e,t){function n(e,t){var n=-1,r=null==e?0:e.length;while(++n<r)if(t(e[n],n,e))return!0;return!1}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_asciiSize.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseProperty.js"),o=r("length");e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_assignMergeValue.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseAssignValue.js"),o=n("./node_modules/_lodash@4.17.15@lodash/eq.js");function i(e,t,n){(void 0!==n&&!o(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_assignValue.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseAssignValue.js"),o=n("./node_modules/_lodash@4.17.15@lodash/eq.js"),i=Object.prototype,a=i.hasOwnProperty;function s(e,t,n){var i=e[t];a.call(e,t)&&o(i,n)&&(void 0!==n||t in e)||r(e,t,n)}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/_assocIndexOf.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/eq.js");function o(e,t){var n=e.length;while(n--)if(r(e[n][0],t))return n;return-1}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_baseAssign.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_copyObject.js"),o=n("./node_modules/_lodash@4.17.15@lodash/keys.js");function i(e,t){return e&&r(t,o(t),e)}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_baseAssignIn.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_copyObject.js"),o=n("./node_modules/_lodash@4.17.15@lodash/keysIn.js");function i(e,t){return e&&r(t,o(t),e)}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_baseAssignValue.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_defineProperty.js");function o(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_baseClone.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_Stack.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_arrayEach.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_assignValue.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_baseAssign.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_baseAssignIn.js"),u=n("./node_modules/_lodash@4.17.15@lodash/_cloneBuffer.js"),l=n("./node_modules/_lodash@4.17.15@lodash/_copyArray.js"),c=n("./node_modules/_lodash@4.17.15@lodash/_copySymbols.js"),d=n("./node_modules/_lodash@4.17.15@lodash/_copySymbolsIn.js"),f=n("./node_modules/_lodash@4.17.15@lodash/_getAllKeys.js"),h=n("./node_modules/_lodash@4.17.15@lodash/_getAllKeysIn.js"),p=n("./node_modules/_lodash@4.17.15@lodash/_getTag.js"),v=n("./node_modules/_lodash@4.17.15@lodash/_initCloneArray.js"),g=n("./node_modules/_lodash@4.17.15@lodash/_initCloneByTag.js"),_=n("./node_modules/_lodash@4.17.15@lodash/_initCloneObject.js"),m=n("./node_modules/_lodash@4.17.15@lodash/isArray.js"),y=n("./node_modules/_lodash@4.17.15@lodash/isBuffer.js"),b=n("./node_modules/_lodash@4.17.15@lodash/isMap.js"),x=n("./node_modules/_lodash@4.17.15@lodash/isObject.js"),w=n("./node_modules/_lodash@4.17.15@lodash/isSet.js"),S=n("./node_modules/_lodash@4.17.15@lodash/keys.js"),E=1,j=2,T=4,P="[object Arguments]",k="[object Array]",O="[object Boolean]",C="[object Date]",A="[object Error]",M="[object Function]",R="[object GeneratorFunction]",L="[object Map]",I="[object Number]",N="[object Object]",D="[object RegExp]",z="[object Set]",F="[object String]",B="[object Symbol]",U="[object WeakMap]",H="[object ArrayBuffer]",V="[object DataView]",G="[object Float32Array]",q="[object Float64Array]",X="[object Int8Array]",Y="[object Int16Array]",W="[object Int32Array]",Z="[object Uint8Array]",K="[object Uint8ClampedArray]",Q="[object Uint16Array]",J="[object Uint32Array]",$={};function ee(e,t,n,k,O,C){var A,L=t&E,I=t&j,D=t&T;if(n&&(A=O?n(e,k,O,C):n(e)),void 0!==A)return A;if(!x(e))return e;var z=m(e);if(z){if(A=v(e),!L)return l(e,A)}else{var F=p(e),B=F==M||F==R;if(y(e))return u(e,L);if(F==N||F==P||B&&!O){if(A=I||B?{}:_(e),!L)return I?d(e,s(A,e)):c(e,a(A,e))}else{if(!$[F])return O?e:{};A=g(e,F,L)}}C||(C=new r);var U=C.get(e);if(U)return U;C.set(e,A),w(e)?e.forEach((function(r){A.add(ee(r,t,n,r,e,C))})):b(e)&&e.forEach((function(r,o){A.set(o,ee(r,t,n,o,e,C))}));var H=D?I?h:f:I?keysIn:S,V=z?void 0:H(e);return o(V||e,(function(r,o){V&&(o=r,r=e[o]),i(A,o,ee(r,t,n,o,e,C))})),A}$[P]=$[k]=$[H]=$[V]=$[O]=$[C]=$[G]=$[q]=$[X]=$[Y]=$[W]=$[L]=$[I]=$[N]=$[D]=$[z]=$[F]=$[B]=$[Z]=$[K]=$[Q]=$[J]=!0,$[A]=$[M]=$[U]=!1,e.exports=ee},"./node_modules/_lodash@4.17.15@lodash/_baseCreate.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/isObject.js"),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_baseEach.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseForOwn.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_createBaseEach.js"),i=o(r);e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_baseExtremum.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/isSymbol.js");function o(e,t,n){var o=-1,i=e.length;while(++o<i){var a=e[o],s=t(a);if(null!=s&&(void 0===u?s===s&&!r(s):n(s,u)))var u=s,l=a}return l}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_baseFilter.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseEach.js");function o(e,t){var n=[];return r(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_baseFindIndex.js":function(e,t){function n(e,t,n,r){var o=e.length,i=n+(r?1:-1);while(r?i--:++i<o)if(t(e[i],i,e))return i;return-1}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_baseFlatten.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_arrayPush.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_isFlattenable.js");function i(e,t,n,a,s){var u=-1,l=e.length;n||(n=o),s||(s=[]);while(++u<l){var c=e[u];t>0&&n(c)?t>1?i(c,t-1,n,a,s):r(s,c):a||(s[s.length]=c)}return s}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_baseFor.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_createBaseFor.js"),o=r();e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_baseForOwn.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseFor.js"),o=n("./node_modules/_lodash@4.17.15@lodash/keys.js");function i(e,t){return e&&r(e,t,o)}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_baseGet.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_castPath.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_toKey.js");function i(e,t){t=r(t,e);var n=0,i=t.length;while(null!=e&&n<i)e=e[o(t[n++])];return n&&n==i?e:void 0}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_baseGetAllKeys.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_arrayPush.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isArray.js");function i(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_baseGetTag.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_Symbol.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_getRawTag.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_objectToString.js"),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;function l(e){return null==e?void 0===e?s:a:u&&u in Object(e)?o(e):i(e)}e.exports=l},"./node_modules/_lodash@4.17.15@lodash/_baseGt.js":function(e,t){function n(e,t){return e>t}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_baseHas.js":function(e,t){var n=Object.prototype,r=n.hasOwnProperty;function o(e,t){return null!=e&&r.call(e,t)}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_baseHasIn.js":function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_baseIndexOf.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseFindIndex.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseIsNaN.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_strictIndexOf.js");function a(e,t,n){return t===t?i(e,t,n):r(e,o,n)}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_baseIsArguments.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseGetTag.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isObjectLike.js"),i="[object Arguments]";function a(e){return o(e)&&r(e)==i}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_baseIsEqual.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseIsEqualDeep.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isObjectLike.js");function i(e,t,n,a,s){return e===t||(null==e||null==t||!o(e)&&!o(t)?e!==e&&t!==t:r(e,t,n,a,i,s))}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_baseIsEqualDeep.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_Stack.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_equalArrays.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_equalByTag.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_equalObjects.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_getTag.js"),u=n("./node_modules/_lodash@4.17.15@lodash/isArray.js"),l=n("./node_modules/_lodash@4.17.15@lodash/isBuffer.js"),c=n("./node_modules/_lodash@4.17.15@lodash/isTypedArray.js"),d=1,f="[object Arguments]",h="[object Array]",p="[object Object]",v=Object.prototype,g=v.hasOwnProperty;function _(e,t,n,v,_,m){var y=u(e),b=u(t),x=y?h:s(e),w=b?h:s(t);x=x==f?p:x,w=w==f?p:w;var S=x==p,E=w==p,j=x==w;if(j&&l(e)){if(!l(t))return!1;y=!0,S=!1}if(j&&!S)return m||(m=new r),y||c(e)?o(e,t,n,v,_,m):i(e,t,x,n,v,_,m);if(!(n&d)){var T=S&&g.call(e,"__wrapped__"),P=E&&g.call(t,"__wrapped__");if(T||P){var k=T?e.value():e,O=P?t.value():t;return m||(m=new r),_(k,O,n,v,m)}}return!!j&&(m||(m=new r),a(e,t,n,v,_,m))}e.exports=_},"./node_modules/_lodash@4.17.15@lodash/_baseIsMap.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_getTag.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isObjectLike.js"),i="[object Map]";function a(e){return o(e)&&r(e)==i}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_baseIsMatch.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_Stack.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseIsEqual.js"),i=1,a=2;function s(e,t,n,s){var u=n.length,l=u,c=!s;if(null==e)return!l;e=Object(e);while(u--){var d=n[u];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}while(++u<l){d=n[u];var f=d[0],h=e[f],p=d[1];if(c&&d[2]){if(void 0===h&&!(f in e))return!1}else{var v=new r;if(s)var g=s(h,p,f,e,t,v);if(!(void 0===g?o(p,h,i|a,s,v):g))return!1}}return!0}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/_baseIsNaN.js":function(e,t){function n(e){return e!==e}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_baseIsNative.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/isFunction.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_isMasked.js"),i=n("./node_modules/_lodash@4.17.15@lodash/isObject.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_toSource.js"),s=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,f=c.hasOwnProperty,h=RegExp("^"+d.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(e){if(!i(e)||o(e))return!1;var t=r(e)?h:u;return t.test(a(e))}e.exports=p},"./node_modules/_lodash@4.17.15@lodash/_baseIsSet.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_getTag.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isObjectLike.js"),i="[object Set]";function a(e){return o(e)&&r(e)==i}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_baseIsTypedArray.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseGetTag.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isLength.js"),i=n("./node_modules/_lodash@4.17.15@lodash/isObjectLike.js"),a="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",v="[object RegExp]",g="[object Set]",_="[object String]",m="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",E="[object Int16Array]",j="[object Int32Array]",T="[object Uint8Array]",P="[object Uint8ClampedArray]",k="[object Uint16Array]",O="[object Uint32Array]",C={};function A(e){return i(e)&&o(e.length)&&!!C[r(e)]}C[x]=C[w]=C[S]=C[E]=C[j]=C[T]=C[P]=C[k]=C[O]=!0,C[a]=C[s]=C[y]=C[u]=C[b]=C[l]=C[c]=C[d]=C[f]=C[h]=C[p]=C[v]=C[g]=C[_]=C[m]=!1,e.exports=A},"./node_modules/_lodash@4.17.15@lodash/_baseIteratee.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseMatches.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseMatchesProperty.js"),i=n("./node_modules/_lodash@4.17.15@lodash/identity.js"),a=n("./node_modules/_lodash@4.17.15@lodash/isArray.js"),s=n("./node_modules/_lodash@4.17.15@lodash/property.js");function u(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}e.exports=u},"./node_modules/_lodash@4.17.15@lodash/_baseKeys.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_isPrototype.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_nativeKeys.js"),i=Object.prototype,a=i.hasOwnProperty;function s(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/_baseKeysIn.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/isObject.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_isPrototype.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_nativeKeysIn.js"),a=Object.prototype,s=a.hasOwnProperty;function u(e){if(!r(e))return i(e);var t=o(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}e.exports=u},"./node_modules/_lodash@4.17.15@lodash/_baseLt.js":function(e,t){function n(e,t){return e<t}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_baseMap.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseEach.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isArrayLike.js");function i(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_baseMatches.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseIsMatch.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_getMatchData.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_matchesStrictComparable.js");function a(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_baseMatchesProperty.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseIsEqual.js"),o=n("./node_modules/_lodash@4.17.15@lodash/get.js"),i=n("./node_modules/_lodash@4.17.15@lodash/hasIn.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_isKey.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_isStrictComparable.js"),u=n("./node_modules/_lodash@4.17.15@lodash/_matchesStrictComparable.js"),l=n("./node_modules/_lodash@4.17.15@lodash/_toKey.js"),c=1,d=2;function f(e,t){return a(e)&&s(t)?u(l(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,c|d)}}e.exports=f},"./node_modules/_lodash@4.17.15@lodash/_baseMerge.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_Stack.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_assignMergeValue.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_baseFor.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_baseMergeDeep.js"),s=n("./node_modules/_lodash@4.17.15@lodash/isObject.js"),u=n("./node_modules/_lodash@4.17.15@lodash/keysIn.js"),l=n("./node_modules/_lodash@4.17.15@lodash/_safeGet.js");function c(e,t,n,d,f){e!==t&&i(t,(function(i,u){if(f||(f=new r),s(i))a(e,t,u,n,c,d,f);else{var h=d?d(l(e,u),i,u+"",e,t,f):void 0;void 0===h&&(h=i),o(e,u,h)}}),u)}e.exports=c},"./node_modules/_lodash@4.17.15@lodash/_baseMergeDeep.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_assignMergeValue.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_cloneBuffer.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_cloneTypedArray.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_copyArray.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_initCloneObject.js"),u=n("./node_modules/_lodash@4.17.15@lodash/isArguments.js"),l=n("./node_modules/_lodash@4.17.15@lodash/isArray.js"),c=n("./node_modules/_lodash@4.17.15@lodash/isArrayLikeObject.js"),d=n("./node_modules/_lodash@4.17.15@lodash/isBuffer.js"),f=n("./node_modules/_lodash@4.17.15@lodash/isFunction.js"),h=n("./node_modules/_lodash@4.17.15@lodash/isObject.js"),p=n("./node_modules/_lodash@4.17.15@lodash/isPlainObject.js"),v=n("./node_modules/_lodash@4.17.15@lodash/isTypedArray.js"),g=n("./node_modules/_lodash@4.17.15@lodash/_safeGet.js"),_=n("./node_modules/_lodash@4.17.15@lodash/toPlainObject.js");function m(e,t,n,m,y,b,x){var w=g(e,n),S=g(t,n),E=x.get(S);if(E)r(e,n,E);else{var j=b?b(w,S,n+"",e,t,x):void 0,T=void 0===j;if(T){var P=l(S),k=!P&&d(S),O=!P&&!k&&v(S);j=S,P||k||O?l(w)?j=w:c(w)?j=a(w):k?(T=!1,j=o(S,!0)):O?(T=!1,j=i(S,!0)):j=[]:p(S)||u(S)?(j=w,u(w)?j=_(w):h(w)&&!f(w)||(j=s(S))):T=!1}T&&(x.set(S,j),y(j,S,m,b,x),x["delete"](S)),r(e,n,j)}}e.exports=m},"./node_modules/_lodash@4.17.15@lodash/_baseOrderBy.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_arrayMap.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseIteratee.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_baseMap.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_baseSortBy.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_baseUnary.js"),u=n("./node_modules/_lodash@4.17.15@lodash/_compareMultiple.js"),l=n("./node_modules/_lodash@4.17.15@lodash/identity.js");function c(e,t,n){var c=-1;t=r(t.length?t:[l],s(o));var d=i(e,(function(e,n,o){var i=r(t,(function(t){return t(e)}));return{criteria:i,index:++c,value:e}}));return a(d,(function(e,t){return u(e,t,n)}))}e.exports=c},"./node_modules/_lodash@4.17.15@lodash/_basePick.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_basePickBy.js"),o=n("./node_modules/_lodash@4.17.15@lodash/hasIn.js");function i(e,t){return r(e,t,(function(t,n){return o(e,n)}))}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_basePickBy.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseGet.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseSet.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_castPath.js");function a(e,t,n){var a=-1,s=t.length,u={};while(++a<s){var l=t[a],c=r(e,l);n(c,l)&&o(u,i(l,e),c)}return u}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_baseProperty.js":function(e,t){function n(e){return function(t){return null==t?void 0:t[e]}}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_basePropertyDeep.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseGet.js");function o(e){return function(t){return r(t,e)}}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_baseRange.js":function(e,t){var n=Math.ceil,r=Math.max;function o(e,t,o,i){var a=-1,s=r(n((t-e)/(o||1)),0),u=Array(s);while(s--)u[i?s:++a]=e,e+=o;return u}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_baseReduce.js":function(e,t){function n(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_baseRest.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/identity.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_overRest.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_setToString.js");function a(e,t){return i(o(e,t,r),e+"")}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_baseSet.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_assignValue.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_castPath.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_isIndex.js"),a=n("./node_modules/_lodash@4.17.15@lodash/isObject.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_toKey.js");function u(e,t,n,u){if(!a(e))return e;t=o(t,e);var l=-1,c=t.length,d=c-1,f=e;while(null!=f&&++l<c){var h=s(t[l]),p=n;if(l!=d){var v=f[h];p=u?u(v,h,f):void 0,void 0===p&&(p=a(v)?v:i(t[l+1])?[]:{})}r(f,h,p),f=f[h]}return e}e.exports=u},"./node_modules/_lodash@4.17.15@lodash/_baseSetToString.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/constant.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_defineProperty.js"),i=n("./node_modules/_lodash@4.17.15@lodash/identity.js"),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_baseSortBy.js":function(e,t){function n(e,t){var n=e.length;e.sort(t);while(n--)e[n]=e[n].value;return e}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_baseTimes.js":function(e,t){function n(e,t){var n=-1,r=Array(e);while(++n<e)r[n]=t(n);return r}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_baseToString.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_Symbol.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_arrayMap.js"),i=n("./node_modules/_lodash@4.17.15@lodash/isArray.js"),a=n("./node_modules/_lodash@4.17.15@lodash/isSymbol.js"),s=1/0,u=r?r.prototype:void 0,l=u?u.toString:void 0;function c(e){if("string"==typeof e)return e;if(i(e))return o(e,c)+"";if(a(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}e.exports=c},"./node_modules/_lodash@4.17.15@lodash/_baseUnary.js":function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_baseUniq.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_SetCache.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_arrayIncludes.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_arrayIncludesWith.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_cacheHas.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_createSet.js"),u=n("./node_modules/_lodash@4.17.15@lodash/_setToArray.js"),l=200;function c(e,t,n){var c=-1,d=o,f=e.length,h=!0,p=[],v=p;if(n)h=!1,d=i;else if(f>=l){var g=t?null:s(e);if(g)return u(g);h=!1,d=a,v=new r}else v=t?[]:p;e:while(++c<f){var _=e[c],m=t?t(_):_;if(_=n||0!==_?_:0,h&&m===m){var y=v.length;while(y--)if(v[y]===m)continue e;t&&v.push(m),p.push(_)}else d(v,m,n)||(v!==p&&v.push(m),p.push(_))}return p}e.exports=c},"./node_modules/_lodash@4.17.15@lodash/_baseValues.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_arrayMap.js");function o(e,t){return r(t,(function(t){return e[t]}))}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_baseZipObject.js":function(e,t){function n(e,t,n){var r=-1,o=e.length,i=t.length,a={};while(++r<o){var s=r<i?t[r]:void 0;n(a,e[r],s)}return a}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_cacheHas.js":function(e,t){function n(e,t){return e.has(t)}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_castFunction.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/identity.js");function o(e){return"function"==typeof e?e:r}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_castPath.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/isArray.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_isKey.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_stringToPath.js"),a=n("./node_modules/_lodash@4.17.15@lodash/toString.js");function s(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/_cloneArrayBuffer.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_Uint8Array.js");function o(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_cloneBuffer.js":function(e,t,n){(function(e){var r=n("./node_modules/_lodash@4.17.15@lodash/_root.js"),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o,s=a?r.Buffer:void 0,u=s?s.allocUnsafe:void 0;function l(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}e.exports=l}).call(this,n("./node_modules/_webpack@4.42.1@webpack/buildin/module.js")(e))},"./node_modules/_lodash@4.17.15@lodash/_cloneDataView.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_cloneArrayBuffer.js");function o(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_cloneRegExp.js":function(e,t){var n=/\w*$/;function r(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}e.exports=r},"./node_modules/_lodash@4.17.15@lodash/_cloneSymbol.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_Symbol.js"),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;function a(e){return i?Object(i.call(e)):{}}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_cloneTypedArray.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_cloneArrayBuffer.js");function o(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_compareAscending.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/isSymbol.js");function o(e,t){if(e!==t){var n=void 0!==e,o=null===e,i=e===e,a=r(e),s=void 0!==t,u=null===t,l=t===t,c=r(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||o&&s&&l||!n&&l||!i)return 1;if(!o&&!a&&!c&&e<t||c&&n&&i&&!o&&!a||u&&n&&i||!s&&i||!l)return-1}return 0}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_compareMultiple.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_compareAscending.js");function o(e,t,n){var o=-1,i=e.criteria,a=t.criteria,s=i.length,u=n.length;while(++o<s){var l=r(i[o],a[o]);if(l){if(o>=u)return l;var c=n[o];return l*("desc"==c?-1:1)}}return e.index-t.index}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_copyArray.js":function(e,t){function n(e,t){var n=-1,r=e.length;t||(t=Array(r));while(++n<r)t[n]=e[n];return t}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_copyObject.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_assignValue.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseAssignValue.js");function i(e,t,n,i){var a=!n;n||(n={});var s=-1,u=t.length;while(++s<u){var l=t[s],c=i?i(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),a?o(n,l,c):r(n,l,c)}return n}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_copySymbols.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_copyObject.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_getSymbols.js");function i(e,t){return r(e,o(e),t)}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_copySymbolsIn.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_copyObject.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_getSymbolsIn.js");function i(e,t){return r(e,o(e),t)}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_coreJsData.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_root.js"),o=r["__core-js_shared__"];e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_createAssigner.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseRest.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_isIterateeCall.js");function i(e){return r((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);while(++r<i){var u=n[r];u&&e(t,u,r,a)}return t}))}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_createBaseEach.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/isArrayLike.js");function o(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);var i=n.length,a=t?i:-1,s=Object(n);while(t?a--:++a<i)if(!1===o(s[a],a,s))break;return n}}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_createBaseFor.js":function(e,t){function n(e){return function(t,n,r){var o=-1,i=Object(t),a=r(t),s=a.length;while(s--){var u=a[e?s:++o];if(!1===n(i[u],u,i))break}return t}}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_createFind.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseIteratee.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isArrayLike.js"),i=n("./node_modules/_lodash@4.17.15@lodash/keys.js");function a(e){return function(t,n,a){var s=Object(t);if(!o(t)){var u=r(n,3);t=i(t),n=function(e){return u(s[e],e,s)}}var l=e(t,n,a);return l>-1?s[u?t[l]:l]:void 0}}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_createRange.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseRange.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_isIterateeCall.js"),i=n("./node_modules/_lodash@4.17.15@lodash/toFinite.js");function a(e){return function(t,n,a){return a&&"number"!=typeof a&&o(t,n,a)&&(n=a=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),a=void 0===a?t<n?1:-1:i(a),r(t,n,a,e)}}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_createSet.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_Set.js"),o=n("./node_modules/_lodash@4.17.15@lodash/noop.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_setToArray.js"),a=1/0,s=r&&1/i(new r([,-0]))[1]==a?function(e){return new r(e)}:o;e.exports=s},"./node_modules/_lodash@4.17.15@lodash/_defineProperty.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_getNative.js"),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_equalArrays.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_SetCache.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_arraySome.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_cacheHas.js"),a=1,s=2;function u(e,t,n,u,l,c){var d=n&a,f=e.length,h=t.length;if(f!=h&&!(d&&h>f))return!1;var p=c.get(e);if(p&&c.get(t))return p==t;var v=-1,g=!0,_=n&s?new r:void 0;c.set(e,t),c.set(t,e);while(++v<f){var m=e[v],y=t[v];if(u)var b=d?u(y,m,v,t,e,c):u(m,y,v,e,t,c);if(void 0!==b){if(b)continue;g=!1;break}if(_){if(!o(t,(function(e,t){if(!i(_,t)&&(m===e||l(m,e,n,u,c)))return _.push(t)}))){g=!1;break}}else if(m!==y&&!l(m,y,n,u,c)){g=!1;break}}return c["delete"](e),c["delete"](t),g}e.exports=u},"./node_modules/_lodash@4.17.15@lodash/_equalByTag.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_Symbol.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_Uint8Array.js"),i=n("./node_modules/_lodash@4.17.15@lodash/eq.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_equalArrays.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_mapToArray.js"),u=n("./node_modules/_lodash@4.17.15@lodash/_setToArray.js"),l=1,c=2,d="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",v="[object Number]",g="[object RegExp]",_="[object Set]",m="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",w=r?r.prototype:void 0,S=w?w.valueOf:void 0;function E(e,t,n,r,w,E,j){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!E(new o(e),new o(t)));case d:case f:case v:return i(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case m:return e==t+"";case p:var T=s;case _:var P=r&l;if(T||(T=u),e.size!=t.size&&!P)return!1;var k=j.get(e);if(k)return k==t;r|=c,j.set(e,t);var O=a(T(e),T(t),r,w,E,j);return j["delete"](e),O;case y:if(S)return S.call(e)==S.call(t)}return!1}e.exports=E},"./node_modules/_lodash@4.17.15@lodash/_equalObjects.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_getAllKeys.js"),o=1,i=Object.prototype,a=i.hasOwnProperty;function s(e,t,n,i,s,u){var l=n&o,c=r(e),d=c.length,f=r(t),h=f.length;if(d!=h&&!l)return!1;var p=d;while(p--){var v=c[p];if(!(l?v in t:a.call(t,v)))return!1}var g=u.get(e);if(g&&u.get(t))return g==t;var _=!0;u.set(e,t),u.set(t,e);var m=l;while(++p<d){v=c[p];var y=e[v],b=t[v];if(i)var x=l?i(b,y,v,t,e,u):i(y,b,v,e,t,u);if(!(void 0===x?y===b||s(y,b,n,i,u):x)){_=!1;break}m||(m="constructor"==v)}if(_&&!m){var w=e.constructor,S=t.constructor;w==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(_=!1)}return u["delete"](e),u["delete"](t),_}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/_flatRest.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/flatten.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_overRest.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_setToString.js");function a(e){return i(o(e,void 0,r),e+"")}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_freeGlobal.js":function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("./node_modules/_webpack@4.42.1@webpack/buildin/global.js"))},"./node_modules/_lodash@4.17.15@lodash/_getAllKeys.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseGetAllKeys.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_getSymbols.js"),i=n("./node_modules/_lodash@4.17.15@lodash/keys.js");function a(e){return r(e,i,o)}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_getAllKeysIn.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseGetAllKeys.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_getSymbolsIn.js"),i=n("./node_modules/_lodash@4.17.15@lodash/keysIn.js");function a(e){return r(e,i,o)}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_getMapData.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_isKeyable.js");function o(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_getMatchData.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_isStrictComparable.js"),o=n("./node_modules/_lodash@4.17.15@lodash/keys.js");function i(e){var t=o(e),n=t.length;while(n--){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_getNative.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseIsNative.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_getValue.js");function i(e,t){var n=o(e,t);return r(n)?n:void 0}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_getPrototype.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_overArg.js"),o=r(Object.getPrototypeOf,Object);e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_getRawTag.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_Symbol.js"),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;function u(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}e.exports=u},"./node_modules/_lodash@4.17.15@lodash/_getSymbols.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_arrayFilter.js"),o=n("./node_modules/_lodash@4.17.15@lodash/stubArray.js"),i=Object.prototype,a=i.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return a.call(e,t)})))}:o;e.exports=u},"./node_modules/_lodash@4.17.15@lodash/_getSymbolsIn.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_arrayPush.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_getPrototype.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_getSymbols.js"),a=n("./node_modules/_lodash@4.17.15@lodash/stubArray.js"),s=Object.getOwnPropertySymbols,u=s?function(e){var t=[];while(e)r(t,i(e)),e=o(e);return t}:a;e.exports=u},"./node_modules/_lodash@4.17.15@lodash/_getTag.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_DataView.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_Map.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_Promise.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_Set.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_WeakMap.js"),u=n("./node_modules/_lodash@4.17.15@lodash/_baseGetTag.js"),l=n("./node_modules/_lodash@4.17.15@lodash/_toSource.js"),c="[object Map]",d="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",v="[object DataView]",g=l(r),_=l(o),m=l(i),y=l(a),b=l(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=v||o&&x(new o)!=c||i&&x(i.resolve())!=f||a&&x(new a)!=h||s&&x(new s)!=p)&&(x=function(e){var t=u(e),n=t==d?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return v;case _:return c;case m:return f;case y:return h;case b:return p}return t}),e.exports=x},"./node_modules/_lodash@4.17.15@lodash/_getValue.js":function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_hasPath.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_castPath.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isArguments.js"),i=n("./node_modules/_lodash@4.17.15@lodash/isArray.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_isIndex.js"),s=n("./node_modules/_lodash@4.17.15@lodash/isLength.js"),u=n("./node_modules/_lodash@4.17.15@lodash/_toKey.js");function l(e,t,n){t=r(t,e);var l=-1,c=t.length,d=!1;while(++l<c){var f=u(t[l]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++l!=c?d:(c=null==e?0:e.length,!!c&&s(c)&&a(f,c)&&(i(e)||o(e)))}e.exports=l},"./node_modules/_lodash@4.17.15@lodash/_hasUnicode.js":function(e,t){var n="\\ud800-\\udfff",r="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",a=r+o+i,s="\\ufe0e\\ufe0f",u="\\u200d",l=RegExp("["+u+n+a+s+"]");function c(e){return l.test(e)}e.exports=c},"./node_modules/_lodash@4.17.15@lodash/_hashClear.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_nativeCreate.js");function o(){this.__data__=r?r(null):{},this.size=0}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_hashDelete.js":function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_hashGet.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_nativeCreate.js"),o="__lodash_hash_undefined__",i=Object.prototype,a=i.hasOwnProperty;function s(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return a.call(t,e)?t[e]:void 0}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/_hashHas.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_nativeCreate.js"),o=Object.prototype,i=o.hasOwnProperty;function a(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_hashSet.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_nativeCreate.js"),o="__lodash_hash_undefined__";function i(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_initCloneArray.js":function(e,t){var n=Object.prototype,r=n.hasOwnProperty;function o(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_initCloneByTag.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_cloneArrayBuffer.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_cloneDataView.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_cloneRegExp.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_cloneSymbol.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_cloneTypedArray.js"),u="[object Boolean]",l="[object Date]",c="[object Map]",d="[object Number]",f="[object RegExp]",h="[object Set]",p="[object String]",v="[object Symbol]",g="[object ArrayBuffer]",_="[object DataView]",m="[object Float32Array]",y="[object Float64Array]",b="[object Int8Array]",x="[object Int16Array]",w="[object Int32Array]",S="[object Uint8Array]",E="[object Uint8ClampedArray]",j="[object Uint16Array]",T="[object Uint32Array]";function P(e,t,n){var P=e.constructor;switch(t){case g:return r(e);case u:case l:return new P(+e);case _:return o(e,n);case m:case y:case b:case x:case w:case S:case E:case j:case T:return s(e,n);case c:return new P;case d:case p:return new P(e);case f:return i(e);case h:return new P;case v:return a(e)}}e.exports=P},"./node_modules/_lodash@4.17.15@lodash/_initCloneObject.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseCreate.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_getPrototype.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_isPrototype.js");function a(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_isFlattenable.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_Symbol.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isArguments.js"),i=n("./node_modules/_lodash@4.17.15@lodash/isArray.js"),a=r?r.isConcatSpreadable:void 0;function s(e){return i(e)||o(e)||!!(a&&e&&e[a])}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/_isIndex.js":function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function o(e,t){var o=typeof e;return t=null==t?n:t,!!t&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_isIterateeCall.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/eq.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isArrayLike.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_isIndex.js"),a=n("./node_modules/_lodash@4.17.15@lodash/isObject.js");function s(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?o(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/_isKey.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/isArray.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isSymbol.js"),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function s(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/_isKeyable.js":function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_isMasked.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_coreJsData.js"),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function i(e){return!!o&&o in e}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_isPrototype.js":function(e,t){var n=Object.prototype;function r(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||n;return e===r}e.exports=r},"./node_modules/_lodash@4.17.15@lodash/_isStrictComparable.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/isObject.js");function o(e){return e===e&&!r(e)}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_listCacheClear.js":function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_listCacheDelete.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_assocIndexOf.js"),o=Array.prototype,i=o.splice;function a(e){var t=this.__data__,n=r(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():i.call(t,n,1),--this.size,!0}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_listCacheGet.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_assocIndexOf.js");function o(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_listCacheHas.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_assocIndexOf.js");function o(e){return r(this.__data__,e)>-1}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_listCacheSet.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_assocIndexOf.js");function o(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_mapCacheClear.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_Hash.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_ListCache.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_Map.js");function a(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_mapCacheDelete.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_getMapData.js");function o(e){var t=r(this,e)["delete"](e);return this.size-=t?1:0,t}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_mapCacheGet.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_getMapData.js");function o(e){return r(this,e).get(e)}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_mapCacheHas.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_getMapData.js");function o(e){return r(this,e).has(e)}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_mapCacheSet.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_getMapData.js");function o(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_mapToArray.js":function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_matchesStrictComparable.js":function(e,t){function n(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_memoizeCapped.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/memoize.js"),o=500;function i(e){var t=r(e,(function(e){return n.size===o&&n.clear(),e})),n=t.cache;return t}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_nativeCreate.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_getNative.js"),o=r(Object,"create");e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_nativeKeys.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_overArg.js"),o=r(Object.keys,Object);e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_nativeKeysIn.js":function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_nodeUtil.js":function(e,t,n){(function(e){var r=n("./node_modules/_lodash@4.17.15@lodash/_freeGlobal.js"),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o,s=a&&r.process,u=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=u}).call(this,n("./node_modules/_webpack@4.42.1@webpack/buildin/module.js")(e))},"./node_modules/_lodash@4.17.15@lodash/_objectToString.js":function(e,t){var n=Object.prototype,r=n.toString;function o(e){return r.call(e)}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_overArg.js":function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_overRest.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_apply.js"),o=Math.max;function i(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){var i=arguments,a=-1,s=o(i.length-t,0),u=Array(s);while(++a<s)u[a]=i[t+a];a=-1;var l=Array(t+1);while(++a<t)l[a]=i[a];return l[t]=n(u),r(e,this,l)}}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_root.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_freeGlobal.js"),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_safeGet.js":function(e,t){function n(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_setCacheAdd.js":function(e,t){var n="__lodash_hash_undefined__";function r(e){return this.__data__.set(e,n),this}e.exports=r},"./node_modules/_lodash@4.17.15@lodash/_setCacheHas.js":function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_setToArray.js":function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_setToString.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseSetToString.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_shortOut.js"),i=o(r);e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_shortOut.js":function(e,t){var n=800,r=16,o=Date.now;function i(e){var t=0,i=0;return function(){var a=o(),s=r-(a-i);if(i=a,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_stackClear.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_ListCache.js");function o(){this.__data__=new r,this.size=0}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_stackDelete.js":function(e,t){function n(e){var t=this.__data__,n=t["delete"](e);return this.size=t.size,n}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_stackGet.js":function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_stackHas.js":function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_stackSet.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_ListCache.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_Map.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_MapCache.js"),a=200;function s(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/_strictIndexOf.js":function(e,t){function n(e,t,n){var r=n-1,o=e.length;while(++r<o)if(e[r]===t)return r;return-1}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/_stringSize.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_asciiSize.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_hasUnicode.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_unicodeSize.js");function a(e){return o(e)?i(e):r(e)}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_stringToPath.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_memoizeCapped.js"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},"./node_modules/_lodash@4.17.15@lodash/_toKey.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/isSymbol.js"),o=1/0;function i(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/_toSource.js":function(e,t){var n=Function.prototype,r=n.toString;function o(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+""}catch(t){}}return""}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/_unicodeSize.js":function(e,t){var n="\\ud800-\\udfff",r="\\u0300-\\u036f",o="\\ufe20-\\ufe2f",i="\\u20d0-\\u20ff",a=r+o+i,s="\\ufe0e\\ufe0f",u="["+n+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",f="[^"+n+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",g=d+"?",_="["+s+"]?",m="(?:"+v+"(?:"+[f,h,p].join("|")+")"+_+g+")*",y=_+g+m,b="(?:"+[f+l+"?",l,h,p,u].join("|")+")",x=RegExp(c+"(?="+c+")|"+b+y,"g");function w(e){var t=x.lastIndex=0;while(x.test(e))++t;return t}e.exports=w},"./node_modules/_lodash@4.17.15@lodash/clone.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseClone.js"),o=4;function i(e){return r(e,o)}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/cloneDeep.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseClone.js"),o=1,i=4;function a(e){return r(e,o|i)}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/constant.js":function(e,t){function n(e){return function(){return e}}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/defaults.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseRest.js"),o=n("./node_modules/_lodash@4.17.15@lodash/eq.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_isIterateeCall.js"),a=n("./node_modules/_lodash@4.17.15@lodash/keysIn.js"),s=Object.prototype,u=s.hasOwnProperty,l=r((function(e,t){e=Object(e);var n=-1,r=t.length,l=r>2?t[2]:void 0;l&&i(t[0],t[1],l)&&(r=1);while(++n<r){var c=t[n],d=a(c),f=-1,h=d.length;while(++f<h){var p=d[f],v=e[p];(void 0===v||o(v,s[p])&&!u.call(e,p))&&(e[p]=c[p])}}return e}));e.exports=l},"./node_modules/_lodash@4.17.15@lodash/each.js":function(e,t,n){e.exports=n("./node_modules/_lodash@4.17.15@lodash/forEach.js")},"./node_modules/_lodash@4.17.15@lodash/eq.js":function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/filter.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_arrayFilter.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseFilter.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_baseIteratee.js"),a=n("./node_modules/_lodash@4.17.15@lodash/isArray.js");function s(e,t){var n=a(e)?r:o;return n(e,i(t,3))}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/find.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_createFind.js"),o=n("./node_modules/_lodash@4.17.15@lodash/findIndex.js"),i=r(o);e.exports=i},"./node_modules/_lodash@4.17.15@lodash/findIndex.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseFindIndex.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseIteratee.js"),i=n("./node_modules/_lodash@4.17.15@lodash/toInteger.js"),a=Math.max;function s(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var u=null==n?0:i(n);return u<0&&(u=a(s+u,0)),r(e,o(t,3),u)}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/flatten.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseFlatten.js");function o(e){var t=null==e?0:e.length;return t?r(e,1):[]}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/forEach.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_arrayEach.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseEach.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_castFunction.js"),a=n("./node_modules/_lodash@4.17.15@lodash/isArray.js");function s(e,t){var n=a(e)?r:o;return n(e,i(t))}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/forIn.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseFor.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_castFunction.js"),i=n("./node_modules/_lodash@4.17.15@lodash/keysIn.js");function a(e,t){return null==e?e:r(e,o(t),i)}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/get.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseGet.js");function o(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/has.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseHas.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_hasPath.js");function i(e,t){return null!=e&&o(e,t,r)}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/hasIn.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseHasIn.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_hasPath.js");function i(e,t){return null!=e&&o(e,t,r)}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/identity.js":function(e,t){function n(e){return e}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/isArguments.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseIsArguments.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isObjectLike.js"),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},"./node_modules/_lodash@4.17.15@lodash/isArray.js":function(e,t){var n=Array.isArray;e.exports=n},"./node_modules/_lodash@4.17.15@lodash/isArrayLike.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/isFunction.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isLength.js");function i(e){return null!=e&&o(e.length)&&!r(e)}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/isArrayLikeObject.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/isArrayLike.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isObjectLike.js");function i(e){return o(e)&&r(e)}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/isBuffer.js":function(e,t,n){(function(e){var r=n("./node_modules/_lodash@4.17.15@lodash/_root.js"),o=n("./node_modules/_lodash@4.17.15@lodash/stubFalse.js"),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i,u=s?r.Buffer:void 0,l=u?u.isBuffer:void 0,c=l||o;e.exports=c}).call(this,n("./node_modules/_webpack@4.42.1@webpack/buildin/module.js")(e))},"./node_modules/_lodash@4.17.15@lodash/isEmpty.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseKeys.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_getTag.js"),i=n("./node_modules/_lodash@4.17.15@lodash/isArguments.js"),a=n("./node_modules/_lodash@4.17.15@lodash/isArray.js"),s=n("./node_modules/_lodash@4.17.15@lodash/isArrayLike.js"),u=n("./node_modules/_lodash@4.17.15@lodash/isBuffer.js"),l=n("./node_modules/_lodash@4.17.15@lodash/_isPrototype.js"),c=n("./node_modules/_lodash@4.17.15@lodash/isTypedArray.js"),d="[object Map]",f="[object Set]",h=Object.prototype,p=h.hasOwnProperty;function v(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||c(e)||i(e)))return!e.length;var t=o(e);if(t==d||t==f)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(p.call(e,n))return!1;return!0}e.exports=v},"./node_modules/_lodash@4.17.15@lodash/isFunction.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseGetTag.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isObject.js"),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";function l(e){if(!o(e))return!1;var t=r(e);return t==a||t==s||t==i||t==u}e.exports=l},"./node_modules/_lodash@4.17.15@lodash/isLength.js":function(e,t){var n=9007199254740991;function r(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}e.exports=r},"./node_modules/_lodash@4.17.15@lodash/isMap.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseIsMap.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseUnary.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_nodeUtil.js"),a=i&&i.isMap,s=a?o(a):r;e.exports=s},"./node_modules/_lodash@4.17.15@lodash/isObject.js":function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/isObjectLike.js":function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/isPlainObject.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseGetTag.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_getPrototype.js"),i=n("./node_modules/_lodash@4.17.15@lodash/isObjectLike.js"),a="[object Object]",s=Function.prototype,u=Object.prototype,l=s.toString,c=u.hasOwnProperty,d=l.call(Object);function f(e){if(!i(e)||r(e)!=a)return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}e.exports=f},"./node_modules/_lodash@4.17.15@lodash/isSet.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseIsSet.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseUnary.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_nodeUtil.js"),a=i&&i.isSet,s=a?o(a):r;e.exports=s},"./node_modules/_lodash@4.17.15@lodash/isString.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseGetTag.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isArray.js"),i=n("./node_modules/_lodash@4.17.15@lodash/isObjectLike.js"),a="[object String]";function s(e){return"string"==typeof e||!o(e)&&i(e)&&r(e)==a}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/isSymbol.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseGetTag.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isObjectLike.js"),i="[object Symbol]";function a(e){return"symbol"==typeof e||o(e)&&r(e)==i}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/isTypedArray.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseIsTypedArray.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseUnary.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_nodeUtil.js"),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},"./node_modules/_lodash@4.17.15@lodash/isUndefined.js":function(e,t){function n(e){return void 0===e}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/keys.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_arrayLikeKeys.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseKeys.js"),i=n("./node_modules/_lodash@4.17.15@lodash/isArrayLike.js");function a(e){return i(e)?r(e):o(e)}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/keysIn.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_arrayLikeKeys.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseKeysIn.js"),i=n("./node_modules/_lodash@4.17.15@lodash/isArrayLike.js");function a(e){return i(e)?r(e,!0):o(e)}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/last.js":function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/map.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_arrayMap.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseIteratee.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_baseMap.js"),a=n("./node_modules/_lodash@4.17.15@lodash/isArray.js");function s(e,t){var n=a(e)?r:i;return n(e,o(t,3))}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/mapValues.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseAssignValue.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseForOwn.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_baseIteratee.js");function a(e,t){var n={};return t=i(t,3),o(e,(function(e,o,i){r(n,o,t(e,o,i))})),n}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/max.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseExtremum.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseGt.js"),i=n("./node_modules/_lodash@4.17.15@lodash/identity.js");function a(e){return e&&e.length?r(e,i,o):void 0}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/memoize.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_MapCache.js"),o="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},"./node_modules/_lodash@4.17.15@lodash/merge.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseMerge.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_createAssigner.js"),i=o((function(e,t,n){r(e,t,n)}));e.exports=i},"./node_modules/_lodash@4.17.15@lodash/min.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseExtremum.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseLt.js"),i=n("./node_modules/_lodash@4.17.15@lodash/identity.js");function a(e){return e&&e.length?r(e,i,o):void 0}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/minBy.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseExtremum.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseIteratee.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_baseLt.js");function a(e,t){return e&&e.length?r(e,o(t,2),i):void 0}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/noop.js":function(e,t){function n(){}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/now.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_root.js"),o=function(){return r.Date.now()};e.exports=o},"./node_modules/_lodash@4.17.15@lodash/pick.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_basePick.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_flatRest.js"),i=o((function(e,t){return null==e?{}:r(e,t)}));e.exports=i},"./node_modules/_lodash@4.17.15@lodash/property.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseProperty.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_basePropertyDeep.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_isKey.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_toKey.js");function s(e){return i(e)?r(a(e)):o(e)}e.exports=s},"./node_modules/_lodash@4.17.15@lodash/range.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_createRange.js"),o=r();e.exports=o},"./node_modules/_lodash@4.17.15@lodash/reduce.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_arrayReduce.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseEach.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_baseIteratee.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_baseReduce.js"),s=n("./node_modules/_lodash@4.17.15@lodash/isArray.js");function u(e,t,n){var u=s(e)?r:a,l=arguments.length<3;return u(e,i(t,4),n,l,o)}e.exports=u},"./node_modules/_lodash@4.17.15@lodash/size.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseKeys.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_getTag.js"),i=n("./node_modules/_lodash@4.17.15@lodash/isArrayLike.js"),a=n("./node_modules/_lodash@4.17.15@lodash/isString.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_stringSize.js"),u="[object Map]",l="[object Set]";function c(e){if(null==e)return 0;if(i(e))return a(e)?s(e):e.length;var t=o(e);return t==u||t==l?e.size:r(e).length}e.exports=c},"./node_modules/_lodash@4.17.15@lodash/sortBy.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseFlatten.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseOrderBy.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_baseRest.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_isIterateeCall.js"),s=i((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),o(e,r(t,1),[])}));e.exports=s},"./node_modules/_lodash@4.17.15@lodash/stubArray.js":function(e,t){function n(){return[]}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/stubFalse.js":function(e,t){function n(){return!1}e.exports=n},"./node_modules/_lodash@4.17.15@lodash/toFinite.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/toNumber.js"),o=1/0,i=17976931348623157e292;function a(e){if(!e)return 0===e?e:0;if(e=r(e),e===o||e===-o){var t=e<0?-1:1;return t*i}return e===e?e:0}e.exports=a},"./node_modules/_lodash@4.17.15@lodash/toInteger.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/toFinite.js");function o(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/toNumber.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/isObject.js"),o=n("./node_modules/_lodash@4.17.15@lodash/isSymbol.js"),i=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function d(e){if("number"==typeof e)return e;if(o(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=u.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?i:+e}e.exports=d},"./node_modules/_lodash@4.17.15@lodash/toPlainObject.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_copyObject.js"),o=n("./node_modules/_lodash@4.17.15@lodash/keysIn.js");function i(e){return r(e,o(e))}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/toString.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseToString.js");function o(e){return null==e?"":r(e)}e.exports=o},"./node_modules/_lodash@4.17.15@lodash/transform.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_arrayEach.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseCreate.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_baseForOwn.js"),a=n("./node_modules/_lodash@4.17.15@lodash/_baseIteratee.js"),s=n("./node_modules/_lodash@4.17.15@lodash/_getPrototype.js"),u=n("./node_modules/_lodash@4.17.15@lodash/isArray.js"),l=n("./node_modules/_lodash@4.17.15@lodash/isBuffer.js"),c=n("./node_modules/_lodash@4.17.15@lodash/isFunction.js"),d=n("./node_modules/_lodash@4.17.15@lodash/isObject.js"),f=n("./node_modules/_lodash@4.17.15@lodash/isTypedArray.js");function h(e,t,n){var h=u(e),p=h||l(e)||f(e);if(t=a(t,4),null==n){var v=e&&e.constructor;n=p?h?new v:[]:d(e)&&c(v)?o(s(e)):{}}return(p?r:i)(e,(function(e,r,o){return t(n,e,r,o)})),n}e.exports=h},"./node_modules/_lodash@4.17.15@lodash/union.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseFlatten.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseRest.js"),i=n("./node_modules/_lodash@4.17.15@lodash/_baseUniq.js"),a=n("./node_modules/_lodash@4.17.15@lodash/isArrayLikeObject.js"),s=o((function(e){return i(r(e,1,a,!0))}));e.exports=s},"./node_modules/_lodash@4.17.15@lodash/uniqueId.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/toString.js"),o=0;function i(e){var t=++o;return r(e)+t}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/values.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_baseValues.js"),o=n("./node_modules/_lodash@4.17.15@lodash/keys.js");function i(e){return null==e?[]:r(e,o(e))}e.exports=i},"./node_modules/_lodash@4.17.15@lodash/zipObject.js":function(e,t,n){var r=n("./node_modules/_lodash@4.17.15@lodash/_assignValue.js"),o=n("./node_modules/_lodash@4.17.15@lodash/_baseZipObject.js");function i(e,t){return o(e||[],t||[],r)}e.exports=i},"./node_modules/_parse-svg-path@0.1.2@parse-svg-path/index.js":function(e,t){e.exports=o;var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi;function o(e){var t=[];return e.replace(r,(function(e,r,o){var i=r.toLowerCase();o=a(o),"m"==i&&o.length>2&&(t.push([r].concat(o.splice(0,2))),i="l",r="m"==r?"l":"L");while(1){if(o.length==n[i])return o.unshift(r),t.push(o);if(o.length<n[i])throw new Error("malformed path data");t.push([r].concat(o.splice(0,n[i])))}})),t}var i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function a(e){var t=e.match(i);return t?t.map(Number):[]}},"./node_modules/_point-at-length@1.1.0@point-at-length/index.js":function(e,t,n){var r=n("./node_modules/_parse-svg-path@0.1.2@parse-svg-path/index.js"),o=n("./node_modules/_isarray@0.0.1@isarray/index.js"),i=n("./node_modules/_abs-svg-path@0.1.1@abs-svg-path/index.js");function a(e){if(!(this instanceof a))return new a(e);this._path=o(e)?e:r(e),this._path=i(this._path),this._path=l(this._path),this._path=u(this._path)}function s(e,t,n,r){var o=e-n,i=t-r;return Math.sqrt(o*o+i*i)}function u(e){for(var t,n=0,r=0,o={S:{to:"C",x:3},T:{to:"Q",x:1}},i=0,a=e.length;i<a;i++){var s=e[i],u=o[s[0]];u&&(s[0]=u.to,t&&(t[0]===u.to?(n=2*t[u.x+2]-t[u.x],r=2*t[u.x+3]-t[u.x+1]):(n=t[t.length-2],r=t[t.length-1])),s.splice(1,0,n,r)),t=s}return e}function l(e){for(var t,n=[],r=["L",0,0],o=0,i=e.length;o<i;o++){var a=e[o];switch(a[0]){case"M":r=["L",a[1],a[2]],n.push(a);break;case"Z":n.push(r);break;case"H":t=n[n.length-1]||["L",0,0],n.push(["L",a[1],t[t.length-1]]);break;case"V":t=n[n.length-1]||["L",0,0],n.push(["L",t[t.length-2],a[1]]);break;default:n.push(a)}}return n}e.exports=a,a.prototype.at=function(e,t){return this._walk(e,t).pos},a.prototype.length=function(){return this._walk(null).length},a.prototype._walk=function(e,t){for(var n=[0,0],r=[0,0,0],o=[0,0],i=0,a=0;a<this._path.length;a++){var u=this._path[a];if("M"===u[0]){if(n[0]=u[1],n[1]=u[2],0===e)return{length:i,pos:n}}else if("C"===u[0]){r[0]=o[0]=n[0],r[1]=o[1]=n[1],r[2]=i;for(var l=100,c=0;c<=l;c++){var d=c/l,f=g(u,d),h=_(u,d);if(i+=s(n[0],n[1],f,h),n[0]=f,n[1]=h,"number"===typeof e&&i>=e){var p=(i-e)/(i-r[2]),v=[n[0]*(1-p)+r[0]*p,n[1]*(1-p)+r[1]*p];return{length:i,pos:v}}r[0]=n[0],r[1]=n[1],r[2]=i}}else if("Q"===u[0]){r[0]=o[0]=n[0],r[1]=o[1]=n[1],r[2]=i;for(l=100,c=0;c<=l;c++){d=c/l,f=m(u,d),h=y(u,d);if(i+=s(n[0],n[1],f,h),n[0]=f,n[1]=h,"number"===typeof e&&i>=e){p=(i-e)/(i-r[2]),v=[n[0]*(1-p)+r[0]*p,n[1]*(1-p)+r[1]*p];return{length:i,pos:v}}r[0]=n[0],r[1]=n[1],r[2]=i}}else if("L"===u[0]){if(r[0]=n[0],r[1]=n[1],r[2]=i,i+=s(n[0],n[1],u[1],u[2]),n[0]=u[1],n[1]=u[2],"number"===typeof e&&i>=e){p=(i-e)/(i-r[2]),v=[n[0]*(1-p)+r[0]*p,n[1]*(1-p)+r[1]*p];return{length:i,pos:v}}r[0]=n[0],r[1]=n[1],r[2]=i}}return{length:i,pos:n};function g(e,t){return Math.pow(1-t,3)*o[0]+3*Math.pow(1-t,2)*t*e[1]+3*(1-t)*Math.pow(t,2)*e[3]+Math.pow(t,3)*e[5]}function _(e,t){return Math.pow(1-t,3)*o[1]+3*Math.pow(1-t,2)*t*e[2]+3*(1-t)*Math.pow(t,2)*e[4]+Math.pow(t,3)*e[6]}function m(e,t){return Math.pow(1-t,2)*o[0]+2*(1-t)*t*e[1]+Math.pow(t,2)*e[3]}function y(e,t){return Math.pow(1-t,2)*o[1]+2*(1-t)*t*e[2]+Math.pow(t,2)*e[4]}}},"./node_modules/_regression@2.0.1@regression/dist/regression.js":function(e,t,n){var r,o,i;(function(n,a){o=[e],r=a,i="function"===typeof r?r.apply(t,o):r,void 0===i||(e.exports=i)})(0,(function(e){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o={order:2,precision:2,period:null};function i(e,t){var n=[],r=[];e.forEach((function(e,o){null!==e[1]&&(r.push(e),n.push(t[o]))}));var o=r.reduce((function(e,t){return e+t[1]}),0),i=o/r.length,a=r.reduce((function(e,t){var n=t[1]-i;return e+n*n}),0),s=r.reduce((function(e,t,r){var o=n[r],i=t[1]-o[1];return e+i*i}),0);return 1-s/a}function a(e,t){for(var n=e,r=e.length-1,o=[t],i=0;i<r;i++){for(var a=i,s=i+1;s<r;s++)Math.abs(n[i][s])>Math.abs(n[i][a])&&(a=s);for(var u=i;u<r+1;u++){var l=n[u][i];n[u][i]=n[u][a],n[u][a]=l}for(var c=i+1;c<r;c++)for(var d=r;d>=i;d--)n[d][c]-=n[d][i]*n[i][c]/n[i][i]}for(var f=r-1;f>=0;f--){for(var h=0,p=f+1;p<r;p++)h+=n[p][f]*o[p];o[f]=(n[r][f]-h)/n[f][f]}return o}function s(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}var u={linear:function(e,t){for(var n=[0,0,0,0,0],r=0,o=0;o<e.length;o++)null!==e[o][1]&&(r++,n[0]+=e[o][0],n[1]+=e[o][1],n[2]+=e[o][0]*e[o][0],n[3]+=e[o][0]*e[o][1],n[4]+=e[o][1]*e[o][1]);var a=r*n[2]-n[0]*n[0],u=r*n[3]-n[0]*n[1],l=0===a?0:s(u/a,t.precision),c=s(n[1]/r-l*n[0]/r,t.precision),d=function(e){return[s(e,t.precision),s(l*e+c,t.precision)]},f=e.map((function(e){return d(e[0])}));return{points:f,predict:d,equation:[l,c],r2:s(i(e,f),t.precision),string:0===c?"y = "+l+"x":"y = "+l+"x + "+c}},exponential:function(e,t){for(var n=[0,0,0,0,0,0],r=0;r<e.length;r++)null!==e[r][1]&&(n[0]+=e[r][0],n[1]+=e[r][1],n[2]+=e[r][0]*e[r][0]*e[r][1],n[3]+=e[r][1]*Math.log(e[r][1]),n[4]+=e[r][0]*e[r][1]*Math.log(e[r][1]),n[5]+=e[r][0]*e[r][1]);var o=n[1]*n[2]-n[5]*n[5],a=Math.exp((n[2]*n[3]-n[5]*n[4])/o),u=(n[1]*n[4]-n[5]*n[3])/o,l=s(a,t.precision),c=s(u,t.precision),d=function(e){return[s(e,t.precision),s(l*Math.exp(c*e),t.precision)]},f=e.map((function(e){return d(e[0])}));return{points:f,predict:d,equation:[l,c],string:"y = "+l+"e^("+c+"x)",r2:s(i(e,f),t.precision)}},logarithmic:function(e,t){for(var n=[0,0,0,0],r=e.length,o=0;o<r;o++)null!==e[o][1]&&(n[0]+=Math.log(e[o][0]),n[1]+=e[o][1]*Math.log(e[o][0]),n[2]+=e[o][1],n[3]+=Math.pow(Math.log(e[o][0]),2));var a=(r*n[1]-n[2]*n[0])/(r*n[3]-n[0]*n[0]),u=s(a,t.precision),l=s((n[2]-u*n[0])/r,t.precision),c=function(e){return[s(e,t.precision),s(s(l+u*Math.log(e),t.precision),t.precision)]},d=e.map((function(e){return c(e[0])}));return{points:d,predict:c,equation:[l,u],string:"y = "+l+" + "+u+" ln(x)",r2:s(i(e,d),t.precision)}},power:function(e,t){for(var n=[0,0,0,0,0],r=e.length,o=0;o<r;o++)null!==e[o][1]&&(n[0]+=Math.log(e[o][0]),n[1]+=Math.log(e[o][1])*Math.log(e[o][0]),n[2]+=Math.log(e[o][1]),n[3]+=Math.pow(Math.log(e[o][0]),2));var a=(r*n[1]-n[0]*n[2])/(r*n[3]-Math.pow(n[0],2)),u=(n[2]-a*n[0])/r,l=s(Math.exp(u),t.precision),c=s(a,t.precision),d=function(e){return[s(e,t.precision),s(s(l*Math.pow(e,c),t.precision),t.precision)]},f=e.map((function(e){return d(e[0])}));return{points:f,predict:d,equation:[l,c],string:"y = "+l+"x^"+c,r2:s(i(e,f),t.precision)}},polynomial:function(e,t){for(var n=[],o=[],u=0,l=0,c=e.length,d=t.order+1,f=0;f<d;f++){for(var h=0;h<c;h++)null!==e[h][1]&&(u+=Math.pow(e[h][0],f)*e[h][1]);n.push(u),u=0;for(var p=[],v=0;v<d;v++){for(var g=0;g<c;g++)null!==e[g][1]&&(l+=Math.pow(e[g][0],f+v));p.push(l),l=0}o.push(p)}o.push(n);for(var _=a(o,d).map((function(e){return s(e,t.precision)})),m=function(e){return[s(e,t.precision),s(_.reduce((function(t,n,r){return t+n*Math.pow(e,r)}),0),t.precision)]},y=e.map((function(e){return m(e[0])})),b="y = ",x=_.length-1;x>=0;x--)b+=x>1?_[x]+"x^"+x+" + ":1===x?_[x]+"x + ":_[x];return{string:b,points:y,predict:m,equation:[].concat(r(_)).reverse(),r2:s(i(e,y),t.precision)}}};function l(){var e=function(e,r){return n({_round:s},e,t({},r,(function(e,t){return u[r](e,n({},o,t))})))};return Object.keys(u).reduce(e,{})}e.exports=l()}))},"./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js":function(e,t,n){!function(e,n){n(t)}(0,(function(e){"use strict";function t(e){if(0===e.length)return 0;for(var t,n=e[0],r=0,o=1;o<e.length;o++)t=n+e[o],Math.abs(n)>=Math.abs(e[o])?r+=n-t+e[o]:r+=e[o]-t+n,n=t;return n+r}function n(e){if(0===e.length)throw new Error("mean requires at least one data point");return t(e)/e.length}function r(e,t){var r,o,i=n(e),a=0;if(2===t)for(o=0;o<e.length;o++)a+=(r=e[o]-i)*r;else for(o=0;o<e.length;o++)a+=Math.pow(e[o]-i,t);return a}function o(e){if(0===e.length)throw new Error("variance requires at least one data point");return r(e,2)/e.length}function i(e){if(1===e.length)return 0;var t=o(e);return Math.sqrt(t)}function a(e){if(0===e.length)throw new Error("mode requires at least one data point");if(1===e.length)return e[0];for(var t=e[0],n=NaN,r=0,o=1,i=1;i<e.length+1;i++)e[i]!==t?(r<o&&(r=o,n=t),o=1,t=e[i]):o++;return n}function s(e){return e.slice().sort((function(e,t){return e-t}))}function u(e){if(0===e.length)throw new Error("min requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return t}function l(e){if(0===e.length)throw new Error("max requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return t}function c(e,t){var n=e.length*t;if(0===e.length)throw new Error("quantile requires at least one data point.");if(t<0||1<t)throw new Error("quantiles must be between 0 and 1");return 1===t?e[e.length-1]:0===t?e[0]:n%1!=0?e[Math.ceil(n)-1]:e.length%2==0?(e[n-1]+e[n])/2:e[n]}function d(e,t,n,r){for(n=n||0,r=r||e.length-1;n<r;){if(600<r-n){var o=r-n+1,i=t-n+1,a=Math.log(o),s=.5*Math.exp(2*a/3),u=.5*Math.sqrt(a*s*(o-s)/o);i-o/2<0&&(u*=-1),d(e,t,Math.max(n,Math.floor(t-i*s/o+u)),Math.min(r,Math.floor(t+(o-i)*s/o+u)))}var l=e[t],c=n,h=r;for(f(e,n,t),e[r]>l&&f(e,n,r);c<h;){for(f(e,c,h),c++,h--;e[c]<l;)c++;for(;e[h]>l;)h--}e[n]===l?f(e,n,h):f(e,++h,r),h<=t&&(n=h+1),t<=h&&(r=h-1)}}function f(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function h(e,t){var n=e.slice();if(Array.isArray(t)){!function(e,t){for(var n=[0],r=0;r<t.length;r++)n.push(g(e.length,t[r]));n.push(e.length-1),n.sort(v);for(var o=[0,n.length-1];o.length;){var i=Math.ceil(o.pop()),a=Math.floor(o.pop());if(!(i-a<=1)){var s=Math.floor((a+i)/2);p(e,n[s],n[a],n[i]),o.push(a,s,s,i)}}}(n,t);for(var r=[],o=0;o<t.length;o++)r[o]=c(n,t[o]);return r}return p(n,g(n.length,t),0,n.length-1),c(n,t)}function p(e,t,n,r){t%1==0?d(e,t,n,r):(d(e,t=Math.floor(t),n,r),d(e,t+1,t+1,r))}function v(e,t){return e-t}function g(e,t){var n=e*t;return 1===t?e-1:0===t?0:n%1!=0?Math.ceil(n)-1:e%2==0?n-.5:n}function _(e,t){if(t<e[0])return 0;if(t>e[e.length-1])return 1;var n=function(e,t){for(var n=0,r=0,o=e.length;r<o;)t<=e[n=r+o>>>1]?o=n:r=-~n;return r}(e,t);if(e[n]!==t)return n/e.length;n++;var r=function(e,t){for(var n=0,r=0,o=e.length;r<o;)t>=e[n=r+o>>>1]?r=-~n:o=n;return r}(e,t);if(r===n)return n/e.length;var o=r-n+1;return o*(r+n)/2/o/e.length}function m(e){var t=h(e,.75),n=h(e,.25);if("number"==typeof t&&"number"==typeof n)return t-n}function y(e){return+h(e,.5)}function b(e){for(var t=y(e),n=[],r=0;r<e.length;r++)n.push(Math.abs(e[r]-t));return y(n)}function x(e,t){t=t||Math.random;for(var n,r,o=e.length;0<o;)r=Math.floor(t()*o--),n=e[o],e[o]=e[r],e[r]=n;return e}function w(e,t){return x(e.slice().slice(),t)}function S(e){for(var t,n=0,r=0;r<e.length;r++)0!==r&&e[r]===t||(t=e[r],n++);return n}function E(e,t){for(var n=[],r=0;r<e;r++){for(var o=[],i=0;i<t;i++)o.push(0);n.push(o)}return n}function j(e,t,n,r){var o;if(0<e){var i=(n[t]-n[e-1])/(t-e+1);o=r[t]-r[e-1]-(t-e+1)*i*i}else o=r[t]-n[t]*n[t]/(t+1);return o<0?0:o}function T(e,t,n,r,o,i,a){if(!(t<e)){var s=Math.floor((e+t)/2);r[n][s]=r[n-1][s-1],o[n][s]=s;var u=n;n<e&&(u=Math.max(u,o[n][e-1]||0)),u=Math.max(u,o[n-1][s]||0);var l,c,d,f=s-1;t<r.length-1&&(f=Math.min(f,o[n][t+1]||0));for(var h=f;u<=h&&!((l=j(h,s,i,a))+r[n-1][u-1]>=r[n][s]);--h)(c=j(u,s,i,a)+r[n-1][u-1])<r[n][s]&&(r[n][s]=c,o[n][s]=u),u++,(d=l+r[n-1][h-1])<r[n][s]&&(r[n][s]=d,o[n][s]=h);T(e,s-1,n,r,o,i,a),T(s+1,t,n,r,o,i,a)}}function P(e,t){if(e.length!==t.length)throw new Error("sampleCovariance requires samples with equal lengths");if(e.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var r=n(e),o=n(t),i=0,a=0;a<e.length;a++)i+=(e[a]-r)*(t[a]-o);return i/(e.length-1)}function k(e){if(e.length<2)throw new Error("sampleVariance requires at least two data points");return r(e,2)/(e.length-1)}function O(e){var t=k(e);return Math.sqrt(t)}function C(e,t,n,r){return(e*t+n*r)/(t+r)}function A(e){if(0===e.length)throw new Error("rootMeanSquare requires at least one data point");for(var t=0,n=0;n<e.length;n++)t+=Math.pow(e[n],2);return Math.sqrt(t/e.length)}function M(){this.totalCount=0,this.data={}}function R(){this.weights=[],this.bias=0}M.prototype.train=function(e,t){for(var n in this.data[t]||(this.data[t]={}),e){var r=e[n];void 0===this.data[t][n]&&(this.data[t][n]={}),void 0===this.data[t][n][r]&&(this.data[t][n][r]=0),this.data[t][n][r]++}this.totalCount++},M.prototype.score=function(e){var t,n={};for(var r in e){var o=e[r];for(t in this.data)n[t]={},this.data[t][r]?n[t][r+"_"+o]=(this.data[t][r][o]||0)/this.totalCount:n[t][r+"_"+o]=0}var i={};for(t in n)for(var a in i[t]=0,n[t])i[t]+=n[t][a];return i},R.prototype.predict=function(e){if(e.length!==this.weights.length)return null;for(var t=0,n=0;n<this.weights.length;n++)t+=this.weights[n]*e[n];return 0<(t+=this.bias)?1:0},R.prototype.train=function(e,t){if(0!==t&&1!==t)return null;e.length!==this.weights.length&&(this.weights=e,this.bias=1);var n=this.predict(e);if(n!==t){for(var r=t-n,o=0;o<this.weights.length;o++)this.weights[o]+=r*e[o];this.bias+=r}return this};var L=1e-4;function I(e){if(e<0)throw new Error("factorial requires a non-negative value");if(Math.floor(e)!==e)throw new Error("factorial requires an integer input");for(var t=1,n=2;n<=e;n++)t*=n;return t}var N=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],D=Math.log(Math.sqrt(2*Math.PI)),z={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}},F=Math.sqrt(2*Math.PI),B={gaussian:function(e){return Math.exp(-.5*e*e)/F}},U={nrd:function(e){var t=O(e),n=m(e);return"number"==typeof n&&(t=Math.min(t,n/1.34)),1.06*t*Math.pow(e.length,-.2)}};function H(e,t,n){var r,o;if(void 0===t)r=B.gaussian;else if("string"==typeof t){if(!B[t])throw new Error('Unknown kernel "'+t+'"');r=B[t]}else r=t;if(void 0===n)o=U.nrd(e);else if("string"==typeof n){if(!U[n])throw new Error('Unknown bandwidth method "'+n+'"');o=U[n](e)}else o=n;return function(t){var n=0,i=0;for(n=0;n<e.length;n++)i+=r((t-e[n])/o);return i/o/e.length}}var V=Math.sqrt(2*Math.PI);function G(e){for(var t=e,n=e,r=1;r<15;r++)t+=n*=e*e/(2*r+1);return Math.round(1e4*(.5+t/V*Math.exp(-e*e/2)))/1e4}for(var q=[],X=0;X<=3.09;X+=.01)q.push(G(X));function Y(e){var t=1/(1+.5*Math.abs(e)),n=t*Math.exp(-Math.pow(e,2)-1.26551223+1.00002368*t+.37409196*Math.pow(t,2)+.09678418*Math.pow(t,3)-.18628806*Math.pow(t,4)+.27886807*Math.pow(t,5)-1.13520398*Math.pow(t,6)+1.48851587*Math.pow(t,7)-.82215223*Math.pow(t,8)+.17087277*Math.pow(t,9));return 0<=e?1-n:n-1}function W(e){var t=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),n=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*t)+Math.log(1-e*e)/2,2)-Math.log(1-e*e)/t)-(2/(Math.PI*t)+Math.log(1-e*e)/2));return 0<=e?n:-n}function Z(e){if("number"==typeof e)return e<0?-1:0===e?0:1;throw new TypeError("not a number")}e.linearRegression=function(e){var t,n,r=e.length;if(1===r)n=e[t=0][1];else{for(var o,i,a,s=0,u=0,l=0,c=0,d=0;d<r;d++)s+=i=(o=e[d])[0],u+=a=o[1],l+=i*i,c+=i*a;n=u/r-(t=(r*c-s*u)/(r*l-s*s))*s/r}return{m:t,b:n}},e.linearRegressionLine=function(e){return function(t){return e.b+e.m*t}},e.standardDeviation=i,e.rSquared=function(e,t){if(e.length<2)return 1;for(var n,r=0,o=0;o<e.length;o++)r+=e[o][1];n=r/e.length;for(var i=0,a=0;a<e.length;a++)i+=Math.pow(n-e[a][1],2);for(var s=0,u=0;u<e.length;u++)s+=Math.pow(e[u][1]-t(e[u][0]),2);return 1-s/i},e.mode=function(e){return a(s(e))},e.modeFast=function(e){for(var t,n=new Map,r=0,o=0;o<e.length;o++){var i=n.get(e[o]);void 0===i?i=1:i++,r<i&&(t=e[o],r=i),n.set(e[o],i)}if(0===r)throw new Error("mode requires at last one data point");return t},e.modeSorted=a,e.min=u,e.max=l,e.extent=function(e){if(0===e.length)throw new Error("extent requires at least one data point");for(var t=e[0],n=e[0],r=1;r<e.length;r++)e[r]>n&&(n=e[r]),e[r]<t&&(t=e[r]);return[t,n]},e.minSorted=function(e){return e[0]},e.maxSorted=function(e){return e[e.length-1]},e.extentSorted=function(e){return[e[0],e[e.length-1]]},e.sum=t,e.sumSimple=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t},e.product=function(e){for(var t=1,n=0;n<e.length;n++)t*=e[n];return t},e.quantile=h,e.quantileSorted=c,e.quantileRank=function(e,t){return _(s(e),t)},e.quantileRankSorted=_,e.interquartileRange=m,e.iqr=m,e.medianAbsoluteDeviation=b,e.mad=b,e.chunk=function(e,t){var n=[];if(t<1)throw new Error("chunk size must be a positive number");if(Math.floor(t)!==t)throw new Error("chunk size must be an integer");for(var r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n},e.sampleWithReplacement=function(e,t,n){if(0===e.length)return[];n=n||Math.random;for(var r=e.length,o=[],i=0;i<t;i++){var a=Math.floor(n()*r);o.push(e[a])}return o},e.shuffle=w,e.shuffleInPlace=x,e.sample=function(e,t,n){return w(e,n).slice(0,t)},e.ckmeans=function(e,t){if(t>e.length)throw new Error("cannot generate more classes than there are data values");var n=s(e);if(1===S(n))return[n];var r=E(t,n.length),o=E(t,n.length);!function(e,t,n){for(var r,o=t[0].length,i=e[Math.floor(o/2)],a=[],s=[],u=0;u<o;++u)r=e[u]-i,0===u?(a.push(r),s.push(r*r)):(a.push(a[u-1]+r),s.push(s[u-1]+r*r)),t[0][u]=j(0,u,a,s),n[0][u]=0;for(var l=1;l<t.length;++l)T(l<t.length-1?l:o-1,o-1,l,t,n,a,s)}(n,r,o);for(var i=[],a=o[0].length-1,u=o.length-1;0<=u;u--){var l=o[u][a];i[u]=n.slice(l,a+1),0<u&&(a=l-1)}return i},e.uniqueCountSorted=S,e.sumNthPowerDeviations=r,e.equalIntervalBreaks=function(e,t){if(e.length<2)return e;for(var n=u(e),r=l(e),o=[n],i=(r-n)/t,a=1;a<t;a++)o.push(o[0]+i*a);return o.push(r),o},e.sampleCovariance=P,e.sampleCorrelation=function(e,t){return P(e,t)/O(e)/O(t)},e.sampleVariance=k,e.sampleStandardDeviation=O,e.sampleSkewness=function(e){if(e.length<3)throw new Error("sampleSkewness requires at least three data points");for(var t,r=n(e),o=0,i=0,a=0;a<e.length;a++)o+=(t=e[a]-r)*t,i+=t*t*t;var s=e.length-1,u=Math.sqrt(o/s),l=e.length;return l*i/((l-1)*(l-2)*Math.pow(u,3))},e.sampleKurtosis=function(e){var t=e.length;if(t<4)throw new Error("sampleKurtosis requires at least four data points");for(var r,o=n(e),i=0,a=0,s=0;s<t;s++)i+=(r=e[s]-o)*r,a+=r*r*r*r;return(t-1)/((t-2)*(t-3))*(t*(t+1)*a/(i*i)-3*(t-1))},e.permutationsHeap=function(e){for(var t=new Array(e.length),n=[e.slice()],r=0;r<e.length;r++)t[r]=0;for(r=0;r<e.length;)if(t[r]<r){var o=0;r%2!=0&&(o=t[r]);var i=e[o];e[o]=e[r],e[r]=i,n.push(e.slice()),t[r]++,r=0}else t[r]=0,r++;return n},e.combinations=function e(t,n){var r,o,i,a,s=[];for(r=0;r<t.length;r++)if(1===n)s.push([t[r]]);else for(i=e(t.slice(r+1,t.length),n-1),o=0;o<i.length;o++)(a=i[o]).unshift(t[r]),s.push(a);return s},e.combinationsReplacement=function e(t,n){for(var r=[],o=0;o<t.length;o++)if(1===n)r.push([t[o]]);else for(var i=e(t.slice(o,t.length),n-1),a=0;a<i.length;a++)r.push([t[o]].concat(i[a]));return r},e.addToMean=function(e,t,n){return e+(n-e)/(t+1)},e.combineMeans=C,e.combineVariances=function(e,t,n,r,o,i){var a=C(t,n,o,i);return(n*(e+Math.pow(t-a,2))+i*(r+Math.pow(o-a,2)))/(n+i)},e.geometricMean=function(e){if(0===e.length)throw new Error("geometricMean requires at least one data point");for(var t=1,n=0;n<e.length;n++){if(e[n]<=0)throw new Error("geometricMean requires only positive numbers as input");t*=e[n]}return Math.pow(t,1/e.length)},e.harmonicMean=function(e){if(0===e.length)throw new Error("harmonicMean requires at least one data point");for(var t=0,n=0;n<e.length;n++){if(e[n]<=0)throw new Error("harmonicMean requires only positive numbers as input");t+=1/e[n]}return e.length/t},e.average=n,e.mean=n,e.median=y,e.medianSorted=function(e){return c(e,.5)},e.subtractFromMean=function(e,t,n){return(e*t-n)/(t-1)},e.rootMeanSquare=A,e.rms=A,e.variance=o,e.tTest=function(e,t){return(n(e)-t)/(i(e)/Math.sqrt(e.length))},e.tTestTwoSample=function(e,t,r){var o=e.length,i=t.length;if(!o||!i)return null;r||(r=0);var a=n(e),s=n(t),u=k(e),l=k(t);if("number"==typeof a&&"number"==typeof s&&"number"==typeof u&&"number"==typeof l){var c=((o-1)*u+(i-1)*l)/(o+i-2);return(a-s-r)/Math.sqrt(c*(1/o+1/i))}},e.BayesianClassifier=M,e.bayesian=M,e.PerceptronModel=R,e.perceptron=R,e.epsilon=L,e.factorial=I,e.gamma=function e(t){if("number"==typeof(n=t)&&isFinite(n)&&Math.floor(n)===n)return t<=0?NaN:I(t-1);var n;if(--t<0)return Math.PI/(Math.sin(Math.PI*-t)*e(-t));var r=t+.25;return Math.pow(t/Math.E,t)*Math.sqrt(2*Math.PI*(t+1/6))*(1+1/144/Math.pow(r,2)-1/12960/Math.pow(r,3)-257/207360/Math.pow(r,4)-52/2612736/Math.pow(r,5)+5741173/9405849600/Math.pow(r,6)+37529/18811699200/Math.pow(r,7))},e.gammaln=function(e){if(e<=0)return 1/0;e--;for(var t=N[0],n=1;n<15;n++)t+=N[n]/(e+n);var r=5.2421875+e;return D+Math.log(t)-r+(e+.5)*Math.log(r)},e.bernoulliDistribution=function(e){if(e<0||1<e)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-e,e]},e.binomialDistribution=function(e,t){if(!(t<0||1<t||e<=0||e%1!=0)){for(var n=0,r=0,o=[],i=1;o[n]=i*Math.pow(t,n)*Math.pow(1-t,e-n),r+=o[n],i=i*(e-++n+1)/n,r<1-L;);return o}},e.poissonDistribution=function(e){if(!(e<=0)){for(var t=0,n=0,r=[],o=1;r[t]=Math.exp(-e)*Math.pow(e,t)/o,n+=r[t],o*=++t,n<1-L;);return r}},e.chiSquaredDistributionTable=z,e.chiSquaredGoodnessOfFit=function(e,t,r){for(var o,i,a=0,s=t(n(e)),u=[],l=[],c=0;c<e.length;c++)void 0===u[e[c]]&&(u[e[c]]=0),u[e[c]]++;for(c=0;c<u.length;c++)void 0===u[c]&&(u[c]=0);for(i in s)i in u&&(l[+i]=s[i]*e.length);for(i=l.length-1;0<=i;i--)l[i]<3&&(l[i-1]+=l[i],l.pop(),u[i-1]+=u[i],u.pop());for(i=0;i<u.length;i++)a+=Math.pow(u[i]-l[i],2)/l[i];return o=u.length-1-1,z[o][r]<a},e.kernelDensityEstimation=H,e.kde=H,e.zScore=function(e,t,n){return(e-t)/n},e.cumulativeStdNormalProbability=function(e){var t=Math.abs(e),n=Math.min(Math.round(100*t),q.length-1);return 0<=e?q[n]:+(1-q[n]).toFixed(4)},e.standardNormalTable=q,e.errorFunction=Y,e.erf=Y,e.inverseErrorFunction=W,e.probit=function(e){return 0===e?e=L:1<=e&&(e=1-L),Math.sqrt(2)*W(2*e-1)},e.permutationTest=function(e,t,r,o){if(void 0===o&&(o=1e4),void 0===r&&(r="two_side"),"two_side"!==r&&"greater"!==r&&"less"!==r)throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'");for(var i=n(e)-n(t),a=new Array(o),s=e.concat(t),u=Math.floor(s.length/2),l=0;l<o;l++){x(s);var c=s.slice(0,u),d=s.slice(u,s.length),f=n(c)-n(d);a[l]=f}var h=0;if("two_side"===r)for(l=0;l<=o;l++)Math.abs(a[l])>=Math.abs(i)&&(h+=1);else if("greater"===r)for(l=0;l<=o;l++)a[l]>=i&&(h+=1);else for(l=0;l<=o;l++)a[l]<=i&&(h+=1);return h/o},e.bisect=function(e,t,n,r,o){if("function"!=typeof e)throw new TypeError("func must be a function");for(var i=0;i<r;i++){var a=(t+n)/2;if(0===e(a)||Math.abs((n-t)/2)<o)return a;Z(e(a))===Z(e(t))?t=a:n=a}throw new Error("maximum number of iterations exceeded")},e.quickselect=d,e.sign=Z,e.numericSort=s,Object.defineProperty(e,"__esModule",{value:!0})}))},"./node_modules/_topojson-client@3.1.0@topojson-client/dist/topojson-client.js":function(e,t,n){(function(e,n){n(t)})(0,(function(e){"use strict";function t(e){return e}function n(e){if(null==e)return t;var n,r,o=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,t){t||(n=r=0);var u=2,l=e.length,c=new Array(l);c[0]=(n+=e[0])*o+a,c[1]=(r+=e[1])*i+s;while(u<l)c[u]=e[u],++u;return c}}function r(e){var t,r=n(e.transform),o=1/0,i=o,a=-o,s=-o;function u(e){e=r(e),e[0]<o&&(o=e[0]),e[0]>a&&(a=e[0]),e[1]<i&&(i=e[1]),e[1]>s&&(s=e[1])}function l(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(l);break;case"Point":u(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(u);break}}for(t in e.arcs.forEach((function(e){var t,n=-1,u=e.length;while(++n<u)t=r(e[n],n),t[0]<o&&(o=t[0]),t[0]>a&&(a=t[0]),t[1]<i&&(i=t[1]),t[1]>s&&(s=t[1])})),e.objects)l(e.objects[t]);return[o,i,a,s]}function o(e,t){var n,r=e.length,o=r-t;while(o<--r)n=e[o],e[o++]=e[r],e[r]=n}function i(e,t){return"string"===typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return a(e,t)}))}:a(e,t)}function a(e,t){var n=t.id,r=t.bbox,o=null==t.properties?{}:t.properties,i=s(e,t);return null==n&&null==r?{type:"Feature",properties:o,geometry:i}:null==r?{type:"Feature",id:n,properties:o,geometry:i}:{type:"Feature",id:n,bbox:r,properties:o,geometry:i}}function s(e,t){var r=n(e.transform),i=e.arcs;function a(e,t){t.length&&t.pop();for(var n=i[e<0?~e:e],a=0,s=n.length;a<s;++a)t.push(r(n[a],a));e<0&&o(t,s)}function s(e){return r(e)}function u(e){for(var t=[],n=0,r=e.length;n<r;++n)a(e[n],t);return t.length<2&&t.push(t[0]),t}function l(e){var t=u(e);while(t.length<4)t.push(t[0]);return t}function c(e){return e.map(l)}function d(e){var t,n=e.type;switch(n){case"GeometryCollection":return{type:n,geometries:e.geometries.map(d)};case"Point":t=s(e.coordinates);break;case"MultiPoint":t=e.coordinates.map(s);break;case"LineString":t=u(e.arcs);break;case"MultiLineString":t=e.arcs.map(u);break;case"Polygon":t=c(e.arcs);break;case"MultiPolygon":t=e.arcs.map(c);break;default:return null}return{type:n,coordinates:t}}return d(t)}function u(e,t){var n={},r={},o={},i=[],a=-1;function s(t){var n,r=e.arcs[t<0?~t:t],o=r[0];return e.transform?(n=[0,0],r.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=r[r.length-1],t<0?[n,o]:[o,n]}function u(e,t){for(var r in e){var o=e[r];delete t[o.start],delete o.start,delete o.end,o.forEach((function(e){n[e<0?~e:e]=1})),i.push(o)}}return t.forEach((function(n,r){var o,i=e.arcs[n<0?~n:n];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++a],t[a]=n,t[r]=o)})),t.forEach((function(e){var t,n,i=s(e),a=i[0],u=i[1];if(t=o[a])if(delete o[t.end],t.push(e),t.end=u,n=r[u]){delete r[n.start];var l=n===t?t:t.concat(n);r[l.start=t.start]=o[l.end=n.end]=l}else r[t.start]=o[t.end]=t;else if(t=r[u])if(delete r[t.start],t.unshift(e),t.start=a,n=o[a]){delete o[n.end];var c=n===t?t:n.concat(t);r[c.start=n.start]=o[c.end=t.end]=c}else r[t.start]=o[t.end]=t;else t=[e],r[t.start=a]=o[t.end=u]=t})),u(o,r),u(r,o),t.forEach((function(e){n[e<0?~e:e]||i.push([e])})),i}function l(e){return s(e,c.apply(this,arguments))}function c(e,t,n){var r,o,i;if(arguments.length>1)r=d(e,t,n);else for(o=0,r=new Array(i=e.arcs.length);o<i;++o)r[o]=o;return{type:"MultiLineString",arcs:u(e,r)}}function d(e,t,n){var r,o=[],i=[];function a(e){var t=e<0?~e:e;(i[t]||(i[t]=[])).push({i:e,g:r})}function s(e){e.forEach(a)}function u(e){e.forEach(s)}function l(e){e.forEach(u)}function c(e){switch(r=e,e.type){case"GeometryCollection":e.geometries.forEach(c);break;case"LineString":s(e.arcs);break;case"MultiLineString":case"Polygon":u(e.arcs);break;case"MultiPolygon":l(e.arcs);break}}return c(t),i.forEach(null==n?function(e){o.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&o.push(e[0].i)}),o}function f(e){var t,n=-1,r=e.length,o=e[r-1],i=0;while(++n<r)t=o,o=e[n],i+=t[0]*o[1]-t[1]*o[0];return Math.abs(i)}function h(e){return s(e,p.apply(this,arguments))}function p(e,t){var n={},r=[],o=[];function i(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(i);break;case"Polygon":a(e.arcs);break;case"MultiPolygon":e.arcs.forEach(a);break}}function a(e){e.forEach((function(t){t.forEach((function(t){(n[t=t<0?~t:t]||(n[t]=[])).push(e)}))})),r.push(e)}function l(t){return f(s(e,{type:"Polygon",arcs:[t]}).coordinates[0])}return t.forEach(i),r.forEach((function(e){if(!e._){var t=[],r=[e];e._=1,o.push(t);while(e=r.pop())t.push(e),e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].forEach((function(e){e._||(e._=1,r.push(e))}))}))}))}})),r.forEach((function(e){delete e._})),{type:"MultiPolygon",arcs:o.map((function(t){var r,o=[];if(t.forEach((function(e){e.forEach((function(e){e.forEach((function(e){n[e<0?~e:e].length<2&&o.push(e)}))}))})),o=u(e,o),(r=o.length)>1)for(var i,a,s=1,c=l(o[0]);s<r;++s)(i=l(o[s]))>c&&(a=o[0],o[0]=o[s],o[s]=a,c=i);return o})).filter((function(e){return e.length>0}))}}function v(e,t){var n=0,r=e.length;while(n<r){var o=n+r>>>1;e[o]<t?n=o+1:r=o}return n}function g(e){var t={},n=e.map((function(){return[]}));function r(e,n){e.forEach((function(e){e<0&&(e=~e);var r=t[e];r?r.push(n):t[e]=[n]}))}function o(e,t){e.forEach((function(e){r(e,t)}))}function i(e,t){"GeometryCollection"===e.type?e.geometries.forEach((function(e){i(e,t)})):e.type in a&&a[e.type](e.arcs,t)}var a={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(e,t){e.forEach((function(e){o(e,t)}))}};for(var s in e.forEach(i),t)for(var u=t[s],l=u.length,c=0;c<l;++c)for(var d=c+1;d<l;++d){var f,h=u[c],p=u[d];(f=n[h])[s=v(f,p)]!==p&&f.splice(s,0,p),(f=n[p])[s=v(f,h)]!==h&&f.splice(s,0,h)}return n}function _(e){if(null==e)return t;var n,r,o=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(e,t){t||(n=r=0);var u=2,l=e.length,c=new Array(l),d=Math.round((e[0]-a)/o),f=Math.round((e[1]-s)/i);c[0]=d-n,n=d,c[1]=f-r,r=f;while(u<l)c[u]=e[u],++u;return c}}function m(e,t){if(e.transform)throw new Error("already quantized");if(t&&t.scale)u=e.bbox;else{if(!((n=Math.floor(t))>=2))throw new Error("n must be \u22652");u=e.bbox||r(e);var n,o=u[0],i=u[1],a=u[2],s=u[3];t={scale:[a-o?(a-o)/(n-1):1,s-i?(s-i)/(n-1):1],translate:[o,i]}}var u,l,c=_(t),d=e.objects,f={};function h(e){return c(e)}function p(e){var t;switch(e.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:e.geometries.map(p)};break;case"Point":t={type:"Point",coordinates:h(e.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:e.coordinates.map(h)};break;default:return e}return null!=e.id&&(t.id=e.id),null!=e.bbox&&(t.bbox=e.bbox),null!=e.properties&&(t.properties=e.properties),t}function v(e){var t,n=0,r=1,o=e.length,i=new Array(o);i[0]=c(e[0],0);while(++n<o)((t=c(e[n],n))[0]||t[1])&&(i[r++]=t);return 1===r&&(i[r++]=[0,0]),i.length=r,i}for(l in d)f[l]=p(d[l]);return{type:"Topology",bbox:u,transform:t,objects:f,arcs:e.arcs.map(v)}}e.bbox=r,e.feature=i,e.merge=h,e.mergeArcs=p,e.mesh=l,e.meshArcs=c,e.neighbors=g,e.quantize=m,e.transform=n,e.untransform=_,Object.defineProperty(e,"__esModule",{value:!0})}))},"./node_modules/_tslib@1.11.1@tslib/tslib.js":function(e,t,n){(function(n){var r,o,i,a,s,u,l,c,d,f,h,p,v,g,_,m,y,b,x,w,S,E,j,T;(function(i){var a="object"===typeof n?n:"object"===typeof self?self:"object"===typeof this?this:{};function s(e,t){return e!==a&&("function"===typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}r=[t],o=function(e){i(s(a,s(e)))}.apply(t,r),void 0===o||(e.exports=o)})((function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};i=function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},u=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},l=function(e,t){return function(n,r){t(n,r,e)}},c=function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r["throw"](e))}catch(t){i(t)}}function u(e){e.done?n(e.value):o(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},f=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},h=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},p=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},v=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a},g=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e},_=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},m=function(e){return this instanceof m?(this.v=e,this):new m(e)},y=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{u(o[e](t))}catch(n){d(i[0][3],n)}}function u(e){e.value instanceof m?Promise.resolve(e.value.v).then(l,c):d(i[0][2],e)}function l(e){s("next",e)}function c(e){s("throw",e)}function d(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},b=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:o?o(t):t}:o}},x=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"===typeof p?p(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){t=e[n](t),o(r,i,t.done,t.value)}))}}function o(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},w=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},E=function(e){return e&&e.__esModule?e:{default:e}},j=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},T=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},e("__extends",i),e("__assign",a),e("__rest",s),e("__decorate",u),e("__param",l),e("__metadata",c),e("__awaiter",d),e("__generator",f),e("__exportStar",h),e("__values",p),e("__read",v),e("__spread",g),e("__spreadArrays",_),e("__await",m),e("__asyncGenerator",y),e("__asyncDelegator",b),e("__asyncValues",x),e("__makeTemplateObject",w),e("__importStar",S),e("__importDefault",E),e("__classPrivateFieldGet",j),e("__classPrivateFieldSet",T)}))}).call(this,n("./node_modules/_webpack@4.42.1@webpack/buildin/global.js"))},"./node_modules/_webpack@4.42.1@webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},"./node_modules/_webpack@4.42.1@webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./node_modules/_wolfy87-eventemitter@5.2.9@wolfy87-eventemitter/EventEmitter.js":function(e,t,n){var r;(function(t){"use strict";function o(){}var i=o.prototype,a=t.EventEmitter;function s(e,t){var n=e.length;while(n--)if(e[n].listener===t)return n;return-1}function u(e){return function(){return this[e].apply(this,arguments)}}function l(e){return"function"===typeof e||e instanceof RegExp||!(!e||"object"!==typeof e)&&l(e.listener)}i.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,t){if(!l(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),o="object"===typeof t;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},i.on=u("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=u("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(n=s(o[r],t),-1!==n&&o[r].splice(n,1));return this},i.off=u("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var r,o,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!==typeof t||t instanceof RegExp){r=n.length;while(r--)i.call(this,t,n[r])}else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"===typeof o?i.call(this,r,o):a.call(this,r,o));return this},i.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},i.removeAllListeners=u("removeEvent"),i.emitEvent=function(e,t){var n,r,o,i,a,s=this.getListenersAsObject(e);for(i in s)if(s.hasOwnProperty(i))for(n=s[i].slice(0),o=0;o<n.length;o++)r=n[o],!0===r.once&&this.removeListener(e,r.listener),a=r.listener.apply(this,t||[]),a===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},i.trigger=u("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=a,o},r=function(){return o}.call(t,n,t,e),void 0===r||(e.exports=r)})("undefined"!==typeof window?window:this||{})},"./src/api/geo.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=n("./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js"),a=n("./node_modules/_d3-geo-projection@2.1.2@d3-geo-projection/build/d3-geo-projection.js"),s=n("./src/view.ts"),u=r.__importDefault(n("./src/util/get-geo-projection.ts")),l={geoArea:function(e){return i.geoArea(e)},geoAreaByName:function(e){return i.geoArea(this.geoFeatureByName(e))},geoCentroid:function(e){return i.geoCentroid(e)},geoCentroidByName:function(e){return i.geoCentroid(this.geoFeatureByName(e))},geoDistance:function(e,t){return i.geoDistance(e,t)},geoLength:function(e){return i.geoLength(e)},geoLengthByName:function(e){return i.geoLength(this.geoFeatureByName(e))},geoContains:function(e,t){return i.geoContains(e,t)},geoFeatureByName:function(e){var t,n=this.rows;return n.some((function(n){return n.name===e&&(t=n,!0)})),t},geoFeatureByPosition:function(e){var t,n=this.rows;return n.some((function(n){return!!i.geoContains(n,e)&&(t=n,!0)})),t},geoNameByPosition:function(e){var t=this.geoFeatureByPosition(e);if(t)return t.name},getGeoProjection:u.default,geoProject:function(e,t,n){return t=u.default(t,n),a.geoProject(e,t)},geoProjectByName:function(e,t,n){return t=u.default(t,n),a.geoProject(this.geoFeatureByName(e),t)},geoProjectPosition:function(e,t,n){var r=u.default(t,n);return r(e)},geoProjectInvert:function(e,t,n){var r=u.default(t,n);return r.invert(e)}};o.assign(s.View.prototype,l)},"./src/api/hierarchy.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),o=n("./src/view.ts");r.assign(o.View.prototype,{getAllNodes:function(){var e=[],t=this.root;return t&&t.each?t.each((function(t){e.push(t)})):t&&t.eachNode&&t.eachNode((function(t){e.push(t)})),e},getAllLinks:function(){var e,t=[],n=[this.root];while(e=n.pop()){var r=e.children;r&&r.forEach((function(r){t.push({source:e,target:r}),n.push(r)}))}return t}}),r.assign(o.View.prototype,{getAllEdges:o.View.prototype.getAllLinks})},"./src/api/partition.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=r.__importDefault(n("./src/util/partition.ts")),a=n("./src/view.ts");o.assign(a.View.prototype,{partition:function(e,t){return void 0===t&&(t=[]),i.default(this.rows,e,t)},group:function(e,t){void 0===t&&(t=[]);var n=this.partition(e,t);return o.values(n)},groups:function(e,t){return void 0===t&&(t=[]),this.group(e,t)}})},"./src/api/statistics.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=r.__importStar(n("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js")),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),a=n("./src/view.ts"),s=r.__importDefault(n("./src/util/p-by-fraction.ts")),u=r.__importDefault(n("./src/constants.ts")),l=u.default.STATISTICS_METHODS;function c(e,t){var n=e.getColumn(t);return i.isArray(n)&&i.isArray(n[0])&&(n=i.flattenDeep(n)),n}l.forEach((function(e){a.View.prototype[e]=function(t){return o[e](c(this,t))}}));var d=o.quantile;i.assign(a.View.prototype,{average:a.View.prototype.mean,quantile:function(e,t){return d(c(this,e),t)},quantiles:function(e,t){var n=c(this,e);return t.map((function(e){return d(n,e)}))},quantilesByFraction:function(e,t){return this.quantiles(e,s.default(t))},range:function(e){return[this.min(e),this.max(e)]},extent:function(e){return this.range(e)}})},"./src/connector/default.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),o=n("./src/data-set.ts");o.DataSet.registerConnector("default",(function(e,t){var n;if(n=r.isString(e)?t.getView(e):e,!n)throw new TypeError("Invalid dataView");return r.deepMix([],n.rows)}))},"./src/connector/dsv.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),o=n("./node_modules/_d3-dsv@1.2.0@d3-dsv/dist/d3-dsv.js"),i=n("./src/data-set.ts");i.DataSet.registerConnector("dsv",(function(e,t){void 0===t&&(t={});var n=t.delimiter||",";if(!r.isString(n))throw new TypeError("Invalid delimiter: must be a string!");return o.dsvFormat(n).parse(e)})),i.DataSet.registerConnector("csv",(function(e){return o.csvParse(e)})),i.DataSet.registerConnector("tsv",(function(e){return o.tsvParse(e)}))},"./src/connector/geo-graticule.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js"),o=n("./src/data-set.ts");function i(e,t){t.dataType="geo-graticule";var n=r.geoGraticule().lines();return n.map((function(e,t){return e.index=""+t,e})),t.rows=n,n}t.default=i,o.DataSet.registerConnector("geo-graticule",i)},"./src/connector/geojson.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=r.__importDefault(n("./node_modules/_point-at-length@1.1.0@point-at-length/index.js")),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),a=n("./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js"),s=n("./src/data-set.ts"),u=a.geoPath();function l(e,t,n){n.dataType=s.DataSet.CONSTANTS.GEO;var r=i.deepMix([],e.features);return r.forEach((function(e){e.name=e.properties.name,e.longitude=[],e.latitude=[];var t=e.pathData=u(e),n=o.default(t);n._path.forEach((function(t){e.longitude.push(t[1]),e.latitude.push(t[2])}));var r=u.centroid(e);e.centroidX=r[0],e.centroidY=r[1]})),r}s.DataSet.registerConnector("geo",l),s.DataSet.registerConnector("geojson",l),s.DataSet.registerConnector("GeoJSON",l),t.default=l},"./src/connector/graph.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),o=n("./src/data-set.ts"),i={nodes:function(e){return e.nodes},edges:function(e){return e.edges}};function a(e,t,n){t=r.assign({},i,t),n.dataType=o.DataSet.CONSTANTS.GRAPH;var a=t.nodes,s=t.edges;if(a&&!r.isFunction(a))throw new TypeError("Invalid nodes: must be a function!");if(s&&!r.isFunction(s))throw new TypeError("Invalid edges: must be a function!");return n.rows=n.graph={nodes:a(e),edges:s(e)},r.assign(n,n.graph),n.rows}o.DataSet.registerConnector("graph",a),o.DataSet.registerConnector("diagram",a)},"./src/connector/hexjson.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),o=n("./node_modules/_d3-hexjson@1.1.0@d3-hexjson/build/d3-hexjson.js"),i=n("./src/data-set.ts"),a={width:1,height:1};function s(e){return e.cx=e.x,e.cy=e.y,e.x=[],e.y=[],e.vertices.forEach((function(t){e.x.push(t.x+e.cx),e.y.push(t.y+e.cy)})),e}function u(e,t,n){n.dataType=i.DataSet.CONSTANTS.HEX,t=r.assign({},a,t);var u=t.width,l=t.height,c=r.deepMix([],e);n._HexJSON=c;var d=n._GridHexJSON=o.getGridForHexJSON(c),f=n.rows=o.renderHexJSON(c,u,l).map(s);return n._gridRows=o.renderHexJSON(d,u,l).map(s),f}i.DataSet.registerConnector("hex",u),i.DataSet.registerConnector("hexjson",u),i.DataSet.registerConnector("hex-json",u),i.DataSet.registerConnector("HexJSON",u),t.default=u},"./src/connector/hierarchy.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),o=n("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js"),i=n("./src/data-set.ts");function a(e,t,n){n.dataType=i.DataSet.CONSTANTS.HIERARCHY;var a=t&&t.children?t.children:null;if(a&&!r.isFunction(a))throw new TypeError("Invalid children: must be a function!");return t.pureData?n.rows=n.root=e:n.rows=n.root=o.hierarchy(e,a),e}i.DataSet.registerConnector("hierarchy",a),i.DataSet.registerConnector("tree",a)},"./src/connector/topojson.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=n("./node_modules/_topojson-client@3.1.0@topojson-client/dist/topojson-client.js"),a=r.__importDefault(n("./src/connector/geojson.ts")),s=n("./src/data-set.ts");function u(e,t,n){var r=t.object;if(!o.isString(r))throw new TypeError("Invalid object: must be a string!");var s=i.feature(e,e.objects[r]);return a.default(s,void 0,n)}s.DataSet.registerConnector("topojson",u),s.DataSet.registerConnector("TopoJSON",u)},"./src/constants.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={HIERARCHY:"hierarchy",GEO:"geo",HEX:"hex",GRAPH:"graph",TABLE:"table",GEO_GRATICULE:"geo-graticule",STATISTICS_METHODS:["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"]}},"./src/data-set.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=r.__importDefault(n("./node_modules/_wolfy87-eventemitter@5.2.9@wolfy87-eventemitter/EventEmitter.js")),a=n("./src/view.ts"),s=r.__importDefault(n("./src/constants.ts")),u=function(e){function t(t){void 0===t&&(t={state:{}});var n=e.call(this)||this;return n.isDataSet=!0,n._onChangeTimer=null,n.views={},n.state={},n.state=t.state,n}return r.__extends(t,e),t.registerConnector=function(e,n){t.connectors[e]=n},t.getConnector=function(e){return t.connectors[e]||t.connectors.default},t.registerTransform=function(e,n){t.transforms[e]=n},t.getTransform=function(e){return t.transforms[e]||t.transforms.default},t.prototype._getUniqueViewName=function(){var e=o.uniqueId("view_");while(this.views[e])e=o.uniqueId("view_");return e},t.prototype.createView=function(e,t){if(o.isNil(e)&&(e=this._getUniqueViewName()),o.isObject(e)&&(t=e,e=this._getUniqueViewName()),this.views[e])throw new Error("data view exists: "+e);var n=new a.View(this,t);return this.views[e]=n,n},t.prototype.getView=function(e){return this.views[e]},t.prototype.setView=function(e,t){this.views[e]=t},t.prototype.setState=function(e,t){var n=this;this.state[e]=t,this._onChangeTimer&&(window.clearTimeout(this._onChangeTimer),this._onChangeTimer=null),this._onChangeTimer=window.setTimeout((function(){n.emit("statechange",e,t)}),16)},t.CONSTANTS=s.default,t.connectors={},t.transforms={},t.DataSet=t,t.DataView=a.View,t.View=a.View,t.version="____DATASET_VERSION____",t}(i.default);t.DataSet=u,o.assign(u,s.default),o.assign(u.prototype,{view:u.prototype.createView}),a.View.DataSet=u},"./src/index.ts":function(e,t,n){"use strict";n("./src/api/geo.ts"),n("./src/api/hierarchy.ts"),n("./src/api/partition.ts"),n("./src/api/statistics.ts"),n("./src/connector/default.ts"),n("./src/connector/dsv.ts"),n("./src/connector/geo-graticule.ts"),n("./src/connector/geojson.ts"),n("./src/connector/graph.ts"),n("./src/connector/hexjson.ts"),n("./src/connector/hierarchy.ts"),n("./src/connector/topojson.ts"),n("./src/transform/default.ts"),n("./src/transform/filter.ts"),n("./src/transform/fold.ts"),n("./src/transform/map.ts"),n("./src/transform/partition.ts"),n("./src/transform/percent.ts"),n("./src/transform/pick.ts"),n("./src/transform/proportion.ts"),n("./src/transform/rename.ts"),n("./src/transform/reverse.ts"),n("./src/transform/sort.ts"),n("./src/transform/sort-by.ts"),n("./src/transform/subset.ts"),n("./src/transform/fill-rows.ts"),n("./src/transform/impute.ts"),n("./src/transform/aggregate.ts"),n("./src/transform/regression.ts"),n("./src/transform/kde.ts"),n("./src/transform/bin/hexagon.ts"),n("./src/transform/bin/histogram.ts"),n("./src/transform/bin/quantile.ts"),n("./src/transform/bin/rectangle.ts"),n("./src/transform/geo/centroid.ts"),n("./src/transform/geo/projection.ts"),n("./src/transform/geo/region.ts"),n("./src/transform/diagram/arc.ts"),n("./src/transform/diagram/dagre.ts"),n("./src/transform/diagram/sankey.ts"),n("./src/transform/diagram/voronoi.ts"),n("./src/transform/hierarchy/cluster.ts"),n("./src/transform/hierarchy/compact-box.ts"),n("./src/transform/hierarchy/dendrogram.ts"),n("./src/transform/hierarchy/indented.ts"),n("./src/transform/hierarchy/pack.ts"),n("./src/transform/hierarchy/partition.ts"),n("./src/transform/hierarchy/tree.ts"),n("./src/transform/hierarchy/treemap.ts"),n("./src/transform/tag-cloud.ts"),n("./src/transform/waffle.ts"),n("./src/transform/kernel-smooth/density.ts"),n("./src/transform/kernel-smooth/regression.ts");var r=n("./src/data-set.ts");e.exports=r.DataSet},"./src/transform/aggregate.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=r.__importStar(n("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js")),a=r.__importDefault(n("./src/util/partition.ts")),s=n("./src/data-set.ts"),u=s.DataSet.registerTransform,l=n("./src/util/option-parser.ts"),c={as:[],fields:[],groupBy:[],operations:[]},d="count",f={count:function(e){return e.length},distinct:function(e,t){var n=o.uniq(e.map((function(e){return e[t]})));return n.length}};function h(e,t){t=o.assign({},c,t);var n=l.getFields(t);if(!o.isArray(n))throw new TypeError("Invalid fields: it must be an array with one or more strings!");var r=t.as||[];o.isString(r)&&(r=[r]);var i=t.operations;o.isString(i)&&(i=[i]);var s=[d];if(o.isArray(i)&&i.length||(console.warn('operations is not defined, will use [ "count" ] directly.'),i=s,r=i),1!==i.length||i[0]!==d){if(i.length!==n.length)throw new TypeError("Invalid operations: it's length must be the same as fields!");if(r.length!==n.length)throw new TypeError("Invalid as: it's length must be the same as fields!")}var u=a.default(e.rows,t.groupBy),h=[];o.forIn(u,(function(e){var t=e[0];i.forEach((function(o,i){var a=r[i],s=n[i];t[a]=f[o](e,s)})),h.push(t)})),e.rows=h}s.DataSet.CONSTANTS.STATISTICS_METHODS.forEach((function(e){f[e]=function(t,n){var r=t.map((function(e){return e[n]}));return o.isArray(r)&&o.isArray(r[0])&&(r=o.flattenDeep(r)),i[e](r)}})),f.average=f.mean,u("aggregate",h),u("summary",h),t.default={VALID_AGGREGATES:o.keys(f)}},"./src/transform/bin/hexagon.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=n("./src/data-set.ts"),a=n("./src/util/option-parser.ts"),s={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1},u=Math.sqrt(3),l=Math.PI/3,c=[0,l,2*l,3*l,4*l,5*l];function d(e,t,n,r){return Math.sqrt((e-n)*(e-n)+(t-r)*(t-r))}function f(e,t,n){var r=e-n;t/=2;var o=Math.floor(r/t),i=t*(o+(1===Math.abs(o%2)?1:0)),a=t*(o+(1===Math.abs(o%2)?0:1));return[i+n,a+n]}function h(e,t,n){void 0===t&&(t=[1,1]),void 0===n&&(n=[0,0]);var o={},i=r.__read(t,2),a=i[0],s=i[1],u=r.__read(n,2),l=u[0],c=u[1];return e.forEach((function(e){var t,n,i,u,h,p=r.__read(e,2),v=p[0],g=p[1],_=r.__read(f(v,a,l),2),m=_[0],y=_[1],b=r.__read(f(g,s,c),2),x=b[0],w=b[1],S=d(v,g,m,x),E=d(v,g,y,w);S<E?(i="x"+m+"y"+x,t=r.__read([m,x],2),u=t[0],h=t[1]):(i="x"+y+"y"+w,n=r.__read([y,w],2),u=n[0],h=n[1]),o[i]=o[i]||{x:u,y:h,count:0},o[i].count++})),o}function p(e,t){t=o.assign({},s,t);var n=a.getFields(t);if(!o.isArray(n)||2!==n.length)throw new TypeError("Invalid fields: it must be an array with 2 strings!");var i=r.__read(n,2),l=i[0],d=i[1],f=e.range(l),p=e.range(d),v=f[1]-f[0],g=p[1]-p[0],_=t.binWidth||[];if(2!==_.length){var m=r.__read(t.bins,2),y=m[0],b=m[1];if(y<=0||b<=0)throw new TypeError("Invalid bins: must be an array with two positive numbers (e.g. [ 30, 30 ])!");_=[v/y,g/b]}var x=r.__read(t.offset,2),w=x[0],S=x[1],E=3*_[0]/(u*_[1]),j=e.rows.map((function(e){return[e[l],E*e[d]]})),T=h(j,[_[0],E*_[1]],[w,E*S]),P=r.__read(t.as,3),k=P[0],O=P[1],C=P[2];if(!k||!O||!C)throw new TypeError('Invalid as: it must be an array with three elements (e.g. [ "x", "y", "count" ])!');var A=_[0]/u,M=c.map((function(e){return[Math.sin(e)*A,-Math.cos(e)*A]})),R=[],L=0;t.sizeByCount&&o.forIn(T,(function(e){e.count>L&&(L=e.count)})),o.forIn(T,(function(e){var n=e.x,r=e.y,o=e.count,i={};i[C]=o,t.sizeByCount?(i[k]=M.map((function(t){return n+e.count/L*t[0]})),i[O]=M.map((function(t){return(r+e.count/L*t[1])/E}))):(i[k]=M.map((function(e){return n+e[0]})),i[O]=M.map((function(e){return(r+e[1])/E}))),R.push(i)})),e.rows=R}i.DataSet.registerTransform("bin.hexagon",p),i.DataSet.registerTransform("bin.hex",p),i.DataSet.registerTransform("hexbin",p)},"./src/transform/bin/histogram.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=r.__importDefault(n("./src/util/partition.ts")),a=n("./src/data-set.ts"),s=n("./src/util/option-parser.ts"),u={as:["x","count"],bins:30,offset:0,groupBy:[]};function l(e,t,n){var r=e-n,o=Math.floor(r/t);return[o*t+n,(o+1)*t+n]}function c(e,t){t=o.assign({},u,t);var n=s.getField(t);if(0!==e.rows.length){var a=e.range(n),c=a[1]-a[0],d=t.binWidth;if(!d){var f=t.bins;if(f<=0)throw new TypeError("Invalid bins: it must be a positive number!");d=c/f}var h=t.offset%d,p=[],v=t.groupBy,g=i.default(e.rows,v);o.forIn(g,(function(e){var i={},a=e.map((function(e){return e[n]}));a.forEach((function(e){var t=r.__read(l(e,d,h),2),n=t[0],o=t[1],a=n+"-"+o;i[a]=i[a]||{x0:n,x1:o,count:0},i[a].count++}));var s=r.__read(t.as,2),u=s[0],c=s[1];if(!u||!c)throw new TypeError('Invalid as: it must be an array with 2 elements (e.g. [ "x", "count" ])!');var f=o.pick(e[0],v);o.forIn(i,(function(e){var t=o.assign({},f);t[u]=[e.x0,e.x1],t[c]=e.count,p.push(t)}))})),e.rows=p}}a.DataSet.registerTransform("bin.histogram",c),a.DataSet.registerTransform("bin.dot",c)},"./src/transform/bin/quantile.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=n("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js"),a=r.__importDefault(n("./src/util/partition.ts")),s=r.__importDefault(n("./src/util/p-by-fraction.ts")),u=n("./src/data-set.ts"),l=u.DataSet.registerTransform,c=n("./src/util/option-parser.ts"),d={as:"_bin",groupBy:[],fraction:4};function f(e,t){t=o.assign({},d,t);var n=c.getField(t),r=t.as;if(!o.isString(r))throw new TypeError('Invalid as: it must be a string (e.g. "_bin")!');var u=t.p,l=t.fraction;o.isArray(u)&&0!==u.length||(u=s.default(l));var f=e.rows,h=t.groupBy,p=a.default(f,h),v=[];o.forIn(p,(function(e){var t=e[0],o=e.map((function(e){return e[n]})),a=u.map((function(e){return i.quantile(o,e)}));t[r]=a,v.push(t)})),e.rows=v}l("bin.quantile",f)},"./src/transform/bin/rectangle.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=n("./src/data-set.ts"),a=i.DataSet.registerTransform,s=n("./src/util/option-parser.ts"),u={as:["x","y","count"],bins:[30,30],offset:[0,0],sizeByCount:!1};function l(e,t,n){var r=e-n,o=Math.floor(r/t);return[o*t+n,(o+1)*t+n]}function c(e,t){t=o.assign({},u,t);var n=r.__read(s.getFields(t),2),i=n[0],a=n[1];if(!i||!a)throw new TypeError("Invalid fields: must be an array with 2 strings!");var c=e.range(i),d=e.range(a),f=c[1]-c[0],h=d[1]-d[0],p=t.binWidth||[];if(2!==p.length){var v=r.__read(t.bins,2),g=v[0],_=v[1];if(g<=0||_<=0)throw new TypeError("Invalid bins: must be an array with 2 positive numbers (e.g. [ 30, 30 ])!");p=[f/g,h/_]}var m=e.rows.map((function(e){return[e[i],e[a]]})),y={},b=r.__read(t.offset,2),x=b[0],w=b[1];m.forEach((function(e){var t=r.__read(l(e[0],p[0],x),2),n=t[0],o=t[1],i=r.__read(l(e[1],p[1],w),2),a=i[0],s=i[1],u=n+"-"+o+"-"+a+"-"+s;y[u]=y[u]||{x0:n,x1:o,y0:a,y1:s,count:0},y[u].count++}));var S=[],E=r.__read(t.as,3),j=E[0],T=E[1],P=E[2];if(!j||!T||!P)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "count" ])!');if(t.sizeByCount){var k=0;o.forIn(y,(function(e){e.count>k&&(k=e.count)})),o.forIn(y,(function(e){var t=e.x0,n=e.x1,o=e.y0,i=e.y1,a=e.count,s=a/k,u=r.__read([(t+n)/2,(o+i)/2],2),l=u[0],c=u[1],d=(n-t)*s/2,f=(i-o)*s/2,h=l-d,p=l+d,v=c-f,g=c+f,_={};_[j]=[h,p,p,h],_[T]=[v,v,g,g],_[P]=a,S.push(_)}))}else o.forIn(y,(function(e){var t={};t[j]=[e.x0,e.x1,e.x1,e.x0],t[T]=[e.y0,e.y0,e.y1,e.y1],t[P]=e.count,S.push(t)}));e.rows=S}a("bin.rectangle",c),a("bin.rect",c)},"./src/transform/default.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/data-set.ts");r.DataSet.registerTransform("default",(function(e){return e}))},"./src/transform/diagram/arc.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),o=n("./src/data-set.ts"),i={y:0,thickness:.05,weight:!1,marginRatio:.1,id:function(e){return e.id},source:function(e){return e.source},target:function(e){return e.target},sourceWeight:function(e){return e.value||1},targetWeight:function(e){return e.value||1},sortBy:null};function a(e,t,n){return void 0===n&&(n={}),e.forEach((function(e){var r=t.edgeSource(e),o=t.edgeTarget(e);n[r]||(n[r]={id:r}),n[o]||(n[o]={id:o})})),r.values(n)}function s(e,t,n){r.forIn(e,(function(e,r){e.inEdges=t.filter((function(e){return""+n.target(e)===""+r})),e.outEdges=t.filter((function(e){return""+n.source(e)===""+r})),e.edges=e.outEdges.concat(e.inEdges),e.frequency=e.edges.length,e.value=0,e.inEdges.forEach((function(t){e.value+=n.targetWeight(t)})),e.outEdges.forEach((function(t){e.value+=n.sourceWeight(t)}))}))}function u(e,t){var n={weight:function(e,t){return t.value-e.value},frequency:function(e,t){return t.frequency-e.frequency},id:function(e,n){return(""+t.id(e)).localeCompare(""+t.id(n))}},o=n[t.sortBy];!o&&r.isFunction(t.sortBy)&&(o=t.sortBy),o&&e.sort(o)}function l(e,t){var n=e.length;if(!n)throw new TypeError("Invalid nodes: it's empty!");if(t.weight){var r=t.marginRatio;if(r<0||r>=1)throw new TypeError("Invalid marginRatio: it must be in range [0, 1)!");var o=r/(2*n),i=t.thickness;if(i<=0||i>=1)throw new TypeError("Invalid thickness: it must be in range (0, 1)!");var a=0;e.forEach((function(e){a+=e.value})),e.forEach((function(e){e.weight=e.value/a,e.width=e.weight*(1-r),e.height=i})),e.forEach((function(n,r){for(var a=0,s=r-1;s>=0;s--)a+=e[s].width+2*o;var u=n.minX=o+a,l=n.maxX=n.minX+n.width,c=n.minY=t.y-i/2,d=n.maxY=c+i;n.x=[u,l,l,u],n.y=[c,c,d,d]}))}else{var s=1/n;e.forEach((function(e,n){e.x=(n+.5)*s,e.y=t.y}))}}function c(e,t,n){if(n.weight){var o={};r.forIn(e,(function(e,t){o[t]=e.value})),t.forEach((function(t){var r=n.source(t),i=n.target(t),a=e[r],s=e[i];if(a&&s){var u=o[r],l=n.sourceWeight(t),c=a.minX+(a.value-u)/a.value*a.width,d=c+l/a.value*a.width;o[r]-=l;var f=o[i],h=n.targetWeight(t),p=s.minX+(s.value-f)/s.value*s.width,v=p+h/s.value*s.width;o[i]-=h;var g=n.y;t.x=[c,d,p,v],t.y=[g,g,g,g]}}))}else t.forEach((function(t){var r=e[n.source(t)],o=e[n.target(t)];r&&o&&(t.x=[r.x,o.x],t.y=[r.y,o.y])}))}function d(e,t){t=r.assign({},i,t);var n={},o=e.nodes,d=e.edges;r.isArray(o)&&0!==o.length||(o=a(d,t,n)),o.forEach((function(e){var r=t.id(e);n[r]=e})),s(n,d,t),u(o,t),l(o,t),c(n,d,t),e.nodes=o,e.edges=d}o.DataSet.registerTransform("diagram.arc",d),o.DataSet.registerTransform("arc",d)},"./src/transform/diagram/dagre.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=r.__importDefault(n("./node_modules/_dagre@0.8.5@dagre/index.js")),a=n("./src/data-set.ts"),s={rankdir:"TB",align:"TB",nodesep:50,edgesep:10,ranksep:50,source:function(e){return e.source},target:function(e){return e.target}};function u(e,t){t=o.assign({},s,t);var n=new i.default.graphlib.Graph;n.setGraph({}),n.setDefaultEdgeLabel((function(){return{}})),e.nodes.forEach((function(e){var r=t.nodeId?t.nodeId(e):e.id;e.height||e.width||(e.height=e.width=t.edgesep),n.setNode(r,e)})),e.edges.forEach((function(e){n.setEdge(t.source(e),t.target(e))})),i.default.layout(n);var r=[],a=[];n.nodes().forEach((function(e){var t=n.node(e),o=t.x,i=t.y,a=t.height,s=t.width;t.x=[o-s/2,o+s/2,o+s/2,o-s/2],t.y=[i+a/2,i+a/2,i-a/2,i-a/2],r.push(t)})),n.edges().forEach((function(e){var t=n.edge(e).points,r={};r.x=t.map((function(e){return e.x})),r.y=t.map((function(e){return e.y})),a.push(r)})),e.nodes=r,e.edges=a}a.DataSet.registerTransform("diagram.dagre",u),a.DataSet.registerTransform("dagre",u)},"./src/transform/diagram/sankey.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),o=n("./node_modules/_d3-sankey@0.9.1@d3-sankey/dist/d3-sankey.js"),i=n("./src/data-set.ts"),a={sankeyLeft:o.sankeyLeft,sankeyRight:o.sankeyRight,sankeyCenter:o.sankeyCenter,sankeyJustify:o.sankeyJustify},s={value:function(e){return e.value},source:function(e){return e.source},target:function(e){return e.target},nodeAlign:"sankeyJustify",nodeWidth:.02,nodePadding:.02,sort:void 0};function u(e,t){t=r.assign({},s,t);var n=null;r.isString(t.nodeAlign)?n=a[t.nodeAlign]:r.isFunction(t.nodeAlign)&&(n=t.nodeAlign);var i=o.sankey().nodeSort(t.sort).links((function(e){return e.edges})).nodeWidth(t.nodeWidth).nodePadding(t.nodePadding).extent([[0,0],[1,1]]);r.isFunction(t.nodeId)&&i.nodeId(t.nodeId),n&&i.nodeAlign(n),i(e),e.nodes.forEach((function(e){var t=e.x0,n=e.x1,r=e.y0,o=e.y1;e.x=[t,n,n,t],e.y=[r,r,o,o]})),e.edges.forEach((function(e){var t=e.source,n=e.target,r=t.x1,o=n.x0;e.x=[r,r,o,o];var i=e.width/2;e.y=[e.y0+i,e.y0-i,e.y1+i,e.y1-i]}))}i.DataSet.registerTransform("diagram.sankey",u),i.DataSet.registerTransform("sankey",u)},"./src/transform/diagram/voronoi.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=r.__importStar(n("./node_modules/_d3-voronoi@1.1.4@d3-voronoi/dist/d3-voronoi.js")),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),a=n("./src/data-set.ts"),s=a.DataSet.registerTransform,u=n("./src/util/option-parser.ts"),l={as:["_x","_y"]};function c(e,t){t=i.assign({},l,t);var n=t.as;if(!i.isArray(n)||2!==n.length)throw new TypeError("Invalid as: must be an array with two strings!");var r=n[0],a=n[1],s=u.getFields(t);if(!i.isArray(s)||2!==s.length)throw new TypeError("Invalid fields: must be an array with two strings!");var c=s[0],d=s[1],f=e.rows,h=f.map((function(e){return[e[c],e[d]]})),p=o.voronoi();t.extend&&p.extent(t.extend),t.size&&p.size(t.size);var v=p(h).polygons();f.forEach((function(e,t){var n=v[t].filter((function(e){return!!e}));e[r]=n.map((function(e){return e[0]})),e[a]=n.map((function(e){return e[1]}))}))}s("diagram.voronoi",c),s("voronoi",c)},"./src/transform/fill-rows.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=r.__importDefault(n("./src/util/partition.ts")),a=n("./src/data-set.ts"),s={fillBy:"group",groupBy:[],orderBy:[]};function u(e,t){var n=e.map((function(e){return e}));return t.forEach((function(e){var t=n.indexOf(e);t>-1&&n.splice(t,1)})),n}function l(e,t){t=o.assign({},s,t);var n=e.rows,r=t.groupBy,a=t.orderBy,l=i.default(n,r,a),c=0,d=[];o.forIn(l,(function(e){e.length>c&&(c=e.length,d=e)}));var f=[],h={};if(d.forEach((function(e){var t=a.map((function(t){return e[t]})).join("-");f.push(t),h[t]=e})),"order"===t.fillBy){var p=d[0],v=[],g={};n.forEach((function(e){var t=a.map((function(t){return e[t]})).join("-");-1===v.indexOf(t)&&(v.push(t),g[t]=e)}));var _=u(v,f);_.forEach((function(e){var t={};r.forEach((function(e){t[e]=p[e]})),a.forEach((function(n){t[n]=g[e][n]})),n.push(t),d.push(t),f.push(e),h[e]=t})),c=d.length}o.forIn(l,(function(e){if(e!==d&&e.length<c){var t=e[0],o=[];e.forEach((function(e){o.push(a.map((function(t){return e[t]})).join("-"))}));var i=u(f,o);i.some((function(o,i){if(i>=c-e.length)return!0;var s=h[o],u={};return r.forEach((function(e){u[e]=t[e]})),a.forEach((function(e){u[e]=s[e]})),n.push(u),!1}))}}))}a.DataSet.registerTransform("fill-rows",l),a.DataSet.registerTransform("fillRows",l)},"./src/transform/filter.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/data-set.ts");function o(e){return!!e}r.DataSet.registerTransform("filter",(function(e,t){e.rows=e.rows.filter(t.callback||o)}))},"./src/transform/fold.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),o=n("./src/data-set.ts"),i=n("./src/util/option-parser.ts"),a={fields:[],key:"key",retains:[],value:"value"};o.DataSet.registerTransform("fold",(function(e,t){var n=e.getColumnNames();t=r.assign({},a,t);var o=i.getFields(t);0===o.length&&(console.warn("warning: option fields is not specified, will fold all columns."),o=n);var s=t.key,u=t.value,l=t.retains;l&&0!==l.length||(l=r.difference(n,o));var c=[];e.rows.forEach((function(e){o.forEach((function(t){var n=r.pick(e,l);n[s]=t,n[u]=e[t],c.push(n)}))})),e.rows=c}))},"./src/transform/geo/centroid.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),o=n("./src/data-set.ts"),i=o.DataSet.registerTransform,a=n("./src/util/option-parser.ts"),s={as:["_centroid_x","_centroid_y"]};function u(e,t){t=r.assign({},s,t);var n=a.getField(t),o=t.geoView||t.geoDataView;if(r.isString(o)&&e.dataSet&&(o=e.dataSet.getView(o)),!o||"geo"!==o.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=t.as;if(!r.isArray(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "cX", "cY" ])!');var u=i[0],l=i[1];e.rows.forEach((function(e){var t=o.geoFeatureByName(e[n]);t&&(o._projectedAs?(e[u]=t[o._projectedAs[2]],e[l]=t[o._projectedAs[3]]):(e[u]=t.centroidX,e[l]=t.centroidY))}))}i("geo.centroid",u)},"./src/transform/geo/projection.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=n("./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js"),a=r.__importDefault(n("./node_modules/_point-at-length@1.1.0@point-at-length/index.js")),s=n("./src/data-set.ts"),u=s.DataSet.registerTransform,l=r.__importDefault(n("./src/util/get-geo-projection.ts")),c={as:["_x","_y","_centroid_x","_centroid_y"]};function d(e,t){if("geo"!==e.dataType&&"geo-graticule"!==e.dataType)throw new TypeError("Invalid dataView: this transform is for Geo data only!");t=o.assign({},c,t);var n=t.projection;if(!n)throw new TypeError("Invalid projection!");n=l.default(n);var s=i.geoPath(n),u=t.as;if(!o.isArray(u)||4!==u.length)throw new TypeError('Invalid as: it must be an array with 4 strings (e.g. [ "x", "y", "cX", "cY" ])!');e._projectedAs=u;var d=r.__read(u,4),f=d[0],h=d[1],p=d[2],v=d[3];e.rows.forEach((function(e){e[f]=[],e[h]=[];var t=s(e);if(t){var n=a.default(t);n._path.forEach((function(t){e[f].push(t[1]),e[h].push(t[2])}));var r=s.centroid(e);e[p]=r[0],e[v]=r[1]}})),e.rows=e.rows.filter((function(e){return 0!==e[f].length}))}u("geo.projection",d)},"./src/transform/geo/region.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),o=n("./src/data-set.ts"),i=o.DataSet.registerTransform,a=n("./src/util/option-parser.ts"),s={as:["_x","_y"]};function u(e,t){t=r.assign({},s,t);var n=a.getField(t),o=t.geoView||t.geoDataView;if(r.isString(o)&&(o=e.dataSet.getView(o)),!o||"geo"!==o.dataType)throw new TypeError("Invalid geoView: must be a DataView of GEO dataType!");var i=t.as;if(!r.isArray(i)||2!==i.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var u=i[0],l=i[1];e.rows.forEach((function(e){var t=o.geoFeatureByName(e[n]);t&&(o._projectedAs?(e[u]=t[o._projectedAs[0]],e[l]=t[o._projectedAs[1]]):(e[u]=t.longitude,e[l]=t.latitude))}))}i("geo.region",u)},"./src/transform/hierarchy/cluster.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=r.__importStar(n("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js")),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),a=n("./src/data-set.ts"),s=n("./src/util/option-parser.ts"),u={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function l(e,t){if(e.dataType!==a.DataSet.CONSTANTS.HIERARCHY||!e.root)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n=e.root;t=i.assign({},u,t);var r=t.as;if(!i.isArray(r)||2!==r.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var l=void 0;try{l=s.getField(t)}catch(h){console.warn(h)}l&&n.sum((function(e){return e[l]}));var c=o.cluster();c.size(t.size),t.nodeSize&&c.nodeSize(t.nodeSize),t.separation&&c.separation(t.separation),c(n);var d=r[0],f=r[1];n.each((function(e){e[d]=e.x,e[f]=e.y}))}a.DataSet.registerTransform("hierarchy.cluster",l),a.DataSet.registerTransform("dendrogram",l)},"./src/transform/hierarchy/compact-box.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=r.__importDefault(n("./node_modules/_@antv_hierarchy@0.6.2@@antv/hierarchy/build/hierarchy.js")),i=n("./src/data-set.ts"),a={};function s(e,t){var n=e.root;if(t=Object.assign({},a,t),e.dataType!==i.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");e.root=o.default.compactBox(n,t)}i.DataSet.registerTransform("hierarchy.compact-box",s),i.DataSet.registerTransform("compact-box-tree",s),i.DataSet.registerTransform("non-layered-tidy-tree",s),i.DataSet.registerTransform("mindmap-logical",s)},"./src/transform/hierarchy/dendrogram.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=r.__importDefault(n("./node_modules/_@antv_hierarchy@0.6.2@@antv/hierarchy/build/hierarchy.js")),i=n("./src/data-set.ts"),a={};function s(e,t){var n=e.root;if(t=Object.assign({},a,t),e.dataType!==i.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");e.root=o.default.dendrogram(n,t)}i.DataSet.registerTransform("hierarchy.dendrogram",s),i.DataSet.registerTransform("dendrogram",s)},"./src/transform/hierarchy/indented.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=r.__importDefault(n("./node_modules/_@antv_hierarchy@0.6.2@@antv/hierarchy/build/hierarchy.js")),i=n("./src/data-set.ts"),a={};function s(e,t){var n=e.root;if(t=Object.assign({},a,t),e.dataType!==i.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");e.root=o.default.indented(n,t)}i.DataSet.registerTransform("hierarchy.indented",s),i.DataSet.registerTransform("indented-tree",s)},"./src/transform/hierarchy/pack.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=r.__importStar(n("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js")),a=n("./src/data-set.ts"),s=n("./src/util/option-parser.ts"),u={field:"value",size:[1,1],padding:0,as:["x","y","r"]};function l(e,t){if(e.dataType!==a.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n=e.root;t=o.assign({},u,t);var r,l=t.as;if(!o.isArray(l)||3!==l.length)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');try{r=s.getField(t)}catch(p){console.warn(p)}r&&n.sum((function(e){return e[r]})).sort((function(e,t){return t[r]-e[r]}));var c=i.pack();c.size(t.size),t.padding&&c.padding(t.padding),c(n);var d=l[0],f=l[1],h=l[2];n.each((function(e){e[d]=e.x,e[f]=e.y,e[h]=e.r}))}a.DataSet.registerTransform("hierarchy.pack",l),a.DataSet.registerTransform("hierarchy.circle-packing",l),a.DataSet.registerTransform("circle-packing",l)},"./src/transform/hierarchy/partition.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=r.__importStar(n("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js")),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),a=n("./src/data-set.ts"),s=n("./src/util/option-parser.ts"),u={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function l(e,t){if(e.dataType!==a.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n=e.root;t=i.assign({},u,t);var r,l=t.as;if(!i.isArray(l)||2!==l.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{r=s.getField(t)}catch(h){console.warn(h)}r&&n.sum((function(e){return e[r]}));var c=o.partition();c.size(t.size).round(t.round).padding(t.padding),c(n);var d=l[0],f=l[1];n.each((function(e){e[d]=[e.x0,e.x1,e.x1,e.x0],e[f]=[e.y1,e.y1,e.y0,e.y0],["x0","x1","y0","y1"].forEach((function(t){-1===l.indexOf(t)&&delete e[t]}))}))}a.DataSet.registerTransform("hierarchy.partition",l),a.DataSet.registerTransform("adjacency",l)},"./src/transform/hierarchy/tree.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=r.__importStar(n("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js")),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),a=n("./src/data-set.ts"),s=n("./src/util/option-parser.ts"),u={field:"value",size:[1,1],nodeSize:null,separation:null,as:["x","y"]};function l(e,t){if(e.dataType!==a.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n=e.root;t=i.assign({},u,t);var r,l=t.as;if(!i.isArray(l)||2!==l.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{r=s.getField(t)}catch(h){console.warn(h)}r&&n.sum((function(e){return e[r]}));var c=o.tree();c.size(t.size),t.nodeSize&&c.nodeSize(t.nodeSize),t.separation&&c.separation(t.separation),c(n);var d=l[0],f=l[1];n.each((function(e){e[d]=e.x,e[f]=e.y}))}a.DataSet.registerTransform("hierarchy.tree",l),a.DataSet.registerTransform("tree",l)},"./src/transform/hierarchy/treemap.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=r.__importStar(n("./node_modules/_d3-hierarchy@1.1.9@d3-hierarchy/dist/d3-hierarchy.js")),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),a=n("./src/data-set.ts"),s=n("./src/util/option-parser.ts"),u={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function l(e,t){if(e.dataType!==a.DataSet.CONSTANTS.HIERARCHY)throw new TypeError("Invalid DataView: This transform is for Hierarchy data only!");var n=e.root;t=i.assign({},u,t);var r,l=t.as;if(!i.isArray(l)||2!==l.length)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');try{r=s.getField(t)}catch(h){console.warn(h)}r&&n.sum((function(e){return e[r]}));var c=o.treemap();c.tile(o[t.tile]).size(t.size).round(t.round).padding(t.padding).paddingInner(t.paddingInner).paddingOuter(t.paddingOuter).paddingTop(t.paddingTop).paddingRight(t.paddingRight).paddingBottom(t.paddingBottom).paddingLeft(t.paddingLeft),c(n);var d=l[0],f=l[1];n.each((function(e){e[d]=[e.x0,e.x1,e.x1,e.x0],e[f]=[e.y1,e.y1,e.y0,e.y0],["x0","x1","y0","y1"].forEach((function(t){-1===l.indexOf(t)&&delete e[t]}))}))}a.DataSet.registerTransform("hierarchy.treemap",l),a.DataSet.registerTransform("treemap",l)},"./src/transform/impute.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=r.__importStar(n("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js")),a=r.__importDefault(n("./src/util/partition.ts")),s=n("./src/data-set.ts"),u=n("./src/util/option-parser.ts"),l={groupBy:[]};function c(e){return e.filter((function(e){return!o.isUndefined(e)}))}var d=["mean","median","max","min"],f={};function h(e,t){t=o.assign({},l,t);var n=u.getField(t),r=t.method;if(!r)throw new TypeError("Invalid method!");if("value"===r&&!o.has(t,"value"))throw new TypeError("Invalid value: it is nil.");var i=c(e.getColumn(n)),s=a.default(e.rows,t.groupBy);o.forIn(s,(function(e){var a=c(e.map((function(e){return e[n]})));0===a.length&&(a=i),e.forEach((function(i){if(o.isUndefined(i[n]))if(o.isFunction(r))i[n]=r(i,a,t.value,e);else{if(!o.isString(r))throw new TypeError("Invalid method: must be a function or one of "+d.join(", "));i[n]=f[r](i,a,t.value)}}))}))}d.forEach((function(e){f[e]=function(t,n){return i[e](n)}})),f.value=function(e,t,n){return n},s.DataSet.registerTransform("impute",h)},"./src/transform/kde.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=r.__importDefault(n("./src/util/get-series-values.ts")),a=r.__importDefault(n("./src/util/kernel.ts")),s=r.__importStar(n("./src/util/bandwidth.ts")),u=r.__importDefault(n("./src/util/partition.ts")),l=n("./src/data-set.ts"),c=n("./src/util/option-parser.ts"),d=n("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js"),f={minSize:.01,as:["key","y","size"],extent:[],method:"gaussian",bandwidth:"nrd",step:0,groupBy:[]},h=o.keys(a.default),p=o.keys(s);function v(e,t){t=o.assign({},f,t);var n=c.getFields(t);if(!o.isArray(n)||n.length<1)throw new TypeError("invalid fields: must be an array of at least 1 strings!");var l=t.as;if(!o.isArray(l)||3!==l.length)throw new TypeError("invalid as: must be an array of 3 strings!");var p=t.method;if(o.isString(p)){if(-1===h.indexOf(p))throw new TypeError("invalid method: "+p+". Must be one of "+h.join(", "));p=a.default[p]}if(!o.isFunction(p))throw new TypeError("invalid method: kernel method must be a function!");var v=t.extent;if(!o.isArray(v)||0===v.length){var g=[];o.each(n,(function(t){var n=e.range(t);g=g.concat(n)})),v=[Math.min.apply(Math,r.__spread(g)),Math.max.apply(Math,r.__spread(g))]}var _=t.bandwidth;o.isString(_)&&s[_]?_=s[_](e.getColumn(n[0])):o.isFunction(_)?_=_(e.getColumn(n[0])):(!o.isNumber(_)||_<=0)&&(_=s.nrd(e.getColumn(n[0])));var m=i.default(v,t.step?t.step:_),y=[],b=t.groupBy,x=u.default(e.rows,b);o.forIn(x,(function(e){var i={};o.each(n,(function(n){var a=o.pick(e[0],b);i[n]=d.kernelDensityEstimation(e.map((function(e){return e[n]})),p,_);var s=r.__read(l,3),u=s[0],c=s[1],f=s[2];a[u]=n,a[c]=[],a[f]=[],o.each(m,(function(e){var r=i[n](e);r>=t.minSize&&(a[c].push(e),a[f].push(r))})),y.push(a)}))})),e.rows=y}l.DataSet.registerTransform("kernel-density-estimation",v),l.DataSet.registerTransform("kde",v),l.DataSet.registerTransform("KDE",v),t.default={KERNEL_METHODS:h,BANDWIDTH_METHODS:p}},"./src/transform/kernel-smooth/density.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=r.__importDefault(n("./src/util/get-series-values.ts")),a=r.__importDefault(n("./src/util/kernel.ts")),s=n("./src/data-set.ts"),u=n("./src/util/option-parser.ts"),l=n("./src/util/bandwidth.ts"),c={as:["x","y","z"],method:"gaussian"},d=o.keys(a.default);function f(e,t){var n,s;t=o.assign({},c,t);var f=u.getFields(t);if(!o.isArray(f)||2!==f.length)throw new TypeError("invalid fields: must be an array of 2 strings!");var h,p=r.__read(t.as,3),v=p[0],g=p[1],_=p[2];if(!o.isString(v)||!o.isString(g)||!o.isString(_))throw new TypeError("invalid as: must be an array of 3 strings!");if(o.isString(t.method)){if(-1===d.indexOf(t.method))throw new TypeError("invalid method: "+t.method+". Must be one of "+d.join(", "));h=a.default[t.method]}var m,y,b,x,w=r.__read(f,2),S=w[0],E=w[1],j=t.extent,T=t.bandwidth;j&&Array.isArray(j)&&Array.isArray(j[0])&&Array.isArray(j[1])?(n=r.__read(j,2),m=n[0],y=n[1]):(m=e.range(S),y=e.range(E)),T&&Array.isArray(T)&&T.slice(0,2).every(o.isNumber)&&T.slice(0,2).every((function(e){return e>0}))?(s=r.__read(T,2),b=s[0],x=s[1]):(b=l.silverman(e.getColumn(S)),x=l.silverman(e.getColumn(E)));for(var P=i.default(m,b),k=i.default(y,x),O=e.rows.length,C=[],A=0;A<P.length;A++)for(var M=0;M<k.length;M++){for(var R=0,L=P[A],I=k[M],N=0;N<O;N++)R+=h((L-e.rows[N][S])/b)*h((I-e.rows[N][E])/x);var D=1/(O*b*x)*R,z={};z[v]=L,z[g]=I,z[_]=D,C.push(z)}e.rows=C}s.DataSet.registerTransform("kernel-smooth.density",f),s.DataSet.registerTransform("kernel.density",f),t.default={KERNEL_METHODS:d}},"./src/transform/kernel-smooth/regression.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=r.__importDefault(n("./src/util/get-series-values.ts")),a=r.__importDefault(n("./src/util/kernel.ts")),s=n("./src/data-set.ts"),u=n("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js"),l=n("./src/util/option-parser.ts"),c=n("./src/util/bandwidth.ts"),d={as:["x","y"],method:"gaussian"},f=o.keys(a.default);function h(e,t,n,r){var o=(r-n)/t;return e(o)}function p(e){return function(t){return o.isArray(t)?t.map((function(t){return e(t)})):e(t)}}function v(e,t){t=o.assign({},d,t);var n=l.getFields(t);if(!o.isArray(n)||1!==n.length&&2!==n.length)throw new TypeError("invalid fields: must be an array of 1 or 2 strings!");var s,v=r.__read(t.as,2),g=v[0],_=v[1];if(!o.isString(g)||!o.isString(_))throw new TypeError("invalid as: must be an array of 2 strings!");var m=t.method;if(o.isString(m)){if(-1===f.indexOf(m))throw new TypeError("invalid method: "+m+". Must be one of "+f.join(", "));s=a.default[m]}var y=r.__read(n,2),b=y[0],x=y[1],w=e.getColumn(b),S=t.extent;!S&&o.isArray(S)||(S=e.range(b));var E=t.bandwidth;(!E||!o.isNumber(E)||E<=0)&&(E=c.silverman(w));var j,T=i.default(S,E),P=w.length,k=h.bind(null,s,E);if(o.isNil(x))j=p((function(e){var t=w.map((function(t){return k(e,t)})),n=u.sum(t),r=P*E;return n&&r?n/r:0}));else{var O=e.getColumn(x);j=p((function(e){var t=w.map((function(t){return k(e,t)})),n=u.sum(t.map((function(e,t){return e*O[t]}))),r=u.sum(t);return n&&r?n/r:0}))}var C=T.map((function(e){var t={};return t[g]=e,t[_]=j(e),t}));e.rows=C}s.DataSet.registerTransform("kernel-smooth.regression",v),s.DataSet.registerTransform("kernel.regression",v),t.default={KERNEL_METHODS:f}},"./src/transform/map.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/data-set.ts");function o(e){return e}r.DataSet.registerTransform("map",(function(e,t){e.rows=e.rows.map(t.callback||o)}))},"./src/transform/partition.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=r.__importDefault(n("./src/util/partition.ts")),a=n("./src/data-set.ts"),s={groupBy:[],orderBy:[]};function u(e,t){t=o.assign({},s,t),e.rows=o.values(i.default(e.rows,t.groupBy,t.orderBy))}a.DataSet.registerTransform("partition",(function(e,t){t=o.assign({},s,t),e.rows=i.default(e.rows,t.groupBy,t.orderBy)})),a.DataSet.registerTransform("group",u),a.DataSet.registerTransform("groups",u)},"./src/transform/percent.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=n("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js"),a=r.__importDefault(n("./src/util/partition.ts")),s=n("./src/data-set.ts"),u=n("./src/util/option-parser.ts"),l={groupBy:[],as:"_percent"};function c(e,t){t=o.assign({},l,t);var n=u.getField(t),r=t.dimension,s=t.groupBy,c=t.as;if(!o.isString(r))throw new TypeError("Invalid dimension: must be a string!");if(o.isArray(c)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),c=c[0]),!o.isString(c))throw new TypeError("Invalid as: must be a string!");var d=e.rows,f=[],h=a.default(d,s);o.forIn(h,(function(e){var t=i.sum(e.map((function(e){return e[n]})));0===t&&console.warn("Invalid data: total sum of field "+n+" is 0!");var s=a.default(e,[r]);o.forIn(s,(function(e){var o=i.sum(e.map((function(e){return e[n]}))),a=e[0],s=a[r];a[n]=o,a[r]=s,a[c]=0===t?0:o/t,f.push(a)}))})),e.rows=f}s.DataSet.registerTransform("percent",c)},"./src/transform/pick.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),o=n("./src/data-set.ts"),i=n("./src/util/option-parser.ts");o.DataSet.registerTransform("pick",(function(e,t){var n=i.getFields(t,e.getColumnNames());e.rows=e.rows.map((function(e){return r.pick(e,n)}))}))},"./src/transform/proportion.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=r.__importDefault(n("./src/util/partition.ts")),a=n("./src/data-set.ts"),s=n("./src/util/option-parser.ts"),u={groupBy:[],as:"_proportion"};function l(e,t){t=o.assign({},u,t);var n=s.getField(t),r=t.dimension,a=t.groupBy,l=t.as;if(!o.isString(r))throw new TypeError("Invalid dimension: must be a string!");if(o.isArray(l)&&(console.warn("Invalid as: must be a string, will use the first element of the array specified."),l=l[0]),!o.isString(l))throw new TypeError("Invalid as: must be a string!");var c=e.rows,d=[],f=i.default(c,a);o.forIn(f,(function(e){var t=e.length,a=i.default(e,[r]);o.forIn(a,(function(e){var o=e.length,i=e[0],a=i[r];i[n]=o,i[r]=a,i[l]=o/t,d.push(i)}))})),e.rows=d}a.DataSet.registerTransform("proportion",l)},"./src/transform/regression.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=r.__importDefault(n("./node_modules/_regression@2.0.1@regression/dist/regression.js")),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),a=r.__importDefault(n("./src/util/get-series-values.ts")),s=n("./src/data-set.ts"),u=n("./src/util/option-parser.ts"),l=n("./src/util/bandwidth.ts"),c={as:["x","y"],method:"linear",order:2,precision:2},d=["linear","exponential","logarithmic","power","polynomial"];function f(e,t){t=i.assign({},c,t);var n=u.getFields(t);if(!i.isArray(n)||2!==n.length)throw new TypeError("invalid fields: must be an array of 2 strings.");var s=r.__read(n,2),f=s[0],h=s[1],p=t.method;if(-1===d.indexOf(p))throw new TypeError("invalid method: "+p+". Must be one of "+d.join(", "));var v=e.rows.map((function(e){return[e[f],e[h]]})),g=o.default[p](v,t),_=t.extent;i.isArray(_)&&2===_.length||(_=e.range(f));var m=t.bandwidth;(!i.isNumber(m)||m<=0)&&(m=l.silverman(e.getColumn(f)));var y=a.default(_,m),b=[],x=r.__read(t.as,2),w=x[0],S=x[1];y.forEach((function(e){var t={},n=r.__read(g.predict(e),2),o=n[0],i=n[1];t[w]=o,t[S]=i,isFinite(i)&&b.push(t)})),e.rows=b}s.DataSet.registerTransform("regression",f),t.default={REGRESSION_METHODS:d}},"./src/transform/rename.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),o=n("./src/data-set.ts");function i(e,t){var n=t.map||{},o={};r.isPlainObject(n)&&r.forIn(n,(function(e,t){r.isString(e)&&r.isString(t)&&(o[t]=e)})),e.rows.forEach((function(e){r.forIn(o,(function(t,n){var r=e[n];delete e[n],e[t]=r}))}))}o.DataSet.registerTransform("rename",i),o.DataSet.registerTransform("rename-fields",i)},"./src/transform/reverse.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/data-set.ts");r.DataSet.registerTransform("reverse",(function(e){e.rows.reverse()}))},"./src/transform/sort-by.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),o=n("./src/data-set.ts"),i=n("./src/util/option-parser.ts"),a=["ASC","DESC"];function s(e,t){var n=i.getFields(t,[e.getColumnName(0)]);if(!r.isArray(n))throw new TypeError("Invalid fields: must be an array with strings!");e.rows=r.sortBy(e.rows,n);var o=t.order;if(o&&-1===a.indexOf(o))throw new TypeError("Invalid order: "+o+" must be one of "+a.join(", "));"DESC"===o&&e.rows.reverse()}o.DataSet.registerTransform("sort-by",s),o.DataSet.registerTransform("sortBy",s)},"./src/transform/sort.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/data-set.ts");r.DataSet.registerTransform("sort",(function(e,t){var n=e.getColumnName(0);e.rows.sort(t.callback||function(e,t){return e[n]-t[n]})}))},"./src/transform/subset.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./src/data-set.ts"),o=n("./src/util/option-parser.ts");r.DataSet.registerTransform("subset",(function(e,t){var n=t.startRowIndex||0,r=t.endRowIndex||e.rows.length-1,i=o.getFields(t,e.getColumnNames());e.rows=e.getSubset(n,r,i)}))},"./src/transform/tag-cloud.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=n("./src/data-set.ts"),a=r.__importDefault(n("./src/util/tag-cloud.ts")),s=n("./src/util/option-parser.ts"),u={fields:["text","value"],font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:500};function l(e,t){t=o.assign({},u,t);var n=a.default();["font","fontSize","padding","rotate","size","spiral","timeInterval"].forEach((function(e){t[e]&&n[e](t[e])}));var i=s.getFields(t),l=r.__read(i,2),c=l[0],d=l[1];if(!o.isString(c)||!o.isString(d))throw new TypeError('Invalid fields: must be an array with 2 strings (e.g. [ "text", "value" ])!');var f=e.rows.map((function(e){return e.text=e[c],e.value=e[d],e}));n.words(f),t.imageMask&&n.createMask(t.imageMask);var h=n.start(),p=h._tags,v=h._bounds;p.forEach((function(e){e.x+=t.size[0]/2,e.y+=t.size[1]/2}));var g=r.__read(t.size,2),_=g[0],m=g[1],y=h.hasImage;p.push({text:"",value:0,x:y?0:v[0].x,y:y?0:v[0].y,opacity:0}),p.push({text:"",value:0,x:y?_:v[1].x,y:y?m:v[1].y,opacity:0}),e.rows=p,e._tagCloud=h}i.DataSet.registerTransform("tag-cloud",l),i.DataSet.registerTransform("word-cloud",l)},"./src/transform/waffle.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=n("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js"),a=r.__importDefault(n("./src/util/partition.ts")),s=n("./src/data-set.ts"),u=n("./src/util/option-parser.ts"),l={fields:["name","value"],rows:5,size:[1,1],scale:1,groupBy:[],maxCount:1e3,gapRatio:.1,as:["x","y"]};function c(e,t){t=o.assign({},l,t);var n=u.getFields(t),s=r.__read(n,2),c=s[0],d=s[1],f=r.__read(t.as,2),h=f[0],p=f[1],v=t.groupBy,g=a.default(e.rows,v),_=o.keys(g),m=r.__read(t.size,2),y=m[0],b=m[1],x=t.maxCount,w=_.length,S=b/w,E=t.rows,j=t.gapRatio,T=[],P=t.scale,k=0,O=0;o.forIn(g,(function(e){var t=i.sum(o.map(e,(function(e){return e[d]}))),n=Math.ceil(t*P/E);t*P>x&&(P=x/t,n=Math.ceil(t*P/E)),O=y/n})),o.forIn(g,(function(e){var t=[k*S,(k+1)*S],n=t[1]-t[0],r=n*(1-j)/E,i=0,a=0;o.each(e,(function(e){for(var n=e[d],s=Math.round(n*P),u=0;u<s;u++){a===E&&(a=0,i++);var l=o.pick(e,[c,d].concat(v));l[h]=i*O+O/2,l[p]=a*r+r/2+t[0],l._wStep=O,l._hStep=r,a++,T.push(l)}})),k+=1})),e.rows=T}s.DataSet.registerTransform("waffle",c)},"./src/util/bandwidth.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_simple-statistics@6.1.1@simple-statistics/dist/simple-statistics.min.js");function o(e){var t=r.standardDeviation(e),n=4*Math.pow(t,5),o=3*e.length;return Math.pow(n/o,.2)}function i(e){var t=r.standardDeviation(e),n=r.interquartileRange(e);return"number"===typeof n&&(t=Math.min(t,n/1.34)),1.06*t*Math.pow(e.length,-.2)}t.silverman=o,t.nrd=i},"./src/util/get-geo-projection.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=r.__importStar(n("./node_modules/_d3-geo@1.6.4@d3-geo/build/d3-geo.js")),a=r.__importStar(n("./node_modules/_d3-geo-projection@2.1.2@d3-geo-projection/build/d3-geo-projection.js")),s=r.__importStar(n("./node_modules/_d3-composite-projections@1.3.2@d3-composite-projections/d3-composite-projections.js"));t.default=function(e,t){if(void 0===t&&(t=!1),o.isFunction(e))return t?e:e();if(o.isString(e)){if(i[e])return t?i[e]:i[e]();if(a[e])return t?a[e]:a[e]();if(s[e])return t?s[e]:s[e]()}return null}},"./src/util/get-series-values.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js");t.default=function(e,t){var n=t||1,o=r.__read(e,2),i=o[0],a=o[1],s=[],u=i;while(u<a)s.push(u),u+=n;return s.push(a),s}},"./src/util/kernel.ts":function(e,t,n){"use strict";function r(e){return Math.abs(e)<=1?.5:0}function o(e){var t=1-Math.pow(Math.abs(e),3);return Math.pow(t,3)}Object.defineProperty(t,"__esModule",{value:!0}),t.default={boxcar:r,cosine:function(e){return Math.abs(e)<=1?Math.PI/4*Math.cos(Math.PI/2*e):0},epanechnikov:function(e){return Math.abs(e)<1?.75*(1-e*e):0},gaussian:function(e){return.3989422804*Math.exp(-.5*e*e)},quartic:function(e){if(Math.abs(e)<1){var t=1-e*e;return 15/16*t*t}return 0},triangular:function(e){var t=Math.abs(e);return t<1?1-t:0},tricube:function(e){return Math.abs(e)<1?70/81*o(e):0},triweight:function(e){if(Math.abs(e)<1){var t=1-e*e;return 35/32*t*t*t}return 0},uniform:r}},"./src/util/option-parser.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),o="Invalid field: it must be a string!",i="Invalid fields: it must be an array!";function a(e,t){var n=e.field,i=e.fields;if(r.isString(n))return n;if(r.isArray(n))return console.warn(o),n[0];if(console.warn(o+" will try to get fields instead."),r.isString(i))return i;if(r.isArray(i)&&i.length)return i[0];if(t)return t;throw new TypeError(o)}function s(e,t){var n=e.field,o=e.fields;if(r.isArray(o))return o;if(r.isString(o))return console.warn(i),[o];if(console.warn(i+" will try to get field instead."),r.isString(n))return console.warn(i),[n];if(r.isArray(n)&&n.length)return console.warn(i),n;if(t)return t;throw new TypeError(i)}t.getField=a,t.getFields=s},"./src/util/p-by-fraction.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=1/e,n=[],r=0;r<=1;r+=t)n.push(r);return n}},"./src/util/partition.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js"),i=r.__importDefault(n("./src/util/simple-sort-by.ts"));t.default=function(e,t,n){void 0===n&&(n=[]);var r,a=e;n&&n.length&&(a=i.default(e,n)),o.isFunction(t)?r=t:o.isArray(t)?r=function(e){return"_"+t.map((function(t){return e[t]})).join("-")}:o.isString(t)&&(r=function(e){return"_"+e[t]});var s=o.groupBy(a,r);return s}},"./src/util/simple-sort-by.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js");function o(e,t){void 0===t&&(t=[]);var n=void 0;return r.isFunction(t)?n=t:r.isArray(t)?n=function(e,n){for(var r=0;r<t.length;r++){var o=t[r];if(e[o]<n[o])return-1;if(e[o]>n[o])return 1}return 0}:r.isString(t)&&(n=function(e,n){return e[t]<n[t]?-1:e[t]>n[t]?1:0}),e.sort(n)}t.default=o},"./src/util/tag-cloud.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=Math.PI/180,i=64,a=2048;function s(e){return e.text}function u(){return"serif"}function l(){return"normal"}function c(e){return e.value}function d(){return 90*~~(2*Math.random())}function f(){return 1}function h(e,t,n,r){if(!t.sprite){var s=e.context,u=e.ratio;s.clearRect(0,0,(i<<5)/u,a/u);var l=0,c=0,d=0,f=n.length;--r;while(++r<f){t=n[r],s.save(),s.font=t.style+" "+t.weight+" "+~~((t.size+1)/u)+"px "+t.font;var h=s.measureText(t.text+"m").width*u,p=t.size<<1;if(t.rotate){var v=Math.sin(t.rotate*o),g=Math.cos(t.rotate*o),_=h*g,m=h*v,y=p*g,b=p*v;h=Math.max(Math.abs(_+b),Math.abs(_-b))+31>>5<<5,p=~~Math.max(Math.abs(m+y),Math.abs(m-y))}else h=h+31>>5<<5;if(p>d&&(d=p),l+h>=i<<5&&(l=0,c+=d,d=0),c+p>=a)break;s.translate((l+(h>>1))/u,(c+(p>>1))/u),t.rotate&&s.rotate(t.rotate*o),s.fillText(t.text,0,0),t.padding&&(s.lineWidth=2*t.padding,s.strokeText(t.text,0,0)),s.restore(),t.width=h,t.height=p,t.xoff=l,t.yoff=c,t.x1=h>>1,t.y1=p>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,l+=h}var x=s.getImageData(0,0,(i<<5)/u,a/u).data,w=[];while(--r>=0)if(t=n[r],t.hasText){h=t.width;for(var S=h>>5,E=(p=t.y1-t.y0,0);E<p*S;E++)w[E]=0;if(l=t.xoff,null==l)return;c=t.yoff;for(var j=0,T=-1,P=0;P<p;P++){for(E=0;E<h;E++){var k=S*P+(E>>5),O=x[(c+P)*(i<<5)+(l+E)<<2]?1<<31-E%32:0;w[k]|=O,j|=O}j?T=P:(t.y0++,p--,P--,c++)}t.y1=t.y0+T,t.sprite=w.slice(0,(t.y1-t.y0)*S)}}}function p(e,t,n){n>>=5;for(var r,o=e.sprite,i=e.width>>5,a=e.x-(i<<4),s=127&a,u=32-s,l=e.y1-e.y0,c=(e.y+e.y0)*n+(a>>5),d=0;d<l;d++){r=0;for(var f=0;f<=i;f++)if((r<<u|(f<i?(r=o[d*i+f])>>>s:0))&t[c+f])return!0;c+=n}return!1}function v(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function g(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function _(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function m(e){var t=4,n=t*e[0]/e[1],r=0,o=0;return function(e){var i=e<0?-1:1;switch(Math.sqrt(1+4*i*e)-i&3){case 0:r+=n;break;case 1:o+=t;break;case 2:r-=n;break;default:o-=t;break}return[r,o]}}function y(e){var t=[],n=-1;while(++n<e)t[n]=0;return t}function b(){return document.createElement("canvas")}function x(e){return"function"===typeof e?e:function(){return e}}var w={archimedean:_,rectangular:m};function S(){var e=[256,256],t=s,n=u,o=c,m=l,S=l,E=d,j=f,T=_,P=[],k=1/0,O=Math.random,C=b,A={};function M(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=(i<<5)/t,e.height=a/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}function R(t,n,r){var o,i,a,s=n.x,u=n.y,l=Math.sqrt(e[0]*e[0]+e[1]*e[1]),c=T(e),d=O()<.5?1:-1,f=-d;while(o=c(f+=d)){if(i=~~o[0],a=~~o[1],Math.min(Math.abs(i),Math.abs(a))>=l)break;if(n.x=s+i,n.y=u+a,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>e[0]||n.y+n.y1>e[1])&&(!r||!p(n,t,e[0]))&&(!r||g(n,r))){for(var h=n.sprite,v=n.width>>5,_=e[0]>>5,m=n.x-(v<<4),y=127&m,b=32-y,x=n.y1-n.y0,w=void 0,S=(n.y+n.y0)*_+(m>>5),E=0;E<x;E++){w=0;for(var j=0;j<=v;j++)t[S+j]|=w<<b|(j<v?(w=h[E*v+j])>>>y:0);S+=_}return delete n.sprite,!0}}return!1}return A.canvas=function(e){return arguments.length?(C=x(e),A):C},A.start=function(){var i=r.__read(e,2),a=i[0],s=i[1],u=M(C()),l=A.board?A.board:y((e[0]>>5)*e[1]),c=P.length,d=[],f=P.map((function(e,r){return e.text=t.call(this,e,r),e.font=n.call(this,e,r),e.style=m.call(this,e,r),e.weight=S.call(this,e,r),e.rotate=E.call(this,e,r),e.size=~~o.call(this,e,r),e.padding=j.call(this,e,r),e})).sort((function(e,t){return t.size-e.size})),p=-1,g=A.board?[{x:0,y:0},{x:a,y:s}]:null;function _(){var t=Date.now();while(Date.now()-t<k&&++p<c){var n=f[p];n.x=a*(O()+.5)>>1,n.y=s*(O()+.5)>>1,h(u,n,f,p),n.hasText&&R(l,n,g)&&(d.push(n),g?A.hasImage||v(g,n):g=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=e[0]>>1,n.y-=e[1]>>1)}A._tags=d,A._bounds=g}return _(),A},A.createMask=function(t){var n=document.createElement("canvas"),o=r.__read(e,2),i=o[0],a=o[1],s=i>>5,u=y((i>>5)*a);n.width=i,n.height=a;var l=n.getContext("2d");l.drawImage(t,0,0,t.width,t.height,0,0,i,a);for(var c=l.getImageData(0,0,i,a).data,d=0;d<a;d++)for(var f=0;f<i;f++){var h=s*d+(f>>5),p=d*i+f<<2,v=c[p]>=250&&c[p+1]>=250&&c[p+2]>=250,g=v?1<<31-f%32:0;u[h]|=g}A.board=u,A.hasImage=!0},A.timeInterval=function(e){return arguments.length?(k=null==e?1/0:e,A):k},A.words=function(e){return arguments.length?(P=e,A):P},A.size=function(t){return arguments.length?(e=[+t[0],+t[1]],A):e},A.font=function(e){return arguments.length?(n=x(e),A):n},A.fontStyle=function(e){return arguments.length?(m=x(e),A):m},A.fontWeight=function(e){return arguments.length?(S=x(e),A):S},A.rotate=function(e){return arguments.length?(E=x(e),A):E},A.text=function(e){return arguments.length?(t=x(e),A):t},A.spiral=function(e){return arguments.length?(T=w[e]||e,A):T},A.fontSize=function(e){return arguments.length?(o=x(e),A):o},A.padding=function(e){return arguments.length?(j=x(e),A):j},A.random=function(e){return arguments.length?(O=e,A):O},A}t.default=S},"./src/view.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/_tslib@1.11.1@tslib/tslib.js"),o=r.__importDefault(n("./node_modules/_wolfy87-eventemitter@5.2.9@wolfy87-eventemitter/EventEmitter.js")),i=n("./node_modules/_@antv_util@2.0.7@@antv/util/lib/index.js");function a(e){var t={};return i.forIn(e,(function(e,n){i.isObject(e)&&e.isView?t[n]=e:i.isArray(e)?t[n]=e.concat([]):i.isPlainObject(e)?t[n]=i.clone(e):t[n]=e})),t}var s=function(e){function t(t,n){var r=e.call(this)||this;if(r.isView=!0,r.isDataView=!0,r.watchingStates=null,r.dataType="table",r.transforms=[],r.origin=[],r.rows=[],t&&t.isDataSet?r.dataSet=t:(r.dataSet=null,n=t),r.loose=!r.dataSet,n&&(r.watchingStates=n.watchingStates),!r.loose){var o=r.watchingStates;t.on("statechange",(function(e){i.isArray(o)?o.indexOf(e)>-1&&r._reExecute():r._reExecute()}))}return r}return r.__extends(t,e),t.prototype._parseStateExpression=function(e){var t=this.dataSet;if(null!==t){var n=/^\$state\.(\w+)/.exec(e);return n?t.state[n[1]]:e}},t.prototype._preparseOptions=function(e){var t=this,n=a(e);return this.loose||i.forIn(n,(function(e,r){i.isString(e)&&/^\$state\./.test(e)&&(n[r]=t._parseStateExpression(e))})),n},t.prototype._prepareSource=function(e,n){if(this._source={source:e,options:n},n){r=this._preparseOptions(n);this.origin=t.DataSet.getConnector(r.type)(e,r,this)}else if(e instanceof t||i.isString(e))this.origin=t.DataSet.getConnector("default")(e,this.dataSet);else if(i.isArray(e))this.origin=e;else{if(!i.isObject(e)||!e.type)throw new TypeError("Invalid source");var r=this._preparseOptions(e);this.origin=t.DataSet.getConnector(r.type)(r,this)}return this.rows=i.deepMix([],this.origin),this},t.prototype.source=function(e,t){return this._prepareSource(e,t)._reExecuteTransforms(),this.trigger("change",[]),this},t.prototype.transform=function(e){return e&&e.type&&(this.transforms.push(e),this._executeTransform(e)),this},t.prototype._executeTransform=function(e){e=this._preparseOptions(e);var n=t.DataSet.getTransform(e.type);n(this,e)},t.prototype._reExecuteTransforms=function(){var e=this;this.transforms.forEach((function(t){e._executeTransform(t)}))},t.prototype.addRow=function(e){this.rows.push(e)},t.prototype.removeRow=function(e){this.rows.splice(e,1)},t.prototype.updateRow=function(e,t){i.assign(this.rows[e],t)},t.prototype.findRows=function(e){return this.rows.filter((function(t){return i.isMatch(t,e)}))},t.prototype.findRow=function(e){return i.find(this.rows,e)},t.prototype.getColumnNames=function(){var e=this.rows[0];return e?i.keys(e):[]},t.prototype.getColumnName=function(e){return this.getColumnNames()[e]},t.prototype.getColumnIndex=function(e){var t=this.getColumnNames();return t.indexOf(e)},t.prototype.getColumn=function(e){return this.rows.map((function(t){return t[e]}))},t.prototype.getColumnData=function(e){return this.getColumn(e)},t.prototype.getSubset=function(e,t,n){for(var r=[],o=e;o<=t;o++)r.push(i.pick(this.rows[o],n));return r},t.prototype.toString=function(e){return void 0===e&&(e=!1),e?JSON.stringify(this.rows,null,2):JSON.stringify(this.rows)},t.prototype._reExecute=function(){var e=this._source,t=e.source,n=e.options;this._prepareSource(t,n),this._reExecuteTransforms(),this.trigger("change",[])},t}(o.default);t.View=s}})}))},cZlC:function(e,t,n){"use strict";var r,o,i;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),function(e){e["LINEAR"]="linear",e["POWER"]="power",e["LOG"]="log",e["IDENTITY"]="identity",e["TIME"]="time",e["QUANTILE"]="quantile",e["QUANTIZE"]="quantize",e["THRESHOLD"]="threshold",e["CAT"]="cat"}(r||(r={})),function(e){e["CONSTANT"]="constant",e["VARIABLE"]="variable"}(o||(o={})),function(e){e[e["Attribute"]=0]="Attribute",e[e["InstancedAttribute"]=1]="InstancedAttribute",e[e["Uniform"]=2]="Uniform"}(i||(i={}))},"eg+a":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["loaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"]},fX6N:function(e,t,n){"use strict";n.d(t,"d",(function(){return pa})),n.d(t,"b",(function(){return ga})),n.d(t,"a",(function(){return _a}));n("mNvP");var r=n("uhBA"),o=n.n(r),i=n("4cb6"),a=n("APxj"),s=n.n(a),u=n("bB6j"),l=n("lSNA"),c=n.n(l),d=n("lwsE"),f=n.n(d),h=n("W8MJ"),p=n.n(h),v=n("Hel2"),g=n("rxlC"),_=n.n(g);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=x(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function x(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S,E,j,T=30;function P(e){var t=e.characterSet,n=e.getFontWidth,r=e.fontHeight,o=e.buffer,i=e.maxCanvasWidth,a=e.mapping,s=void 0===a?{}:a,u=e.xOffset,l=void 0===u?0:u,c=e.yOffset,d=void 0===c?0:c,f=0,h=l;Array.from(t).forEach((function(e,t){if(!s[e]){var r=n(e,t);h+T>i&&(h=0,f++),s[e]={x:h,y:d+f*T,width:T,height:T,advance:r},h+=T}}));var p=r+2*o;return{mapping:s,xOffset:h,yOffset:d+f*p,canvasHeight:C(d+(f+1)*p)}}function k(e,t,n){var r,o=0,i=0,a=0,s=[],u={},l=b(e);try{for(l.s();!(r=l.n()).done;){var c=r.value;if(!u[c.id]){var d=c.height,f=c.width;o+f+t>n&&(O(u,s,i),o=0,i=a+i+t,a=0,s=[]),s.push({icon:c,xOffset:o}),o=o+f+t,a=Math.max(a,d)}}}catch(p){l.e(p)}finally{l.f()}s.length>0&&O(u,s,i);var h=C(a+i+t);return{mapping:u,canvasHeight:h}}function O(e,t,n){var r,o=b(t);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.icon,s=i.xOffset;e[a.id]=y(y({},a),{},{x:s,y:n,image:a.image})}}catch(u){o.e(u)}finally{o.f()}}function C(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function A(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=M(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function M(e,t){if(e){if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=Y(),D="sans-serif",z="normal",F=24,B=3,U=.25,H=8,V=1024,G=1,q=1,X=3;function Y(){for(var e=[],t=32;t<128;t++)e.push(String.fromCharCode(t));return e}function W(e,t,n,r){e.font="".concat(r," ").concat(n,"px ").concat(t),e.fillStyle="black",e.textBaseline="middle"}function Z(e,t){for(var n=0;n<e.length;n++)t.data[4*n+3]=e[n]}var K,Q,J,$=(S=Object(i["injectable"])(),S((j=function(){function e(){f()(this,e),this.fontAtlas=void 0,this.iconFontGlyphs={},this.fontOptions=void 0,this.key=void 0,this.cache=new v["b"](X)}return p()(e,[{key:"init",value:function(){this.cache.clear(),this.fontOptions={fontFamily:D,fontWeight:z,characterSet:N,fontSize:F,buffer:B,sdf:!0,cutoff:U,radius:H},this.key=""}},{key:"addIconGlyphs",value:function(e){var t=this;e.forEach((function(e){t.iconFontGlyphs[e.name]=e.unicode}))}},{key:"getGlyph",value:function(e){return this.iconFontGlyphs[e]?String.fromCharCode(parseInt(this.iconFontGlyphs[e],16)):""}},{key:"setFontOptions",value:function(e){this.fontOptions=I(I({},this.fontOptions),e),this.key=this.getKey();var t=this.getNewChars(this.key,this.fontOptions.characterSet),n=this.cache.get(this.key);if(!n||0!==t.length){var r=this.generateFontAtlas(this.key,t,n);this.fontAtlas=r,this.cache.set(this.key,r)}}},{key:"destroy",value:function(){this.cache.clear()}},{key:"generateFontAtlas",value:function(e,t,n){var r=this.fontOptions,o=r.fontFamily,i=r.fontWeight,a=r.fontSize,s=r.buffer,u=r.sdf,l=r.radius,c=r.cutoff,d=n&&n.data;d||(d=document.createElement("canvas"),d.width=V);var f=d.getContext("2d");W(f,o,a,i);var h=P(I({getFontWidth:function(e){return f.measureText(e).width},fontHeight:a*q,buffer:s,characterSet:t,maxCanvasWidth:V},n&&{mapping:n.mapping,xOffset:n.xOffset,yOffset:n.yOffset})),p=h.mapping,v=h.canvasHeight,g=h.xOffset,m=h.yOffset;if(d.height!==v){var y=f.getImageData(0,0,d.width,d.height);d.height=v,f.putImageData(y,0,0)}if(W(f,o,a,i),u){var b,x=new _.a(a,s,l,c,o,i),w=f.getImageData(0,0,x.size,x.size),S=A(t);try{for(S.s();!(b=S.n()).done;){var E=b.value;Z(x.draw(E),w),f.putImageData(w,p[E].x,p[E].y)}}catch(O){S.e(O)}finally{S.f()}}else{var j,T=A(t);try{for(T.s();!(j=T.n()).done;){var k=j.value;f.fillText(k,p[k].x,p[k].y+a*G)}}catch(O){T.e(O)}finally{T.f()}}return{xOffset:g,yOffset:m,mapping:p,data:d,width:d.width,height:d.height}}},{key:"getKey",value:function(){var e=this.fontOptions,t=e.fontFamily,n=e.fontWeight,r=e.fontSize,o=e.buffer,i=e.sdf,a=e.radius,s=e.cutoff;return i?"".concat(t," ").concat(n," ").concat(r," ").concat(o," ").concat(a," ").concat(s):"".concat(t," ").concat(n," ").concat(r," ").concat(o)}},{key:"getNewChars",value:function(e,t){var n=this.cache.get(e);if(!n)return t;var r=[],o=n.mapping,i=new Set(Object.keys(o)),a=new Set(t);return a.forEach((function(e){i.has(e)||r.push(e)})),r}},{key:"scale",get:function(){return q}},{key:"canvas",get:function(){var e=this.cache.get(this.key);return e&&e.data}},{key:"mapping",get:function(){var e=this.cache.get(this.key);return e&&e.mapping}}]),e}(),E=j))||E),ee=n("7W2i"),te=n.n(ee),ne=n("a1gu"),re=n.n(ne),oe=n("Nsbk"),ie=n.n(oe);function ae(e){var t=se();return function(){var n,r=ie()(e);if(t){var o=ie()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re()(this,n)}}function se(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ue,le,ce,de,fe,he,pe=3,ve=1024,ge=64,_e=(K=Object(i["injectable"])(),K((J=function(e){te()(n,e);var t=ae(n);function n(){var e;f()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),e.canvasHeight=void 0,e.texture=void 0,e.canvas=void 0,e.iconData=void 0,e.iconMap=void 0,e.ctx=void 0,e}return p()(n,[{key:"init",value:function(){this.iconData=[],this.iconMap={},this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d")}},{key:"addImage",value:function(e,t){var n=this,r=new Image;if(this.hasImage(e))throw new Error("Image Id already exists");this.iconData.push({id:e,width:ge,height:ge}),this.updateIconMap(),this.loadImage(t).then((function(t){r=t;var o=n.iconData.find((function(t){return t.id===e}));o&&(o.image=r),n.update()}))}},{key:"getTexture",value:function(){return this.texture}},{key:"getIconMap",value:function(){return this.iconMap}},{key:"getCanvas",value:function(){return this.canvas}},{key:"hasImage",value:function(e){return this.iconMap.hasOwnProperty(e)}},{key:"removeImage",value:function(e){this.hasImage(e)&&(this.iconData=this.iconData.filter((function(t){return t.id!==e})),delete this.iconMap[e],this.update())}},{key:"destroy",value:function(){this.iconData=[],this.iconMap={}}},{key:"update",value:function(){this.updateIconMap(),this.updateIconAtlas(),this.emit("imageUpdate")}},{key:"updateIconAtlas",value:function(){var e=this;this.canvas.width=ve,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach((function(t){var n=e.iconMap[t],r=n.x,o=n.y,i=n.image;i&&e.ctx.drawImage(i,r,o,ge,ge)}))}},{key:"updateIconMap",value:function(){var e=k(this.iconData,pe,ve),t=e.mapping,n=e.canvasHeight;this.iconMap=t,this.canvasHeight=n}},{key:"loadImage",value:function(e){return new Promise((function(t,n){if(e instanceof HTMLImageElement)t(e);else{var r=new Image;r.crossOrigin="anonymous",r.onload=function(){t(r)},r.onerror=function(){n(new Error("Could not load image at "+e))},r.src=e instanceof File?URL.createObjectURL(e):e}}))}}]),n}(r["EventEmitter"]),Q=J))||Q),me=n("J4zp"),ye=n.n(me),be=n("IOcx"),xe=(ue=Object(i["injectable"])(),ue((ce=function(){function e(){f()(this,e),this.viewport=void 0,this.overridedViewProjectionMatrix=void 0,this.jitteredViewProjectionMatrix=void 0,this.jitteredProjectionMatrix=void 0,this.viewMatrixInverse=void 0,this.cameraPosition=void 0}return p()(e,[{key:"init",value:function(){}},{key:"update",value:function(e){this.viewport=e,this.viewMatrixInverse=be["a"].invert(be["a"].create(),this.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}},{key:"getProjectionMatrix",value:function(){return this.jitteredProjectionMatrix||this.viewport.getProjectionMatrix()}},{key:"getViewMatrix",value:function(){return this.viewport.getViewMatrix()}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.getViewMatrixUncentered()}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.getViewProjectionMatrixUncentered()}},{key:"getViewProjectionMatrix",value:function(){return this.overridedViewProjectionMatrix||this.jitteredViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}},{key:"getZoom",value:function(){return this.viewport.getZoom()}},{key:"getZoomScale",value:function(){return this.viewport.getZoomScale()}},{key:"getCenter",value:function(){var e=this.viewport.getCenter(),t=ye()(e,2),n=t[0],r=t[1];return[n,r]}},{key:"getFocalDistance",value:function(){return this.viewport.getFocalDistance()}},{key:"getCameraPosition",value:function(){return this.cameraPosition}},{key:"projectFlat",value:function(e,t){return this.viewport.projectFlat(e,t)}},{key:"setViewProjectionMatrix",value:function(e){this.overridedViewProjectionMatrix=e}},{key:"jitterProjectionMatrix",value:function(e,t){var n=be["a"].fromTranslation(be["a"].create(),[e,t,0]);this.jitteredProjectionMatrix=be["a"].multiply(be["a"].create(),n,this.viewport.getProjectionMatrix()),this.jitteredViewProjectionMatrix=be["a"].multiply(be["a"].create(),this.jitteredProjectionMatrix,this.viewport.getViewMatrix())}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0,this.jitteredViewProjectionMatrix=void 0}}]),e}(),le=ce))||le);function we(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Se(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Se(e,t){if(e){if("string"===typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var je,Te,Pe,ke,Oe,Ce,Ae,Me,Re,Le=(de=Object(i["injectable"])(),de((he=function(){function e(){f()(this,e),this.container=void 0,this.controlCorners=void 0,this.controlContainer=void 0,this.scene=void 0,this.mapsService=void 0,this.controls=[],this.unAddControls=[]}return p()(e,[{key:"init",value:function(e,t){this.container=e.container,this.scene=t,this.mapsService=t.get(u["a"].IMapService),this.initControlPos()}},{key:"addControl",value:function(e,t){var n=t.get(u["a"].IMapService);n.map?(e.addTo(this.scene),this.controls.push(e)):this.unAddControls.push(e)}},{key:"getControlByName",value:function(e){return this.controls.find((function(t){return t.controlOption.name===e}))}},{key:"removeControl",value:function(e){var t=this.controls.indexOf(e);return t>-1&&this.controls.splice(t,1),e.remove(),this}},{key:"addControls",value:function(){var e=this;this.unAddControls.forEach((function(t){t.addTo(e.scene),e.controls.push(t)})),this.unAddControls=[]}},{key:"destroy",value:function(){var e,t=we(this.controls);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.remove()}}catch(r){t.e(r)}finally{t.f()}this.controls=[],this.clearControlPos()}},{key:"initControlPos",value:function(){var e=this.controlCorners={},t="l7-",n=this.controlContainer=v["a"].create("div",t+"control-container",this.container);function r(r,o){var i=t+r+" "+t+o;e[r+o]=v["a"].create("div",i,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")}},{key:"clearControlPos",value:function(){for(var e in this.controlCorners)this.controlCorners[e]&&v["a"].remove(this.controlCorners[e]);this.controlContainer&&v["a"].remove(this.controlContainer),delete this.controlCorners,delete this.controlContainer}}]),e}(),fe=he))||fe),Ie=(je=Object(i["injectable"])(),je((Pe=function(){function e(){f()(this,e),this.container=void 0,this.scene=void 0,this.mapsService=void 0,this.markers=[],this.markerLayers=[],this.unAddMarkers=[],this.unAddMarkerLayers=[]}return p()(e,[{key:"addMarkerLayer",value:function(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(e),e.addTo(this.scene)):this.unAddMarkerLayers.push(e)}},{key:"removeMarkerLayer",value:function(e){e.destroy(),this.markerLayers.indexOf(e);var t=this.markerLayers.indexOf(e);t>-1&&this.markerLayers.splice(t,1)}},{key:"addMarker",value:function(e){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(e),e.addTo(this.scene)):this.unAddMarkers.push(e)}},{key:"addMarkers",value:function(){var e=this;this.unAddMarkers.forEach((function(t){t.addTo(e.scene),e.markers.push(t)})),this.unAddMarkers=[]}},{key:"addMarkerLayers",value:function(){var e=this;this.unAddMarkerLayers.forEach((function(t){e.markerLayers.push(t),t.addTo(e.scene)})),this.unAddMarkers=[]}},{key:"removeMarker",value:function(e){e.remove(),this.markers.indexOf(e);var t=this.markers.indexOf(e);t>-1&&this.markers.splice(t,1)}},{key:"removeAllMarkers",value:function(){this.destroy()}},{key:"init",value:function(e){this.scene=e,this.mapsService=e.get(u["a"].IMapService)}},{key:"destroy",value:function(){this.markers.forEach((function(e){e.remove()})),this.markers=[],this.markerLayers.forEach((function(e){e.destroy()})),this.markerLayers=[]}},{key:"removeMakerLayerMarker",value:function(e){e.destroy()}}]),e}(),Te=Pe))||Te),Ne=(ke=Object(i["injectable"])(),ke((Ce=function(){function e(){f()(this,e),this.scene=void 0,this.popup=void 0,this.mapsService=void 0,this.unAddPopup=void 0}return p()(e,[{key:"removePopup",value:function(e){e.remove()}},{key:"destroy",value:function(){this.popup.remove()}},{key:"addPopup",value:function(e){this.popup&&this.popup.remove(),this.mapsService.map&&this.mapsService.getMarkerContainer()?(e.addTo(this.scene),this.popup=e):this.unAddPopup=e}},{key:"initPopup",value:function(){this.unAddPopup&&(this.addPopup(this.unAddPopup),this.unAddPopup=null)}},{key:"init",value:function(e){this.scene=e,this.mapsService=e.get(u["a"].IMapService)}}]),e}(),Oe=Ce))||Oe),De=n("QkVN"),ze=n.n(De),Fe={MapToken:"\u60a8\u6b63\u5728\u4f7f\u7528 Demo\u6d4b\u8bd5\u5730\u56fetoken\uff0c\u5982\u679c\u751f\u4ea7\u73af\u5883\u4e2d\u4f7f\u7528\u53bb\u5bf9\u5e94\u5730\u56fe\u8bf7\u6ce8\u518cToken",SDK:"\u8bf7\u786e\u8ba4\u5f15\u5165\u4e86mapbox-gl api\u4e14\u5728L7\u4e4b\u524d\u5f15\u5165"},Be=Fe;function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ve={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},Ge={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",selectColor:"blue",enableTAA:!1,jitterScale:1,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15}},qe=(Ae=Object(i["injectable"])(),Ae((Re=function(){function e(){f()(this,e),this.sceneConfigCache={},this.layerConfigCache={}}return p()(e,[{key:"getSceneConfig",value:function(e){return this.sceneConfigCache[e]}},{key:"getSceneWarninfo",value:function(e){return Be[e]}},{key:"setSceneConfig",value:function(e,t){this.sceneConfigCache[e]=He(He({},Ve),t)}},{key:"getLayerConfig",value:function(e){return this.layerConfigCache[e]}},{key:"setLayerConfig",value:function(e,t,n){this.layerConfigCache[t]=He({},ze()({},this.sceneConfigCache[e],Ge,n))}},{key:"clean",value:function(){this.sceneConfigCache={},this.layerConfigCache={}}}]),e}(),Me=Re))||Me),Xe=n("yG8O"),Ye=n.n(Xe),We=n("U+yc"),Ze=n.n(We),Ke=(n("1ABj"),Math.PI/180),Qe=512,Je=4003e4;function $e(e){var t=e.latitude,n=void 0===t?0:t,r=e.zoom,o=void 0===r?0:r,i=e.scale,a=e.highPrecision,s=void 0!==a&&a,u=e.flipY,l=void 0!==u&&u;i=void 0!==i?i:Math.pow(2,o);var c={},d=Qe*i,f=Math.cos(n*Ke),h=d/360,p=h/f,v=d/Je/f;if(c.pixelsPerMeter=[v,-v,v],c.metersPerPixel=[1/v,-1/v,1/v],c.pixelsPerDegree=[h,-p,v],c.degreesPerPixel=[1/h,-1/p,1/v],s){var g=Ke*Math.tan(n*Ke)/f,_=h*g/2,m=d/Je*g,y=m/p*v;c.pixelsPerDegree2=[0,-_,m],c.pixelsPerMeter2=[y,0,y],l&&(c.pixelsPerDegree2[1]=-c.pixelsPerDegree2[1],c.pixelsPerMeter2[1]=-c.pixelsPerMeter2[1])}return l&&(c.pixelsPerMeter[1]=-c.pixelsPerMeter[1],c.metersPerPixel[1]=-c.metersPerPixel[1],c.pixelsPerDegree[1]=-c.pixelsPerDegree[1],c.degreesPerPixel[1]=-c.degreesPerPixel[1]),c}var et,tt,nt,rt,ot,it,at,st,ut,lt,ct,dt,ft,ht,pt=n("HthE"),vt=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],gt=(et=Object(i["injectable"])(),tt=Object(i["inject"])(u["a"].ICameraService),et((it=function(){function e(){f()(this,e),this.needRefresh=!0,Ye()(this,"cameraService",ot,this),this.coordinateSystem=void 0,this.viewportCenter=void 0,this.viewportCenterProjection=void 0,this.pixelsPerDegree=void 0,this.pixelsPerDegree2=void 0,this.pixelsPerMeter=void 0}return p()(e,[{key:"refresh",value:function(){var e=this.cameraService.getZoom(),t=this.cameraService.getZoomScale(),n=this.cameraService.getCenter(),r=$e({latitude:n[1],zoom:e}),o=r.pixelsPerMeter,i=r.pixelsPerDegree;this.viewportCenter=n,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=o,this.pixelsPerDegree=i,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===pt["a"].LNGLAT||this.coordinateSystem===pt["a"].P20?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===pt["a"].LNGLAT_OFFSET?this.calculateLnglatOffset(n,e):this.coordinateSystem===pt["a"].P20_OFFSET&&this.calculateLnglatOffset(n,e,t,!0),this.needRefresh=!1}},{key:"getCoordinateSystem",value:function(){return this.coordinateSystem}},{key:"setCoordinateSystem",value:function(e){this.coordinateSystem=e}},{key:"getViewportCenter",value:function(){return this.viewportCenter}},{key:"getViewportCenterProjection",value:function(){return this.viewportCenterProjection}},{key:"getPixelsPerDegree",value:function(){return this.pixelsPerDegree}},{key:"getPixelsPerDegree2",value:function(){return this.pixelsPerDegree2}},{key:"getPixelsPerMeter",value:function(){return this.pixelsPerMeter}},{key:"calculateLnglatOffset",value:function(e,t,n,r){var o=$e({latitude:e[1],zoom:t,scale:n,flipY:r,highPrecision:!0}),i=o.pixelsPerMeter,a=o.pixelsPerDegree,s=o.pixelsPerDegree2,u=this.cameraService.getViewMatrix(),l=this.cameraService.getProjectionMatrix(),c=be["a"].multiply([],l,u),d=this.cameraService.projectFlat([Math.fround(e[0]),Math.fround(e[1])],Math.pow(2,t));this.viewportCenterProjection=be["d"].transformMat4([],[d[0],d[1],0,1],c),u=this.cameraService.getViewMatrixUncentered()||u,c=be["a"].multiply([],l,u),c=be["a"].multiply([],c,vt),this.cameraService.setViewProjectionMatrix(c),this.pixelsPerMeter=i,this.pixelsPerDegree=a,this.pixelsPerDegree2=s}}]),e}(),rt=it,ot=Ze()(rt.prototype,"cameraService",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=rt))||nt),_t=n("PJYZ"),mt=n.n(_t),yt=n("yLV6"),bt=n.n(yt),xt=n("V1cb");function wt(e){var t=St();return function(){var n,r=ie()(e);if(t){var o=ie()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re()(this,n)}}function St(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Et,jt,Tt,Pt,kt,Ot,Ct,At,Mt,Rt,Lt,It,Nt={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancle"},Dt=(at=Object(i["injectable"])(),st=Object(i["inject"])(u["a"].IMapService),ut=Object(i["inject"])(u["a"].ILogService),at((ht=function(e){te()(n,e);var t=wt(n);function n(){var e;f()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Ye()(e,"mapService",dt,mt()(e)),Ye()(e,"logger",ft,mt()(e)),e.hammertime=void 0,e.lastClickTime=0,e.lastClickXY=[-1,-1],e.clickTimer=void 0,e.onDrag=function(t){var n=e.interactionEvent(t);n.type=Nt[n.type],e.emit(xt["a"].Drag,n)},e.onHammer=function(t){t.srcEvent.stopPropagation();var n=e.interactionEvent(t);e.emit(xt["a"].Hover,n)},e.onTouch=function(t){var n=t.touches[0];e.onHover({x:n.pageX,y:n.pageY,type:"touch"})},e.onHover=function(t){var n=t.x,r=t.y,o=t.type,i=e.mapService.getMapContainer();if(i){var a=i.getBoundingClientRect(),s=a.top,u=a.left;n-=u,r-=s}var l=e.mapService.containerToLngLat([n,r]);if("click"!==o)"touch"!==o?"click"!==o&&"dblclick"!==o&&e.emit(xt["a"].Hover,{x:n,y:r,lngLat:l,type:o}):e.isDoubleTap(n,r,l);else{if("ontouchstart"in document.documentElement===!0)return;e.isDoubleTap(n,r,l)}},e}return p()(n,[{key:"init",value:function(){this.addEventListenerOnMap()}},{key:"destroy",value:function(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(xt["a"].Hover)}},{key:"triggerHover",value:function(e){var t=e.x,n=e.y;this.emit(xt["a"].Hover,{x:t,y:n})}},{key:"triggerSelect",value:function(e){this.emit(xt["a"].Select,{featureId:e})}},{key:"triggerActive",value:function(e){this.emit(xt["a"].Active,{featureId:e})}},{key:"addEventListenerOnMap",value:function(){var e=this.mapService.getMapContainer();if(e){var t=new bt.a.Manager(e);t.add(new bt.a.Tap({event:"dblclick",taps:2})),t.add(new bt.a.Tap({event:"click"})),t.add(new bt.a.Pan({threshold:0,pointers:0})),t.add(new bt.a.Press({})),t.on("dblclick click",this.onHammer),t.on("panstart panmove panend pancancel",this.onDrag),e.addEventListener("mousemove",this.onHover),e.addEventListener("mousedown",this.onHover),e.addEventListener("mouseup",this.onHover),e.addEventListener("contextmenu",this.onHover),this.hammertime=t,this.logger.debug("add event listeners on canvas")}}},{key:"removeEventListenerOnMap",value:function(){var e=this.mapService.getMapContainer();e&&(e.removeEventListener("mousemove",this.onHover),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),e.removeEventListener("mousedown",this.onHover),e.removeEventListener("mouseup",this.onHover),e.removeEventListener("contextmenu",this.onHover))}},{key:"interactionEvent",value:function(e){var t,n,r=e.type,o=e.pointerType;"touch"===o?(n=Math.floor(e.pointers[0].clientY),t=Math.floor(e.pointers[0].clientX)):(n=Math.floor(e.srcEvent.y),t=Math.floor(e.srcEvent.x));var i=this.mapService.getMapContainer();if(i){var a=i.getBoundingClientRect(),s=a.top,u=a.left;t-=u,n-=s}var l=this.mapService.containerToLngLat([t,n]);return{x:t,y:n,lngLat:l,type:r}}},{key:"isDoubleTap",value:function(e,t,n){var r=this,o=(new Date).getTime(),i="click";o-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-e)<10&&Math.abs(this.lastClickXY[1]-t)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),i="dblclick",this.emit(xt["a"].Hover,{x:e,y:t,lngLat:n,type:i})):(this.lastClickTime=o,this.lastClickXY=[e,t],this.clickTimer=setTimeout((function(){i="click",r.emit(xt["a"].Hover,{x:e,y:t,lngLat:n,type:i})}),400))}}]),n}(o.a),ct=ht,dt=Ze()(ct.prototype,"mapService",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ft=Ze()(ct.prototype,"logger",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lt=ct))||lt),zt=n("o0o1"),Ft=n.n(zt),Bt=n("yXPU"),Ut=n.n(Bt),Ht=n("o+pz");function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qt,Xt,Yt,Wt,Zt,Kt,Qt,Jt,$t,en,tn,nn,rn,on,an,sn=(Et=Object(i["injectable"])(),jt=Object(i["inject"])(u["a"].IRendererService),Tt=Object(i["inject"])(u["a"].IGlobalConfigService),Pt=Object(i["inject"])(u["a"].IInteractionService),kt=Object(i["inject"])(u["a"].ILayerService),Et((It=function(){function e(){var t=this;f()(this,e),Ye()(this,"rendererService",At,this),Ye()(this,"configService",Mt,this),Ye()(this,"interactionService",Rt,this),Ye()(this,"layerService",Lt,this),this.pickingFBO=void 0,this.width=0,this.height=0,this.alreadyInPicking=!1,this.pickBufferScale=1,this.pickFromPickingFBO=function(e,n){var r,o,i=n.x,a=n.y,s=n.lngLat,u=n.type,l=!1,c=t.rendererService,d=c.getViewportSize,f=c.readPixels,h=d(),p=h.width,g=h.height,_=e.getLayerConfig(),m=_.enableHighlight,y=_.enableSelect,b=i*window.devicePixelRatio,x=a*window.devicePixelRatio;if(b>p-1*window.devicePixelRatio||b<0||x>g-1*window.devicePixelRatio||x<0)return!1;if(o=f({x:Math.floor(b/t.pickBufferScale),y:Math.floor((g-(a+1)*window.devicePixelRatio)/t.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:t.pickingFBO}),0!==o[0]||0!==o[1]||0!==o[2]){var w=Object(v["j"])(o),S=e.getSource().getFeatureById(w);w!==e.getCurrentPickId()&&"mousemove"===u&&(u="mouseenter");var E={x:i,y:a,type:u,lngLat:s,featureId:w,feature:S};S&&(l=!0,e.setCurrentPickId(w),t.triggerHoverOnLayer(e,E))}else{var j={x:i,y:a,lngLat:s,type:null!==e.getCurrentPickId()&&"mousemove"===u?"mouseout":"un"+u,featureId:null,feature:null};t.triggerHoverOnLayer(e,Gt(Gt({},j),{},{type:"unpick"})),t.triggerHoverOnLayer(e,j),e.setCurrentPickId(null)}if(m&&t.highlightPickedFeature(e,o),y&&"click"===u&&(null===(r=o)||void 0===r?void 0:r.toString())!==[0,0,0,0].toString()){var T=Object(v["j"])(o);null===e.getCurrentSelectedId()||T!==e.getCurrentSelectedId()?(t.selectFeature(e,o),e.setCurrentSelectedId(T)):(t.selectFeature(e,new Uint8Array([0,0,0,0])),e.setCurrentSelectedId(null))}return l}}return p()(e,[{key:"init",value:function(e){var t=this.rendererService,n=t.createTexture2D,r=t.createFramebuffer,o=t.getViewportSize,i=o(),a=i.width,s=i.height;this.pickBufferScale=this.configService.getSceneConfig(e).pickBufferScale||1,this.pickingFBO=r({color:n({width:Math.round(a/this.pickBufferScale),height:Math.round(s/this.pickBufferScale),wrapS:Ht["a"].CLAMP_TO_EDGE,wrapT:Ht["a"].CLAMP_TO_EDGE})}),this.interactionService.on(xt["a"].Hover,this.pickingAllLayer.bind(this))}},{key:"pickingAllLayer",value:function(){var e=Ut()(Ft.a.mark((function e(t){return Ft.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.alreadyInPicking&&!this.layerService.alreadyInRendering){e.next=2;break}return e.abrupt("return");case 2:return this.alreadyInPicking=!0,e.next=5,this.pickingLayers(t);case 5:this.layerService.renderLayers(),this.alreadyInPicking=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"pickingLayers",value:function(){var e=Ut()(Ft.a.mark((function e(t){var n,r,o,i,a,s,u,l=this;return Ft.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=this.rendererService,r=n.getViewportSize,o=n.useFramebuffer,i=n.clear,a=r(),s=a.width,u=a.height,this.width===s&&this.height===u||(this.pickingFBO.resize({width:Math.round(s/this.pickBufferScale),height:Math.round(u/this.pickBufferScale)}),this.width=s,this.height=u),o(this.pickingFBO,(function(){var e=l.layerService.getLayers();e.filter((function(e){return e.needPick(t.type)})).reverse().some((function(e){i({framebuffer:l.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),e.hooks.beforePickingEncode.call(),e.renderModels(),e.hooks.afterPickingEncode.call();var n=l.pickFromPickingFBO(e,t);return n&&!e.getLayerConfig().enablePropagation}))}));case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"triggerHoverOnLayer",value:function(e,t){e.emit(t.type,t)}},{key:"highlightPickedFeature",value:function(e,t){var n=ye()(t,3),r=n[0],o=n[1],i=n[2];e.hooks.beforeHighlight.call([r,o,i])}},{key:"selectFeature",value:function(e,t){var n=ye()(t,3),r=n[0],o=n[1],i=n[2];e.hooks.beforeSelect.call([r,o,i])}}]),e}(),Ct=It,At=Ze()(Ct.prototype,"rendererService",[jt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mt=Ze()(Ct.prototype,"configService",[Tt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rt=Ze()(Ct.prototype,"interactionService",[Pt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lt=Ze()(Ct.prototype,"layerService",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ot=Ct))||Ot),un=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];f()(this,e),this.autoStart=void 0,this.startTime=0,this.oldTime=0,this.running=!1,this.elapsedTime=0,this.autoStart=t}return p()(e,[{key:"start",value:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}(),ln=(qt=Object(i["injectable"])(),Xt=Object(i["inject"])(u["a"].IRendererService),Yt=Object(i["inject"])(u["a"].IGlobalConfigService),qt((Jt=function(){function e(){f()(this,e),this.clock=new un,this.alreadyInRendering=!1,this.layers=[],this.layerRenderID=void 0,this.sceneInited=!1,this.animateInstanceCount=0,Ye()(this,"renderService",Kt,this),Ye()(this,"configService",Qt,this)}return p()(e,[{key:"add",value:function(e){this.sceneInited&&e.init(),this.layers.push(e)}},{key:"initLayers",value:function(){this.sceneInited=!0,this.layers.forEach((function(e){e.inited||e.init()}))}},{key:"getLayers",value:function(){return this.layers}},{key:"getLayer",value:function(e){return this.layers.find((function(t){return t.id===e}))}},{key:"getLayerByName",value:function(e){return this.layers.find((function(t){return t.name===e}))}},{key:"remove",value:function(e){var t=this.layers.indexOf(e);t>-1&&this.layers.splice(t,1),e.emit("remove",null),e.destroy(),this.renderLayers()}},{key:"removeAllLayers",value:function(){this.destroy()}},{key:"renderLayers",value:function(){this.alreadyInRendering||(this.alreadyInRendering=!0,this.clear(),this.updateRenderOrder(),this.layers.filter((function(e){return e.inited})).filter((function(e){return e.isVisible()})).forEach((function(e){e.hooks.beforeRenderData.call(),e.hooks.beforeRender.call(),e.render(),e.hooks.afterRender.call()})),this.alreadyInRendering=!1)}},{key:"updateRenderOrder",value:function(){this.layers.sort((function(e,t){return e.zIndex-t.zIndex}))}},{key:"destroy",value:function(){this.layers.forEach((function(e){return e.destroy()})),this.layers=[],this.renderLayers()}},{key:"startAnimate",value:function(){0===this.animateInstanceCount++&&(this.clock.start(),this.runRender())}},{key:"stopAnimate",value:function(){0===--this.animateInstanceCount&&(this.stopRender(),this.clock.stop())}},{key:"clear",value:function(){this.renderService.clear({color:[0,0,0,0],depth:1,stencil:0,framebuffer:null})}},{key:"runRender",value:function(){this.renderLayers(),this.layerRenderID=requestAnimationFrame(this.runRender.bind(this))}},{key:"stopRender",value:function(){cancelAnimationFrame(this.layerRenderID)}}]),e}(),Zt=Jt,Kt=Ze()(Zt.prototype,"renderService",[Xt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qt=Ze()(Zt.prototype,"configService",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wt=Zt))||Wt),cn=n("QILm"),dn=n.n(cn),fn=n("RIqP"),hn=n.n(fn),pn=n("J2iB"),vn=n.n(pn),gn=function(){function e(t){var n=this;f()(this,e),this.name=void 0,this.type=void 0,this.scale=void 0,this.descriptor=void 0,this.featureBufferLayout=[],this.needRescale=!1,this.needRemapping=!1,this.needRegenerateVertices=!1,this.featureRange={startIndex:0,endIndex:1/0},this.vertexAttribute=void 0,this.defaultCallback=function(e){var t;return 0===e.length?(null===(t=n.scale)||void 0===t?void 0:t.defaultValues)||[]:e.map((function(e,t){var r,o=(null===(r=n.scale)||void 0===r?void 0:r.scalers)[t].func,i=o(e);return i}))},this.setProps(t)}return p()(e,[{key:"setProps",value:function(e){Object.assign(this,e)}},{key:"mapping",value:function(e){var t;if(null===(t=this.scale)||void 0===t?void 0:t.callback){var n,r=null===(n=this.scale)||void 0===n?void 0:n.callback.apply(n,hn()(e));if(!vn()(r))return[r]}return this.defaultCallback(e)}},{key:"resetDescriptor",value:function(){this.descriptor&&(this.descriptor.buffer.data=[])}}]),e}();function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yn,bn,xn=($t={},c()($t,Ht["a"].FLOAT,4),c()($t,Ht["a"].UNSIGNED_BYTE,1),c()($t,Ht["a"].UNSIGNED_SHORT,2),$t),wn=(en=Object(i["injectable"])(),tn=Object(i["inject"])(u["a"].IRendererService),en((an=function(){function e(){f()(this,e),this.attributesAndIndices=void 0,Ye()(this,"rendererService",on,this),this.attributes=[],this.triangulation=void 0,this.featureLayout={sizePerElement:0,elements:[]}}return p()(e,[{key:"registerStyleAttribute",value:function(e){var t=this.getLayerStyleAttribute(e.name||"");return t?t.setProps(e):(t=new gn(e),this.attributes.push(t)),t}},{key:"updateStyleAttribute",value:function(e,t,n){var r=this.getLayerStyleAttribute(e);r||(r=this.registerStyleAttribute(mn(mn({},t),{},{name:e})));var o=t.scale;o&&r&&(r.scale=o,r.needRescale=!0,r.needRemapping=!0,r.needRegenerateVertices=!0,n&&n.featureRange&&(r.featureRange=n.featureRange))}},{key:"getLayerStyleAttributes",value:function(){return this.attributes}},{key:"getLayerStyleAttribute",value:function(e){return this.attributes.find((function(t){return t.name===e}))}},{key:"getLayerAttributeScale",value:function(e){var t,n=this.getLayerStyleAttribute(e),r=null===n||void 0===n||null===(t=n.scale)||void 0===t?void 0:t.scalers;return r&&r[0]?r[0].func:null}},{key:"updateAttributeByFeatureRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=this.attributes.find((function(t){return t.name===e}));if(o&&o.descriptor){var i=o.descriptor,a=i.update,s=i.buffer,u=i.size,l=void 0===u?0:u,c=xn[s.type||Ht["a"].FLOAT];if(a){var d=this.featureLayout,f=d.elements,h=d.sizePerElement,p=f.slice(n,r);if(!p.length)return;var v=p[0].offset,g=v*l*c,_=p.map((function(e,n){for(var r=e.featureIdx,o=e.vertices,i=e.normals,s=o.length/h,u=[],l=0;l<s;l++){var c=i?i.slice(3*l,3*l+3):[];u.push.apply(u,hn()(a(t[r],r,o.slice(l*h,l*h+h),n,c)))}return u})).reduce((function(e,t){return e.push.apply(e,hn()(t)),e}),[]);o.vertexAttribute.updateBuffer({data:_,offset:g})}}}},{key:"createAttributesAndIndices",value:function(e,t){var n=this;this.featureLayout={sizePerElement:0,elements:[]},t&&(this.triangulation=t);var r=this.attributes.map((function(e){return e.resetDescriptor(),e.descriptor})),o=0,i=[],a=[],s=[];e.forEach((function(e,t){var u=n.triangulation(e),l=u.indices,c=u.vertices,d=u.normals,f=u.size;l.forEach((function(e){a.push(e+o)})),c.forEach((function(e){i.push(e)})),d&&d.forEach((function(e){s.push(e)})),f;var h=c.length/f;o+=h;for(var p=function(n){r.forEach((function(r,o){if(r&&r.update){var i,a=(null===d||void 0===d?void 0:d.slice(3*n,3*n+3))||[];(i=r.buffer.data).push.apply(i,hn()(r.update(e,t,c.slice(n*f,n*f+f),n,a)))}}))},v=0;v<h;v++)p(v)}));var u=this.rendererService,l=u.createAttribute,c=u.createBuffer,d=u.createElements,f={};r.forEach((function(e,t){if(e){var r=e.buffer,o=(e.update,e.name,dn()(e,["buffer","update","name"])),i=l(mn({buffer:c(r)},o));f[e.name||""]=i,n.attributes[t].vertexAttribute=i}}));var h=d({data:a,type:Ht["a"].UNSIGNED_INT,count:a.length});return this.attributesAndIndices={attributes:f,elements:h},this.attributesAndIndices}},{key:"clearAllAttributes",value:function(){this.attributes.forEach((function(e){e.vertexAttribute&&e.vertexAttribute.destroy()})),this.attributes=[]}}]),e}(),rn=an,on=Ze()(rn.prototype,"rendererService",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nn=rn))||nn),Sn=n("d3wX"),En=new Sn["a"]({id:"L7"}).enable(!1);En.priority=5;var jn,Tn,Pn,kn,On,Cn,An,Mn,Rn,Ln,In,Nn,Dn,zn,Fn,Bn,Un,Hn,Vn,Gn,qn,Xn,Yn,Wn,Zn,Kn,Qn,Jn,$n,er,tr,nr,rr,or,ir,ar,sr=(yn=Object(i["injectable"])(),yn(bn=function(){function e(){f()(this,e)}return p()(e,[{key:"error",value:function(e){En.error(e)()}},{key:"warn",value:function(e){En.probe(1,e)()}},{key:"info",value:function(e){En.info(3,e)()}},{key:"debug",value:function(e){En.probe(4,e)()}}]),e}())||bn),ur=n("xp6e"),lr=n("iegG"),cr=n.n(lr),dr=(window.document.documentElement.style,0);function fr(e){var t=e;if("string"===typeof e&&(t=document.getElementById(e)),t){var n=document.createElement("div");return n.style.cssText+="\n      position: absolute;\n      z-index:2;\n      height: 100%;\n      width: 100%;\n      pointer-events: none;\n    ",n.id="l7-scene-".concat(dr++),n.classList.add("l7-scene"),t.appendChild(n),n}return null}function hr(e){var t=pr();return function(){var n,r=ie()(e);if(t){var o=ie()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re()(this,n)}}function pr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var vr=(jn=Object(i["injectable"])(),Tn=Object(i["inject"])(u["a"].SceneID),Pn=Object(i["inject"])(u["a"].IIconService),kn=Object(i["inject"])(u["a"].IFontService),On=Object(i["inject"])(u["a"].IControlService),Cn=Object(i["inject"])(u["a"].ILogService),An=Object(i["inject"])(u["a"].IGlobalConfigService),Mn=Object(i["inject"])(u["a"].IMapService),Rn=Object(i["inject"])(u["a"].ICoordinateSystemService),Ln=Object(i["inject"])(u["a"].IRendererService),In=Object(i["inject"])(u["a"].ILayerService),Nn=Object(i["inject"])(u["a"].ICameraService),Dn=Object(i["inject"])(u["a"].IInteractionService),zn=Object(i["inject"])(u["a"].IPickingService),Fn=Object(i["inject"])(u["a"].IShaderModuleService),Bn=Object(i["inject"])(u["a"].IMarkerService),Un=Object(i["inject"])(u["a"].IPopupService),jn((ar=function(e){te()(n,e);var t=hr(n);function n(){var e;return f()(this,n),e=t.call(this),e.destroyed=!1,e.loaded=!1,Ye()(e,"id",Gn,mt()(e)),Ye()(e,"iconService",qn,mt()(e)),Ye()(e,"fontService",Xn,mt()(e)),Ye()(e,"controlService",Yn,mt()(e)),Ye()(e,"logger",Wn,mt()(e)),Ye()(e,"configService",Zn,mt()(e)),Ye()(e,"map",Kn,mt()(e)),Ye()(e,"coordinateSystemService",Qn,mt()(e)),Ye()(e,"rendererService",Jn,mt()(e)),Ye()(e,"layerService",$n,mt()(e)),Ye()(e,"cameraService",er,mt()(e)),Ye()(e,"interactionService",tr,mt()(e)),Ye()(e,"pickingService",nr,mt()(e)),Ye()(e,"shaderModuleService",rr,mt()(e)),Ye()(e,"markerService",or,mt()(e)),Ye()(e,"popupService",ir,mt()(e)),e.inited=!1,e.initPromise=void 0,e.rendering=!1,e.$container=void 0,e.hooks=void 0,e.handleWindowResized=function(){if(e.emit("resize"),e.$container){var t,n=window.devicePixelRatio,r=window.innerWidth,o=window.innerHeight;if(e.$container!==document.body){var i=e.$container.getBoundingClientRect();r=i.right-i.left,o=i.bottom-i.top}var a=null===(t=e.$container)||void 0===t?void 0:t.getElementsByTagName("canvas")[0];e.rendererService.viewport({x:0,y:0,width:n*r,height:n*o}),v["a"].triggerResize(),e.coordinateSystemService.needRefresh=!0,a&&(a.width=r*n,a.height=o*n),e.render()}},e.handleMapCameraChanged=function(t){e.cameraService.update(t),e.render()},e.hooks={init:new ur["a"]},e}return p()(n,[{key:"init",value:function(e){var t=this;this.configService.setSceneConfig(this.id,e),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.fontService.init(),this.hooks.init.tapPromise("initMap",Ut()(Ft.a.mark((function e(){return Ft.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){t.map.onCameraChanged((function(n){t.cameraService.init(),t.cameraService.update(n),e()})),t.map.init()}));case 2:t.map.onCameraChanged(t.handleMapCameraChanged),t.map.addMarkerContainer(),t.markerService.addMarkers(),t.markerService.addMarkerLayers(),t.popupService.initPopup(),t.interactionService.init(),t.interactionService.on(xt["a"].Drag,t.addSceneEvent.bind(t)),t.logger.debug("map ".concat(t.id," loaded"));case 10:case"end":return e.stop()}}),e)})))),this.hooks.init.tapPromise("initRenderer",Ut()(Ft.a.mark((function e(){var n;return Ft.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=fr(t.configService.getSceneConfig(t.id).id||""),t.$container=n,!n){e.next=9;break}return e.next=5,t.rendererService.init(n,t.configService.getSceneConfig(t.id));case 5:cr()(t.$container,t.handleWindowResized),window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)").addListener(t.handleWindowResized),e.next=10;break;case 9:t.logger.error("\u5bb9\u5668 id \u4e0d\u5b58\u5728");case 10:t.pickingService.init(t.id),t.logger.debug("scene ".concat(t.id," renderer loaded"));case 12:case"end":return e.stop()}}),e)})))),this.initPromise=this.hooks.init.promise(),this.render()}},{key:"addLayer",value:function(e){this.logger.debug("add layer ".concat(e.name," to scene ").concat(this.id)),this.layerService.add(e),this.render()}},{key:"render",value:function(){var e=Ut()(Ft.a.mark((function e(){return Ft.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.rendering&&!this.destroyed){e.next=2;break}return e.abrupt("return");case 2:if(this.rendering=!0,this.inited){e.next=13;break}return e.next=6,this.initPromise;case 6:this.destroyed&&this.destroy(),this.logger.info(" render inited"),this.layerService.initLayers(),this.controlService.addControls(),this.loaded=!0,this.emit("loaded"),this.inited=!0;case 13:this.layerService.renderLayers(),this.logger.debug("scene ".concat(this.id," render")),this.rendering=!1;case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSceneContainer",value:function(){return this.$container}},{key:"exportPng",value:function(e){var t,n=null===(t=this.$container)||void 0===t?void 0:t.getElementsByTagName("canvas")[0];this.render();var r="jpg"===e?null===n||void 0===n?void 0:n.toDataURL("image/jpeg"):null===n||void 0===n?void 0:n.toDataURL("image/png");return r}},{key:"getSceneConfig",value:function(){return this.configService.getSceneConfig(this.id)}},{key:"destroy",value:function(){this.inited?(this.emit("destroy"),this.layerService.destroy(),this.rendererService.destroy(),this.map.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),this.removeAllListeners(),this.inited=!1,Object(lr["unbind"])(this.$container,this.handleWindowResized),window.matchMedia("screen and (min-resolution: 2dppx)").removeListener(this.handleWindowResized)):this.destroyed=!0}},{key:"addSceneEvent",value:function(e){this.emit(e.type,e)}}]),n}(r["EventEmitter"]),Vn=ar,Gn=Ze()(Vn.prototype,"id",[Tn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qn=Ze()(Vn.prototype,"iconService",[Pn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xn=Ze()(Vn.prototype,"fontService",[kn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yn=Ze()(Vn.prototype,"controlService",[On],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wn=Ze()(Vn.prototype,"logger",[Cn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zn=Ze()(Vn.prototype,"configService",[An],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kn=Ze()(Vn.prototype,"map",[Mn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qn=Ze()(Vn.prototype,"coordinateSystemService",[Rn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jn=Ze()(Vn.prototype,"rendererService",[Ln],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$n=Ze()(Vn.prototype,"layerService",[In],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),er=Ze()(Vn.prototype,"cameraService",[Nn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tr=Ze()(Vn.prototype,"interactionService",[Dn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nr=Ze()(Vn.prototype,"pickingService",[zn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rr=Ze()(Vn.prototype,"shaderModuleService",[Fn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),or=Ze()(Vn.prototype,"markerService",[Bn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ir=Ze()(Vn.prototype,"popupService",[Un],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hn=Vn))||Hn),gr=n("7tbW"),_r=n.n(gr);function mr(e){var t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16;break;default:}return t}var yr,br,xr,wr=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function Sr(e){var t={};return e=e.replace(wr,(function(e,n,r){var o=r.split(":"),i=o[0].trim(),a="";switch(o.length>1&&(a=o[1].trim()),n){case"bool":a="true"===a;break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a=a?a.replace("[","").replace("]","").split(",").reduce((function(e,t){return e.push(Number(t.trim())),e}),[]):new Array(mr(n)).fill(0);break;default:}return t[i]=a,"uniform ".concat(n," ").concat(i,";\n")})),{content:e,uniforms:t}}function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tr,Pr,kr,Or,Cr,Ar,Mr,Rr,Lr="#define PI 3.14159265359",Ir="#define SHIFT_RIGHT17 1.0 / 131072.0\n#define SHIFT_RIGHT18 1.0 / 262144.0\n#define SHIFT_RIGHT19 1.0 / 524288.0\n#define SHIFT_RIGHT20 1.0 / 1048576.0\n#define SHIFT_RIGHT21 1.0 / 2097152.0\n#define SHIFT_RIGHT22 1.0 / 4194304.0\n#define SHIFT_RIGHT23 1.0 / 8388608.0\n#define SHIFT_RIGHT24 1.0 / 16777216.0\n\n#define SHIFT_LEFT17 131072.0\n#define SHIFT_LEFT18 262144.0\n#define SHIFT_LEFT19 524288.0\n#define SHIFT_LEFT20 1048576.0\n#define SHIFT_LEFT21 2097152.0\n#define SHIFT_LEFT22 4194304.0\n#define SHIFT_LEFT23 8388608.0\n#define SHIFT_LEFT24 16777216.0\n\nvec2 unpack_float(float packedValue) {\n  int packedIntValue = int(packedValue);\n  int v0 = packedIntValue / 256;\n  return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec4 decode_color(vec2 encodedColor) {\n  return vec4(\n    unpack_float(encodedColor[0]) / 255.0,\n    unpack_float(encodedColor[1]) / 255.0\n  );\n}\n",Nr="#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\n\nfloat calc_lighting(vec4 pos) {\n\n    vec3 worldPos = vec3(pos * u_ModelMatrix);\n\n    vec3 worldNormal = a_Normal;\n      // //cal light weight\n    vec3 viewDir = normalize(u_CameraPosition - worldPos);\n\n    vec3 lightDir = normalize(vec3(1, -10.5, 12));\n\n    vec3 halfDir = normalize(viewDir+lightDir);\n      // //lambert\n    float lambert = dot(worldNormal, lightDir);\n        //specular\n    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);\n        //sum to light weight\n    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;\n\n    return lightWeight;\n}\n",Dr="// Blinn-Phong model\n// apply lighting in vertex shader instead of fragment shader\n// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting\nuniform float u_Ambient : 1.0;\nuniform float u_Diffuse : 1.0;\nuniform float u_Specular : 1.0;\nuniform int u_NumOfDirectionalLights : 1;\nuniform int u_NumOfSpotLights : 0;\n\n#define SHININESS 32.0\n#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3\n#define MAX_NUM_OF_SPOT_LIGHTS 3\n\nstruct DirectionalLight {\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n};\n\nstruct SpotLight {\n  vec3 position;\n  vec3 direction;\n  vec3 ambient;\n  vec3 diffuse;\n  vec3 specular;\n  float constant;\n  float linear;\n  float quadratic;\n  float angle;\n  float blur;\n  float exponent;\n};\n\nuniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];\nuniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];\n\nvec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {\n  vec3 lightDir = normalize(light.direction);\n  // diffuse shading\n  float diff = max(dot(normal, lightDir), 0.0);\n  // Blinn-Phong specular shading\n  vec3 halfwayDir = normalize(lightDir + viewDir);\n  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);\n\n  vec3 ambient = light.ambient * u_Ambient;\n  vec3 diffuse = light.diffuse * diff * u_Diffuse;\n  vec3 specular = light.specular * spec * u_Specular;\n\n  return ambient + diffuse + specular;\n}\n\n// vec3 calc_spot_light(SpotLight light, vec3 normal, vec3 fragPos, vec3 viewDir) {\n//   vec3 lightDir = normalize(light.position - fragPos);\n//   // diffuse shading\n//   float diff = max(dot(normal, lightDir), 0.0);\n//   // specular shading\n//   vec3 reflectDir = reflect(-lightDir, normal);\n//   float spec = pow(max(dot(viewDir, reflectDir), 0.0), SHININESS);\n//   // attenuation\n//   float distance = length(light.position - fragPos);\n//   float attenuation = 1.0 / (light.constant + light.linear * distance +\n//           light.quadratic * (distance * distance));\n\n//   vec3 ambient = light.ambient * u_Ambient;\n//   vec3 diffuse = light.diffuse * diff * u_Diffuse;\n//   vec3 specular = light.specular * spec * u_Specular;\n\n//   float spotEffect = dot(normalize(light.direction), -lightDir);\n//   float spotCosCutoff = cos(light.angle / 180.0 * PI);\n//   float spotCosOuterCutoff = cos((light.angle + light.blur) / 180.0 * PI);\n//   float spotCosInnerCutoff = cos((light.angle - light.blur) / 180.0 * PI);\n//   if (spotEffect > spotCosCutoff) {\n//     spotEffect = pow(smoothstep(spotCosOuterCutoff, spotCosInnerCutoff, spotEffect), light.exponent);\n//   } else {\n//     spotEffect = 0.0;\n//   }\n\n//   return ambient + attenuation * (spotEffect * diffuse + specular);\n// }\n\nvec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {\n  vec3 weight = vec3(0.0);\n  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {\n    if (i >= u_NumOfDirectionalLights) {\n      break;\n    }\n    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);\n  }\n  // for (int i = 0; i < MAX_NUM_OF_SPOT_LIGHTS; i++) {\n  //   if (i >= u_NumOfSpotLights) {\n  //     break;\n  //   }\n  //   weight += calc_spot_light(u_SpotLights[i], normal, position, viewDir);\n  // }\n  return weight;\n}\n",zr="varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color) {\n  bool selected = bool(v_PickingResult.a);\n\n  if (selected) {\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(resultRGB, color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  return filterPickingColor(filterHighlightColor(color));\n}\n",Fr="attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\n\n#define PICKING_NONE 0.0\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  // compares only in highlight stage\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}\n",Br="\n#define E 2.718281828459045\nvec2 ProjectFlat(vec2 lnglat){\n  float maxs=85.0511287798;\n  float lat=max(min(maxs,lnglat.y),-maxs);\n  float scale= 268435456.;\n  float d=PI/180.;\n  float x=lnglat.x*d;\n  float y=lat*d;\n  y=log(tan((PI/4.)+(y/2.)));\n\n  float a=.5/PI,\n  b=.5,\n  c=-.5/PI;\n  d=.5;\n  x=scale*(a*x+b);\n  y=scale*(c*y+d);\n  return vec2(x,y);\n}\n\nvec2 unProjectFlat(vec2 px){\n  float a=.5/PI;\n  float b=.5;\n  float c=-.5/PI;\n  float d=.5;\n  float scale = 268435456.;\n  float x=(px.x/scale-b)/a;\n  float y=(px.y/scale-d)/c;\n  y=(atan(pow(E,y))-(PI/4.))*2.;\n  d=PI/180.;\n  float lat=y/d;\n  float lng=x/d;\n  return vec2(lng,lat);\n}\n\nfloat pixelDistance(vec2 from, vec2 to) {\n vec2 a1 = ProjectFlat(from);\n vec2 b1 = ProjectFlat(to);\n return distance(a1, b1);\n}\n",Ur="#define TILE_SIZE 512.0\n#define PI 3.1415926536\n#define WORLD_SCALE TILE_SIZE / (PI * 2.0)\n\n#define COORDINATE_SYSTEM_LNGLAT 1.0\n#define COORDINATE_SYSTEM_LNGLAT_OFFSET 2.0\n#define COORDINATE_SYSTEM_VECTOR_TILE 3.0\n#define COORDINATE_SYSTEM_IDENTITY 4.0\n#define COORDINATE_SYSTEM_P20 5.0\n#define COORDINATE_SYSTEM_P20_OFFSET 6.0\n#define COORDINATE_SYSTEM_METER_OFFSET 7.0\n\nuniform mat4 u_ViewMatrix;\nuniform mat4 u_ProjectionMatrix;\nuniform mat4 u_ViewProjectionMatrix;\nuniform float u_Zoom : 1;\nuniform float u_ZoomScale : 1;\n\nuniform float u_CoordinateSystem;\nuniform vec2 u_ViewportCenter;\nuniform vec4 u_ViewportCenterProjection;\nuniform vec3 u_PixelsPerDegree;\nuniform vec3 u_PixelsPerDegree2;\nuniform vec3 u_PixelsPerMeter;\n\nuniform vec2 u_ViewportSize;\nuniform float u_DevicePixelRatio;\nuniform float u_FocalDistance;\nuniform vec3 u_CameraPosition;\n\n// web mercator coords -> world coords\nvec2 project_mercator(vec2 lnglat) {\n  float x = lnglat.x;\n  return vec2(\n    radians(x) + PI,\n    PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5))\n  );\n}\n\nfloat project_scale(float meters) {\n  return meters * u_PixelsPerMeter.z;\n}\n\n\n// offset coords -> world coords\nvec4 project_offset(vec4 offset) {\n  float dy = offset.y;\n  dy = clamp(dy, -1., 1.);\n  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;\n  return vec4(offset.xyz * pixels_per_unit, offset.w);\n}\n\nvec3 project_normal(vec3 normal) {\n  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);\n  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);\n}\n\nvec3 project_offset_normal(vec3 vector) {\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01\n    || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * u_PixelsPerDegree);\n  }\n  return project_normal(vector);\n}\n// || u_CoordinateSystem < COORDINATE_SYSTEM_P20_OFFSET + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_P20_OFFSET - 0.01\n// reverse Y\nvec3 reverse_offset_normal(vec3 vector) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 ||u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET ) {\n    return vector * vec3(1.0, -1.0, 1.0);\n  }\n  return vector;\n}\n\nvec4 project_position(vec4 position) {\n  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;\n  float b = COORDINATE_SYSTEM_P20_OFFSET;\n  float c = COORDINATE_SYSTEM_LNGLAT;\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET\n    || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    float X = position.x - u_ViewportCenter.x;\n    float Y = position.y - u_ViewportCenter.y;\n    return project_offset(vec4(X, Y, position.z, position.w));\n  }\n  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {\n    return vec4(\n      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,\n      project_scale(position.z),\n      position.w\n    );\n  }\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {\n    return vec4(\n      (project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale - vec2(215440491., 106744817.)) * vec2(1., -1.),\n      project_scale(position.z),\n      position.w\n    );\n  }\n  return position;\n\n  // TODO: \u74e6\u7247\u5750\u6807\u7cfb & \u5e38\u89c4\u4e16\u754c\u5750\u6807\u7cfb\n}\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;\n  return offset * u_FocalDistance;\n}\n\nfloat project_pixel(float pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  return pixel;\n}\nvec2 project_pixel(vec2 pixel) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {\n    // P20 \u5750\u6807\u7cfb\u4e0b\uff0c\u4e3a\u4e86\u548c Web \u58a8\u5361\u6258\u5750\u6807\u7cfb\u7edf\u4e00\uff0czoom \u9ed8\u8ba4\u51cf1\n    return pixel * pow(2.0, (19.0 - u_Zoom));\n  }\n  return pixel * -1.;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n    position.w *= u_PixelsPerMeter.z;\n  }\n  return viewProjectionMatrix * position + center;\n}\n\n// Projects from common space coordinates to clip space\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(\n    position,\n    u_ViewProjectionMatrix,\n    u_ViewportCenterProjection\n  );\n}\n\nvec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {\n  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);\n\n  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||\n    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {\n    // Needs to be divided with project_uCommonUnitsPerMeter\n     pos.w = pos.w / u_PixelsPerMeter.z;\n  }\n  return pos;\n}\n\n\nbool isEqual( float a,  float b) {\n    return  a< b + 0.001 && a > b - 0.001;\n}\n\n",Hr="/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}\n",Vr=/precision\s+(high|low|medium)p\s+float/,Gr="#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n",qr=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,Xr=(yr=Object(i["injectable"])(),yr((xr=function(){function e(){f()(this,e),this.moduleCache={},this.rawContentCache={}}return p()(e,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("common",{vs:Lr,fs:Lr}),this.registerModule("decode",{vs:Ir,fs:""}),this.registerModule("projection",{vs:Ur,fs:""}),this.registerModule("project",{vs:Br,fs:""}),this.registerModule("sdf_2d",{vs:"",fs:Hr}),this.registerModule("lighting",{vs:Dr,fs:""}),this.registerModule("light",{vs:Nr,fs:""}),this.registerModule("picking",{vs:Fr,fs:zr})}},{key:"registerModule",value:function(e,t){if(!this.rawContentCache[e]){var n=t.vs,r=t.fs,o=t.uniforms,i=Sr(n),a=i.content,s=i.uniforms,u=Sr(r),l=u.content,c=u.uniforms;this.rawContentCache[e]={fs:l,uniforms:jr(jr(jr({},s),c),o),vs:a}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(e){var t=this;if(this.moduleCache[e])return this.moduleCache[e];var n=this.rawContentCache[e].vs,r=this.rawContentCache[e].fs,o=this.processModule(n,[],"vs"),i=o.content,a=o.includeList,s=this.processModule(r,[],"fs"),u=s.content,l=s.includeList,c=u,d=_r()(a.concat(l).concat(e)).reduce((function(e,n){return jr(jr({},e),t.rawContentCache[n].uniforms)}),{});return Vr.test(u)||(c=Gr+u),this.moduleCache[e]={fs:c.trim(),uniforms:d,vs:i.trim()},this.moduleCache[e]}},{key:"processModule",value:function(e,t,n){var r=this,o=e.replace(qr,(function(e,o){var i=o.split(" "),a=i[0].replace(/"/g,"");if(t.indexOf(a)>-1)return"";var s=r.rawContentCache[a][n];t.push(a);var u=r.processModule(s,t,n),l=u.content;return l}));return{content:o,includeList:t}}}]),e}(),br=xr))||br),Yr=n("iWIM"),Wr=n.n(Yr),Zr=n("bPkA"),Kr=(Tr=Object(i["injectable"])(),Pr=Object(i["inject"])(u["a"].IShaderModuleService),Tr((Ar=function(){function e(){f()(this,e),Ye()(this,"shaderModuleService",Cr,this),this.rendererService=void 0,this.cameraService=void 0,this.mapService=void 0,this.interactionService=void 0,this.layerService=void 0,this.config=void 0}return p()(e,[{key:"getName",value:function(){return""}},{key:"getType",value:function(){return Zr["a"].Normal}},{key:"init",value:function(e,t){this.config=t,this.rendererService=e.getContainer().get(u["a"].IRendererService),this.cameraService=e.getContainer().get(u["a"].ICameraService),this.mapService=e.getContainer().get(u["a"].IMapService),this.interactionService=e.getContainer().get(u["a"].IInteractionService),this.layerService=e.getContainer().get(u["a"].ILayerService)}},{key:"render",value:function(e){}}]),e}(),Or=Ar,Cr=Ze()(Or.prototype,"shaderModuleService",[Pr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kr=Or))||kr);function Qr(e){var t=Jr();return function(){var n,r=ie()(e);if(t){var o=ie()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re()(this,n)}}function Jr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var $r,eo,to,no,ro,oo,io=(Mr=Object(i["injectable"])(),Mr(Rr=function(e){te()(n,e);var t=Qr(n);function n(){return f()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getName",value:function(){return"clear"}},{key:"init",value:function(e,t){Wr()(ie()(n.prototype),"init",this).call(this,e,t)}},{key:"render",value:function(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}]),n}(Kr))||Rr);function ao(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=so(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function so(e,t){if(e){if("string"===typeof e)return uo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uo(e,t):void 0}}function uo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lo,co,fo,ho,po,vo,go=($r=Object(i["injectable"])(),eo=Object(i["inject"])(u["a"].IPostProcessor),$r((oo=function(){function e(){f()(this,e),this.passes=[],Ye()(this,"postProcessor",ro,this),this.layer=void 0,this.renderFlag=void 0,this.width=0,this.height=0}return p()(e,[{key:"setLayer",value:function(e){this.layer=e}},{key:"setRenderFlag",value:function(e){this.renderFlag=e}},{key:"getRenderFlag",value:function(){return this.renderFlag}},{key:"getPostProcessor",value:function(){return this.postProcessor}},{key:"render",value:function(){var e=Ut()(Ft.a.mark((function e(){var t,n,r;return Ft.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=ao(this.passes),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r.render(this.layer);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:this.layer.renderModels();case 18:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"resize",value:function(e,t){this.width===e&&this.height===t||(this.postProcessor.resize(e,t),this.width=e,this.height=t)}},{key:"add",value:function(e,t){e.getType()===Zr["a"].PostProcessing?this.postProcessor.add(e,this.layer,t):(e.init(this.layer,t),this.passes.push(e))}},{key:"insert",value:function(e,t,n){e.init(this.layer,t),this.passes.splice(n,0,e)}},{key:"destroy",value:function(){this.passes.length=0}}]),e}(),no=oo,ro=Ze()(no.prototype,"postProcessor",[eo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),to=no))||to);function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yo(e){var t=bo();return function(){var n,r=ie()(e);if(t){var o=ie()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re()(this,n)}}function bo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var xo,wo,So=(lo=Object(i["injectable"])(),co=Object(i["inject"])(u["a"].ILogService),lo((vo=function(e){te()(n,e);var t=yo(n);function n(){var e;f()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Ye()(e,"logger",po,mt()(e)),e.pickingFBO=void 0,e.layer=void 0,e.width=0,e.height=0,e.alreadyInRendering=!1,e.pickFromPickingFBO=function(t){var n=t.x,r=t.y,o=t.lngLat,i=t.type;if(e.layer.isVisible()&&e.layer.needPick(i)){var a,s=e.rendererService,u=s.getViewportSize,l=s.readPixels,c=s.useFramebuffer,d=u(),f=d.width,h=d.height,p=e.layer.getLayerConfig(),g=p.enableHighlight,_=p.enableSelect,m=n*window.devicePixelRatio,y=r*window.devicePixelRatio;if(!(m>f||m<0||y>h||y<0))c(e.pickingFBO,(function(){var t;if(a=l({x:Math.round(m),y:Math.round(h-(r+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(4),framebuffer:e.pickingFBO}),0!==a[0]||0!==a[1]||0!==a[2]){e.logger.debug("picked");var s=Object(v["j"])(a),u=e.layer.getSource().getFeatureById(s),c={x:n,y:r,type:i,lngLat:o,featureId:s,feature:u};u&&(e.layer.setCurrentPickId(s),e.triggerHoverOnLayer(c))}else{var d={x:n,y:r,lngLat:o,type:null===e.layer.getCurrentPickId()?"un"+i:"mouseout",featureId:null,feature:null};e.triggerHoverOnLayer(mo(mo({},d),{},{type:"unpick"})),e.triggerHoverOnLayer(d),e.layer.setCurrentPickId(null)}g&&e.highlightPickedFeature(a),_&&"click"===i&&(null===(t=a)||void 0===t?void 0:t.toString())!==[0,0,0,0].toString()&&e.selectFeature(a)}))}},e}return p()(n,[{key:"getType",value:function(){return Zr["a"].Normal}},{key:"getName",value:function(){return"pixelPicking"}},{key:"init",value:function(e,t){Wr()(ie()(n.prototype),"init",this).call(this,e,t),this.layer=e;var r=this.rendererService,o=r.createTexture2D,i=r.createFramebuffer,a=r.getViewportSize,s=a(),u=s.width,l=s.height;this.pickingFBO=i({color:o({width:u,height:l,wrapS:Ht["a"].CLAMP_TO_EDGE,wrapT:Ht["a"].CLAMP_TO_EDGE})}),this.interactionService.on(xt["a"].Hover,this.pickFromPickingFBO),this.interactionService.on(xt["a"].Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(xt["a"].Active,this.highlightFeatureHandle.bind(this))}},{key:"render",value:function(e){var t=this;if(!this.alreadyInRendering){var n=this.rendererService,r=n.getViewportSize,o=n.useFramebuffer,i=n.clear,a=r(),s=a.width,u=a.height;this.alreadyInRendering=!0,this.width===s&&this.height===u||(this.pickingFBO.resize({width:s,height:u}),this.width=s,this.height=u),o(this.pickingFBO,(function(){i({framebuffer:t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n=t.layer.multiPassRenderer.getRenderFlag();t.layer.multiPassRenderer.setRenderFlag(!1),e.hooks.beforePickingEncode.call(),e.render(),e.hooks.afterPickingEncode.call(),t.layer.multiPassRenderer.setRenderFlag(n),t.alreadyInRendering=!1}))}}},{key:"triggerHoverOnLayer",value:function(e){this.layer.emit(e.type,e)}},{key:"highlightPickedFeature",value:function(e){var t=ye()(e,3),n=t[0],r=t[1],o=t[2];this.layer.hooks.beforeHighlight.call([n,r,o]),this.layerService.renderLayers()}},{key:"selectFeature",value:function(e){var t=ye()(e,3),n=t[0],r=t[1],o=t[2];this.layer.hooks.beforeSelect.call([n,r,o]),this.layerService.renderLayers()}},{key:"selectFeatureHandle",value:function(e){var t=e.featureId,n=Object(v["k"])(t);this.selectFeature(new Uint8Array(n))}},{key:"highlightFeatureHandle",value:function(e){var t=e.featureId,n=Object(v["k"])(t);this.highlightPickedFeature(new Uint8Array(n))}}]),n}(Kr),ho=vo,po=Ze()(ho.prototype,"logger",[co],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fo=ho))||fo),Eo=n("+em5");function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Po(e){var t=ko();return function(){var n,r=ie()(e);if(t){var o=ie()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re()(this,n)}}function ko(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Oo,Co,Ao="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}",Mo="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",Ro=(xo=Object(i["injectable"])(),xo(wo=function(e){te()(n,e);var t=Po(n);function n(){return f()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:Mo,fs:Ao});var e=this.shaderModuleService.getModule("blur-pass"),t=e.vs,n=e.fs,r=e.uniforms,o=this.rendererService.getViewportSize(),i=o.width,a=o.height;return{vs:t,fs:n,uniforms:To(To({},r),{},{u_ViewportSize:[i,a]})}}},{key:"convertOptionsToUniforms",value:function(e){var t={};return vn()(e.blurRadius)||(t.u_BlurDir=[e.blurRadius,0]),t}}]),n}(Eo["a"]))||wo);function Lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function No(e){var t=Do();return function(){var n,r=ie()(e);if(t){var o=ie()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re()(this,n)}}function Do(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var zo,Fo,Bo="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_BlurDir: [1.0, 0.0];\n\n// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);\n}",Uo="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",Ho=(Oo=Object(i["injectable"])(),Oo(Co=function(e){te()(n,e);var t=No(n);function n(){return f()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:Uo,fs:Bo});var e=this.shaderModuleService.getModule("blur-pass"),t=e.vs,n=e.fs,r=e.uniforms,o=this.rendererService.getViewportSize(),i=o.width,a=o.height;return{vs:t,fs:n,uniforms:Io(Io({},r),{},{u_ViewportSize:[i,a]})}}},{key:"convertOptionsToUniforms",value:function(e){var t={};return vn()(e.blurRadius)||(t.u_BlurDir=[0,e.blurRadius]),t}}]),n}(Eo["a"]))||Co);function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qo(e){var t=Xo();return function(){var n,r=ie()(e);if(t){var o=ie()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re()(this,n)}}function Xo(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Yo,Wo,Zo='varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Angle : 0;\nuniform float u_Size : 8;\n\n#pragma include "common"\n\nfloat scale = PI / u_Size;\n\nfloat pattern(float u_Angle, vec2 texSize, vec2 texCoord) {\n  float s = sin(u_Angle), c = cos(u_Angle);\n  vec2 tex = texCoord * texSize - u_Center * texSize;\n  vec2 point = vec2(\n    c * tex.x - s * tex.y,\n    s * tex.x + c * tex.y\n  ) * scale;\n  return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js\nvec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {\n  vec3 cmy = 1.0 - color.rgb;\n  float k = min(cmy.x, min(cmy.y, cmy.z));\n  cmy = (cmy - k) / (1.0 - k);\n  cmy = clamp(\n    cmy * 10.0 - 3.0 + vec3(\n      pattern(u_Angle + 0.26179, texSize, texCoord),\n      pattern(u_Angle + 1.30899, texSize, texCoord),\n      pattern(u_Angle, texSize, texCoord)\n    ),\n    0.0,\n    1.0\n  );\n  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);\n  return vec4(1.0 - cmy - k, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);\n}',Ko="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",Qo=(zo=Object(i["injectable"])(),zo(Fo=function(e){te()(n,e);var t=qo(n);function n(){return f()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:Ko,fs:Zo});var e=this.shaderModuleService.getModule("colorhalftone-pass"),t=e.vs,n=e.fs,r=e.uniforms,o=this.rendererService.getViewportSize(),i=o.width,a=o.height;return{vs:t,fs:n,uniforms:Go(Go({},r),{},{u_ViewportSize:[i,a]})}}}]),n}(Eo["a"]))||Fo);function Jo(e){var t=$o();return function(){var n,r=ie()(e);if(t){var o=ie()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re()(this,n)}}function $o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ei,ti,ni="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",ri="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",oi=(Yo=Object(i["injectable"])(),Yo(Wo=function(e){te()(n,e);var t=Jo(n);function n(){return f()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("copy-pass",{vs:ri,fs:ni}),this.shaderModuleService.getModule("copy-pass")}}]),n}(Eo["a"]))||Wo);function ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function si(e){var t=ui();return function(){var n,r=ie()(e);if(t){var o=ie()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re()(this,n)}}function ui(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var li,ci,di="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform vec2 u_Center : [0.5, 0.5];\nuniform float u_Scale : 10;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js\nvec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;\n  tex.y /= 0.866025404;\n  tex.x -= tex.y * 0.5;\n  vec2 a;\n  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {\n    a = vec2(floor(tex.x), floor(tex.y));\n  }\n  else a = vec2(ceil(tex.x), ceil(tex.y));\n  vec2 b = vec2(ceil(tex.x), floor(tex.y));\n  vec2 c = vec2(floor(tex.x), ceil(tex.y));\n  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);\n  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);\n  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);\n  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);\n  float alen = length(TEX - A);\n  float blen = length(TEX - B);\n  float clen = length(TEX - C);\n  vec2 choice;\n  if (alen < blen) {\n    if (alen < clen) choice = a;\n    else choice = c;\n  } else {\n    if (blen < clen) choice = b;\n    else choice = c;\n  }\n  choice.x += choice.y * 0.5;\n  choice.y *= 0.866025404;\n  choice *= u_Scale / texSize;\n  return texture2D(texture, choice + u_Center);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}",fi="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",hi=(ei=Object(i["injectable"])(),ei(ti=function(e){te()(n,e);var t=si(n);function n(){return f()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:fi,fs:di});var e=this.shaderModuleService.getModule("hexagonalpixelate-pass"),t=e.vs,n=e.fs,r=e.uniforms,o=this.rendererService.getViewportSize(),i=o.width,a=o.height;return{vs:t,fs:n,uniforms:ai(ai({},r),{},{u_ViewportSize:[i,a]})}}}]),n}(Eo["a"]))||ti);function pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pi(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function gi(e){var t=_i();return function(){var n,r=ie()(e);if(t){var o=ie()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re()(this,n)}}function _i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var mi,yi,bi="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform vec2 u_ViewportSize: [1.0, 1.0];\nuniform float u_Strength : 0.6;\n\nvec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {\n  vec2 dx = vec2(1.0 / texSize.x, 0.0);\n  vec2 dy = vec2(0.0, 1.0 / texSize.y);\n  vec4 color = texture2D(texture, texCoord);\n  float bigTotal = 0.0;\n  float smallTotal = 0.0;\n  vec3 bigAverage = vec3(0.0);\n  vec3 smallAverage = vec3(0.0);\n  for (float x = -2.0; x <= 2.0; x += 1.0) {\n    for (float y = -2.0; y <= 2.0; y += 1.0) {\n      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;\n      bigAverage += sample;\n      bigTotal += 1.0;\n      if (abs(x) + abs(y) < 2.0) {\n        smallAverage += sample;\n        smallTotal += 1.0;\n      }\n    }\n  }\n  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);\n  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;\n  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);\n}",xi="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",wi=(li=Object(i["injectable"])(),li(ci=function(e){te()(n,e);var t=gi(n);function n(){return f()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("ink-pass",{vs:xi,fs:bi});var e=this.shaderModuleService.getModule("ink-pass"),t=e.vs,n=e.fs,r=e.uniforms,o=this.rendererService.getViewportSize(),i=o.width,a=o.height;return{vs:t,fs:n,uniforms:vi(vi({},r),{},{u_ViewportSize:[i,a]})}}}]),n}(Eo["a"]))||ci);function Si(e){var t=Ei();return function(){var n,r=ie()(e);if(t){var o=ie()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re()(this,n)}}function Ei(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ji,Ti,Pi="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\nuniform float u_Amount : 0.5;\n\nfloat rand(vec2 co) {\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js\nvec4 noise_filterColor(vec4 color, vec2 texCoord) {\n  float diff = (rand(texCoord) - 0.5) * u_Amount;\n  color.r += diff;\n  color.g += diff;\n  color.b += diff;\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);\n}",ki="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",Oi=(mi=Object(i["injectable"])(),mi(yi=function(e){te()(n,e);var t=Si(n);function n(){return f()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("noise-pass",{vs:ki,fs:Pi}),this.shaderModuleService.getModule("noise-pass")}}]),n}(Eo["a"]))||yi);function Ci(e){var t=Ai();return function(){var n,r=ie()(e);if(t){var o=ie()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re()(this,n)}}function Ai(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Mi,Ri,Li,Ii,Ni,Di,zi,Fi,Bi,Ui="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}",Hi="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nuniform float u_Amount : 0.5;\n\n// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js\nvec4 sepia_filterColor(vec4 color) {\n  float r = color.r;\n  float g = color.g;\n  float b = color.b;\n  color.r =\n    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));\n  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));\n  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));\n  return color;\n}\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n  gl_FragColor = sepia_filterColor(gl_FragColor);\n}",Vi=(ji=Object(i["injectable"])(),ji(Ti=function(e){te()(n,e);var t=Ci(n);function n(){return f()(this,n),t.apply(this,arguments)}return p()(n,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("sepia-pass",{vs:Ui,fs:Hi}),this.shaderModuleService.getModule("sepia-pass")}}]),n}(Eo["a"]))||Ti),Gi=(Mi=Object(i["injectable"])(),Ri=Object(i["inject"])(u["a"].IRendererService),Li=Object(i["postConstruct"])(),Mi((zi=function(){function e(){f()(this,e),Ye()(this,"rendererService",Di,this),this.passes=[],this.readFBO=void 0,this.writeFBO=void 0}return p()(e,[{key:"getReadFBO",value:function(){return this.readFBO}},{key:"getWriteFBO",value:function(){return this.writeFBO}},{key:"render",value:function(){var e=Ut()(Ft.a.mark((function e(t){var n,r;return Ft.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<this.passes.length)){e.next=10;break}return r=this.passes[n],r.setRenderToScreen(this.isLastEnabledPass(n)),e.next=6,r.render(t);case 6:n!==this.passes.length-1&&this.swap();case 7:n++,e.next=1;break;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"resize",value:function(e,t){this.readFBO.resize({width:e,height:t}),this.writeFBO.resize({width:e,height:t})}},{key:"add",value:function(e,t,n){e.init(t,n),this.passes.push(e)}},{key:"insert",value:function(e,t,n,r){e.init(n,r),this.passes.splice(t,0,e)}},{key:"getPostProcessingPassByName",value:function(e){return this.passes.find((function(t){return t.getName()===e}))}},{key:"init",value:function(){var e=this.rendererService,t=e.createFramebuffer,n=e.createTexture2D;this.readFBO=t({color:n({width:1,height:1,wrapS:Ht["a"].CLAMP_TO_EDGE,wrapT:Ht["a"].CLAMP_TO_EDGE})}),this.writeFBO=t({color:n({width:1,height:1,wrapS:Ht["a"].CLAMP_TO_EDGE,wrapT:Ht["a"].CLAMP_TO_EDGE})})}},{key:"isLastEnabledPass",value:function(e){for(var t=e+1;t<this.passes.length;t++)if(this.passes[t].isEnabled())return!1;return!0}},{key:"swap",value:function(){var e=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=e}}]),e}(),Ni=zi,Di=Ze()(Ni.prototype,"rendererService",[Ri],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze()(Ni.prototype,"init",[Li],Object.getOwnPropertyDescriptor(Ni.prototype,"init"),Ni.prototype),Ii=Ni))||Ii);function qi(e){var t=Xi();return function(){var n,r=ie()(e);if(t){var o=ie()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re()(this,n)}}function Xi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Yi,Wi,Zi,Ki,Qi,Ji,$i,ea,ta=(Fi=Object(i["injectable"])(),Fi(Bi=function(e){te()(n,e);var t=qi(n);function n(){return f()(this,n),t.apply(this,arguments)}return p()(n,[{key:"getType",value:function(){return Zr["a"].Normal}},{key:"getName",value:function(){return"render"}},{key:"init",value:function(e,t){Wr()(ie()(n.prototype),"init",this).call(this,e,t)}},{key:"render",value:function(e){var t=this.rendererService,n=t.useFramebuffer,r=t.clear,o=e.multiPassRenderer.getPostProcessor().getReadFBO();n(o,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:o}),e.multiPassRenderer.setRenderFlag(!1),e.render(),e.multiPassRenderer.setRenderFlag(!0)}))}}]),n}(Kr))||Bi);function na(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?na(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):na(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oa(e){var t=ia();return function(){var n,r=ie()(e);if(t){var o=ie()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re()(this,n)}}function ia(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var aa="uniform float u_opacity : 1.0;\nuniform float u_MixRatio : 0.5;\n\nuniform sampler2D u_Diffuse1;\nuniform sampler2D u_Diffuse2;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  vec4 texel1 = texture2D(u_Diffuse1, v_UV);\n  vec4 texel2 = texture2D(u_Diffuse2, v_UV);\n  gl_FragColor = u_opacity * mix(texel1, texel2, u_MixRatio);\n}\n",sa="varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}",ua="attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}";function la(e,t){var n=0,r=1/t,o=e;while(o>0)n+=r*(o%t),o=Math.floor(o/t),r/=t;return n}var ca=1,da=(Yi=Object(i["injectable"])(),Wi=Object(i["inject"])(u["a"].IShaderModuleService),Zi=Object(i["inject"])(u["a"].ILogService),Yi((ea=function(e){te()(n,e);var t=oa(n);function n(){var e;f()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),Ye()(e,"shaderModuleService",Ji,mt()(e)),Ye()(e,"logger",$i,mt()(e)),e.haltonSequence=[],e.accumulatingId=0,e.frame=0,e.timer=void 0,e.sampleRenderTarget=void 0,e.prevRenderTarget=void 0,e.outputRenderTarget=void 0,e.copyRenderTarget=void 0,e.blendModel=void 0,e.outputModel=void 0,e.copyModel=void 0,e}return p()(n,[{key:"getType",value:function(){return Zr["a"].Normal}},{key:"getName",value:function(){return"taa"}},{key:"init",value:function(e,t){Wr()(ie()(n.prototype),"init",this).call(this,e,t);var r=this.rendererService,o=r.createFramebuffer,i=r.createTexture2D;this.sampleRenderTarget=o({color:i({width:1,height:1,wrapS:Ht["a"].CLAMP_TO_EDGE,wrapT:Ht["a"].CLAMP_TO_EDGE})}),this.prevRenderTarget=o({color:i({width:1,height:1,wrapS:Ht["a"].CLAMP_TO_EDGE,wrapT:Ht["a"].CLAMP_TO_EDGE})}),this.outputRenderTarget=o({color:i({width:1,height:1,wrapS:Ht["a"].CLAMP_TO_EDGE,wrapT:Ht["a"].CLAMP_TO_EDGE})}),this.copyRenderTarget=o({color:i({width:1,height:1,wrapS:Ht["a"].CLAMP_TO_EDGE,wrapT:Ht["a"].CLAMP_TO_EDGE})});for(var a=0;a<30;a++)this.haltonSequence.push([la(a,2),la(a,3)]);this.blendModel=this.createTriangleModel("blend-pass",aa),this.outputModel=this.createTriangleModel("copy-pass",sa,{blend:{enable:!0,func:{srcRGB:Ht["a"].ONE,dstRGB:Ht["a"].ONE_MINUS_SRC_ALPHA,srcAlpha:Ht["a"].ONE,dstAlpha:Ht["a"].ONE_MINUS_SRC_ALPHA},equation:{rgb:Ht["a"].FUNC_ADD,alpha:Ht["a"].FUNC_ADD}}}),this.copyModel=this.createTriangleModel("copy-pass",sa)}},{key:"render",value:function(e){var t=this,n=this.rendererService,r=n.clear,o=n.getViewportSize,i=n.useFramebuffer,a=o(),s=a.width,u=a.height;this.sampleRenderTarget.resize({width:s,height:u}),this.prevRenderTarget.resize({width:s,height:u}),this.outputRenderTarget.resize({width:s,height:u}),this.copyRenderTarget.resize({width:s,height:u}),this.resetFrame(),this.stopAccumulating();var l=e.multiPassRenderer.getPostProcessor().getReadFBO();i(l,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:l}),e.multiPassRenderer.setRenderFlag(!1),e.render(),e.multiPassRenderer.setRenderFlag(!0)}));var c=function n(r){t.accumulatingId&&r===t.accumulatingId&&(t.isFinished()||(t.doRender(e),requestAnimationFrame((function(){n(r)}))))};this.accumulatingId=ca++,this.timer=window.setTimeout((function(){c(t.accumulatingId)}),50)}},{key:"doRender",value:function(e){var t=this;this.logger.debug("accumulatingId: ".concat(this.accumulatingId));var n=this.rendererService,r=n.clear,o=n.getViewportSize,i=n.useFramebuffer,a=o(),s=a.width,u=a.height,l=e.getLayerConfig(),c=l.jitterScale,d=void 0===c?1:c,f=this.haltonSequence[this.frame%this.haltonSequence.length];this.cameraService.jitterProjectionMatrix((2*f[0]-1)/s*d,(2*f[1]-1)/u*d),e.multiPassRenderer.setRenderFlag(!1),e.hooks.beforeRender.call(),i(this.sampleRenderTarget,(function(){r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:t.sampleRenderTarget}),e.render()})),e.hooks.afterRender.call(),e.multiPassRenderer.setRenderFlag(!0);var h=e.getLayerConfig();i(this.outputRenderTarget,(function(){t.blendModel.draw({uniforms:{u_opacity:h.opacity||1,u_MixRatio:0===t.frame?1:.9,u_Diffuse1:t.sampleRenderTarget,u_Diffuse2:0===t.frame?e.multiPassRenderer.getPostProcessor().getReadFBO():t.prevRenderTarget}})})),0===this.frame&&r({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.copyRenderTarget}),this.frame>=1&&(i(this.copyRenderTarget,(function(){t.outputModel.draw({uniforms:{u_Texture:t.outputRenderTarget}})})),i(e.multiPassRenderer.getPostProcessor().getReadFBO(),(function(){t.copyModel.draw({uniforms:{u_Texture:t.copyRenderTarget}})})),e.multiPassRenderer.getPostProcessor().render(e));var p=this.prevRenderTarget;this.prevRenderTarget=this.outputRenderTarget,this.outputRenderTarget=p,this.frame++,this.cameraService.clearJitterProjectionMatrix()}},{key:"isFinished",value:function(){return this.frame>=this.haltonSequence.length}},{key:"resetFrame",value:function(){this.frame=0}},{key:"stopAccumulating",value:function(){this.accumulatingId=0,window.clearTimeout(this.timer)}},{key:"createTriangleModel",value:function(e,t,n){this.shaderModuleService.registerModule(e,{vs:ua,fs:t});var r=this.shaderModuleService.getModule(e),o=r.vs,i=r.fs,a=r.uniforms,s=this.rendererService,u=s.createAttribute,l=s.createBuffer,c=s.createModel;return c(ra({vs:o,fs:i,attributes:{a_Position:u({buffer:l({data:[-4,-4,4,-4,0,4],type:Ht["a"].FLOAT}),size:2})},uniforms:ra({},a),depth:{enable:!1},count:3},n))}}]),n}(Kr),Qi=ea,Ji=Ze()(Qi.prototype,"shaderModuleService",[Wi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$i=Ze()(Qi.prototype,"logger",[Zi],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ki=Qi))||Ki),fa=new i["Container"];fa.bind(u["a"].IGlobalConfigService).to(qe).inSingletonScope(),fa.bind(u["a"].IShaderModuleService).to(Xr).inSingletonScope(),fa.bind(u["a"].ILogService).to(sr).inSingletonScope(),Object(i["decorate"])(Object(i["injectable"])(),r["EventEmitter"]),fa.bind(u["a"].IEventEmitter).to(r["EventEmitter"]);var ha=s()(fa,!1),pa=function(e){var t=ha.lazyInject(e);return function(e,n,r){t.call(this,e,n),r&&(r.initializer=function(){return e[n]})}},va=(t["c"]=fa,0);function ga(){var e=new i["Container"];return e.parent=fa,e.bind(u["a"].SceneID).toConstantValue("".concat(va++)),e.bind(u["a"].ILayerService).to(ln).inSingletonScope(),e.bind(u["a"].ISceneService).to(vr).inSingletonScope(),e.bind(u["a"].ICameraService).to(xe).inSingletonScope(),e.bind(u["a"].ICoordinateSystemService).to(gt).inSingletonScope(),e.bind(u["a"].IInteractionService).to(Dt).inSingletonScope(),e.bind(u["a"].IPickingService).to(sn).inSingletonScope(),e.bind(u["a"].IControlService).to(Le).inSingletonScope(),e.bind(u["a"].IMarkerService).to(Ie).inSingletonScope(),e.bind(u["a"].IIconService).to(_e).inSingletonScope(),e.bind(u["a"].IFontService).to($).inSingletonScope(),e.bind(u["a"].IPopupService).to(Ne).inSingletonScope(),e.bind(u["a"].INormalPass).to(io).whenTargetNamed("clear"),e.bind(u["a"].INormalPass).to(So).whenTargetNamed("pixelPicking"),e.bind(u["a"].INormalPass).to(ta).whenTargetNamed("render"),e.bind(u["a"].INormalPass).to(da).whenTargetNamed("taa"),e.bind(u["a"].IFactoryNormalPass).toFactory((function(e){return function(t){return e.container.getNamed(u["a"].INormalPass,t)}})),e.bind(u["a"].IPostProcessingPass).to(oi).whenTargetNamed("copy"),e.bind(u["a"].IPostProcessingPass).to(Ro).whenTargetNamed("blurH"),e.bind(u["a"].IPostProcessingPass).to(Ho).whenTargetNamed("blurV"),e.bind(u["a"].IPostProcessingPass).to(Oi).whenTargetNamed("noise"),e.bind(u["a"].IPostProcessingPass).to(Vi).whenTargetNamed("sepia"),e.bind(u["a"].IPostProcessingPass).to(Qo).whenTargetNamed("colorHalftone"),e.bind(u["a"].IPostProcessingPass).to(hi).whenTargetNamed("hexagonalPixelate"),e.bind(u["a"].IPostProcessingPass).to(wi).whenTargetNamed("ink"),e.bind(u["a"].IFactoryPostProcessingPass).toFactory((function(e){return function(t){var n=e.container.getNamed(u["a"].IPostProcessingPass,t);return n.setName(t),n}})),e}function _a(e){var t=new i["Container"];return t.parent=e,t.bind(u["a"].IStyleAttributeService).to(wn).inSingletonScope(),t.bind(u["a"].IMultiPassRenderer).to(go).inSingletonScope(),t.bind(u["a"].IPostProcessor).to(Gi).inSingletonScope(),t}},fdMe:function(e,t,n){"use strict";function r(e,t){var n=t.callback;return n&&(e.dataArray=e.dataArray.map(n)),e}n.d(t,"a",(function(){return r}))},gMG2:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("Vibt"),o=n("5zYK");function i(e,t){var n=Object(r["a"])(e);return Object(o["a"])(n,t)}},h1nZ:function(e,t,n){"use strict";var r=n("fX6N");n.d(t,"container",(function(){return r["c"]})),n.d(t,"createSceneContainer",(function(){return r["b"]})),n.d(t,"createLayerContainer",(function(){return r["a"]})),n.d(t,"lazyInject",(function(){return r["d"]}));n("+em5");var o=n("bB6j");n.d(t,"TYPES",(function(){return o["a"]}));n("8/Fi");var i=n("PUg6");n.d(t,"BlendType",(function(){return i["a"]}));var a=n("cZlC");n.d(t,"AttributeType",(function(){return a["a"]})),n.d(t,"ScaleTypes",(function(){return a["b"]})),n.d(t,"StyleScaleType",(function(){return a["c"]}));var s=n("O1je");n.o(s,"CameraUniform")&&n.d(t,"CameraUniform",(function(){return s["CameraUniform"]})),n.o(s,"CoordinateSystem")&&n.d(t,"CoordinateSystem",(function(){return s["CoordinateSystem"]})),n.o(s,"CoordinateUniform")&&n.d(t,"CoordinateUniform",(function(){return s["CoordinateUniform"]})),n.o(s,"LineLayer")&&n.d(t,"LineLayer",(function(){return s["LineLayer"]})),n.o(s,"MapServiceEvent")&&n.d(t,"MapServiceEvent",(function(){return s["MapServiceEvent"]})),n.o(s,"PointLayer")&&n.d(t,"PointLayer",(function(){return s["PointLayer"]})),n.o(s,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return s["PolygonLayer"]})),n.o(s,"Popup")&&n.d(t,"Popup",(function(){return s["Popup"]})),n.o(s,"PositionType")&&n.d(t,"PositionType",(function(){return s["PositionType"]})),n.o(s,"Scene")&&n.d(t,"Scene",(function(){return s["Scene"]})),n.o(s,"SceneEventList")&&n.d(t,"SceneEventList",(function(){return s["SceneEventList"]})),n.o(s,"gl")&&n.d(t,"gl",(function(){return s["gl"]}));var u=n("L56e");n.d(t,"MapServiceEvent",(function(){return u["a"]}));var l=n("HthE");n.d(t,"CoordinateSystem",(function(){return l["a"]})),n.d(t,"CoordinateUniform",(function(){return l["b"]}));var c=n("/33/");n.o(c,"CameraUniform")&&n.d(t,"CameraUniform",(function(){return c["CameraUniform"]})),n.o(c,"LineLayer")&&n.d(t,"LineLayer",(function(){return c["LineLayer"]})),n.o(c,"PointLayer")&&n.d(t,"PointLayer",(function(){return c["PointLayer"]})),n.o(c,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return c["PolygonLayer"]})),n.o(c,"Popup")&&n.d(t,"Popup",(function(){return c["Popup"]})),n.o(c,"PositionType")&&n.d(t,"PositionType",(function(){return c["PositionType"]})),n.o(c,"Scene")&&n.d(t,"Scene",(function(){return c["Scene"]})),n.o(c,"SceneEventList")&&n.d(t,"SceneEventList",(function(){return c["SceneEventList"]})),n.o(c,"gl")&&n.d(t,"gl",(function(){return c["gl"]}));var d=n("EfZ0");n.d(t,"CameraUniform",(function(){return d["a"]}));var f=n("riiI");n.o(f,"LineLayer")&&n.d(t,"LineLayer",(function(){return f["LineLayer"]})),n.o(f,"PointLayer")&&n.d(t,"PointLayer",(function(){return f["PointLayer"]})),n.o(f,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return f["PolygonLayer"]})),n.o(f,"Popup")&&n.d(t,"Popup",(function(){return f["Popup"]})),n.o(f,"PositionType")&&n.d(t,"PositionType",(function(){return f["PositionType"]})),n.o(f,"Scene")&&n.d(t,"Scene",(function(){return f["Scene"]})),n.o(f,"SceneEventList")&&n.d(t,"SceneEventList",(function(){return f["SceneEventList"]})),n.o(f,"gl")&&n.d(t,"gl",(function(){return f["gl"]}));var h=n("eg+a");n.d(t,"SceneEventList",(function(){return h["a"]}));var p=n("bYl4");n.o(p,"LineLayer")&&n.d(t,"LineLayer",(function(){return p["LineLayer"]})),n.o(p,"PointLayer")&&n.d(t,"PointLayer",(function(){return p["PointLayer"]})),n.o(p,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return p["PolygonLayer"]})),n.o(p,"Popup")&&n.d(t,"Popup",(function(){return p["Popup"]})),n.o(p,"PositionType")&&n.d(t,"PositionType",(function(){return p["PositionType"]})),n.o(p,"Scene")&&n.d(t,"Scene",(function(){return p["Scene"]})),n.o(p,"gl")&&n.d(t,"gl",(function(){return p["gl"]}));var v=n("FI6e");n.o(v,"LineLayer")&&n.d(t,"LineLayer",(function(){return v["LineLayer"]})),n.o(v,"PointLayer")&&n.d(t,"PointLayer",(function(){return v["PointLayer"]})),n.o(v,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return v["PolygonLayer"]})),n.o(v,"Popup")&&n.d(t,"Popup",(function(){return v["Popup"]})),n.o(v,"PositionType")&&n.d(t,"PositionType",(function(){return v["PositionType"]})),n.o(v,"Scene")&&n.d(t,"Scene",(function(){return v["Scene"]})),n.o(v,"gl")&&n.d(t,"gl",(function(){return v["gl"]}));var g=n("D+ow");n.o(g,"LineLayer")&&n.d(t,"LineLayer",(function(){return g["LineLayer"]})),n.o(g,"PointLayer")&&n.d(t,"PointLayer",(function(){return g["PointLayer"]})),n.o(g,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return g["PolygonLayer"]})),n.o(g,"Popup")&&n.d(t,"Popup",(function(){return g["Popup"]})),n.o(g,"PositionType")&&n.d(t,"PositionType",(function(){return g["PositionType"]})),n.o(g,"Scene")&&n.d(t,"Scene",(function(){return g["Scene"]})),n.o(g,"gl")&&n.d(t,"gl",(function(){return g["gl"]}));var _=n("AFH1");n.d(t,"PositionType",(function(){return _["a"]}));var m=n("8uyu");n.o(m,"LineLayer")&&n.d(t,"LineLayer",(function(){return m["LineLayer"]})),n.o(m,"PointLayer")&&n.d(t,"PointLayer",(function(){return m["PointLayer"]})),n.o(m,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return m["PolygonLayer"]})),n.o(m,"Popup")&&n.d(t,"Popup",(function(){return m["Popup"]})),n.o(m,"Scene")&&n.d(t,"Scene",(function(){return m["Scene"]})),n.o(m,"gl")&&n.d(t,"gl",(function(){return m["gl"]}));var y=n("J7lC");n.o(y,"LineLayer")&&n.d(t,"LineLayer",(function(){return y["LineLayer"]})),n.o(y,"PointLayer")&&n.d(t,"PointLayer",(function(){return y["PointLayer"]})),n.o(y,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return y["PolygonLayer"]})),n.o(y,"Popup")&&n.d(t,"Popup",(function(){return y["Popup"]})),n.o(y,"Scene")&&n.d(t,"Scene",(function(){return y["Scene"]})),n.o(y,"gl")&&n.d(t,"gl",(function(){return y["gl"]}));var b=n("QGbF");n.o(b,"LineLayer")&&n.d(t,"LineLayer",(function(){return b["LineLayer"]})),n.o(b,"PointLayer")&&n.d(t,"PointLayer",(function(){return b["PointLayer"]})),n.o(b,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return b["PolygonLayer"]})),n.o(b,"Popup")&&n.d(t,"Popup",(function(){return b["Popup"]})),n.o(b,"Scene")&&n.d(t,"Scene",(function(){return b["Scene"]})),n.o(b,"gl")&&n.d(t,"gl",(function(){return b["gl"]}));n("V1cb");var x=n("bzyH");n.o(x,"LineLayer")&&n.d(t,"LineLayer",(function(){return x["LineLayer"]})),n.o(x,"PointLayer")&&n.d(t,"PointLayer",(function(){return x["PointLayer"]})),n.o(x,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return x["PolygonLayer"]})),n.o(x,"Popup")&&n.d(t,"Popup",(function(){return x["Popup"]})),n.o(x,"Scene")&&n.d(t,"Scene",(function(){return x["Scene"]})),n.o(x,"gl")&&n.d(t,"gl",(function(){return x["gl"]}));var w=n("0eqD");n.o(w,"LineLayer")&&n.d(t,"LineLayer",(function(){return w["LineLayer"]})),n.o(w,"PointLayer")&&n.d(t,"PointLayer",(function(){return w["PointLayer"]})),n.o(w,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return w["PolygonLayer"]})),n.o(w,"Popup")&&n.d(t,"Popup",(function(){return w["Popup"]})),n.o(w,"Scene")&&n.d(t,"Scene",(function(){return w["Scene"]})),n.o(w,"gl")&&n.d(t,"gl",(function(){return w["gl"]}));var S=n("/Uc5");n.o(S,"LineLayer")&&n.d(t,"LineLayer",(function(){return S["LineLayer"]})),n.o(S,"PointLayer")&&n.d(t,"PointLayer",(function(){return S["PointLayer"]})),n.o(S,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return S["PolygonLayer"]})),n.o(S,"Popup")&&n.d(t,"Popup",(function(){return S["Popup"]})),n.o(S,"Scene")&&n.d(t,"Scene",(function(){return S["Scene"]})),n.o(S,"gl")&&n.d(t,"gl",(function(){return S["gl"]}));var E=n("RMtq");n.o(E,"LineLayer")&&n.d(t,"LineLayer",(function(){return E["LineLayer"]})),n.o(E,"PointLayer")&&n.d(t,"PointLayer",(function(){return E["PointLayer"]})),n.o(E,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return E["PolygonLayer"]})),n.o(E,"Popup")&&n.d(t,"Popup",(function(){return E["Popup"]})),n.o(E,"Scene")&&n.d(t,"Scene",(function(){return E["Scene"]})),n.o(E,"gl")&&n.d(t,"gl",(function(){return E["gl"]}));var j=n("1jvM");n.o(j,"LineLayer")&&n.d(t,"LineLayer",(function(){return j["LineLayer"]})),n.o(j,"PointLayer")&&n.d(t,"PointLayer",(function(){return j["PointLayer"]})),n.o(j,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return j["PolygonLayer"]})),n.o(j,"Popup")&&n.d(t,"Popup",(function(){return j["Popup"]})),n.o(j,"Scene")&&n.d(t,"Scene",(function(){return j["Scene"]})),n.o(j,"gl")&&n.d(t,"gl",(function(){return j["gl"]}));n("bPkA");var T=n("PSsN");n.o(T,"LineLayer")&&n.d(t,"LineLayer",(function(){return T["LineLayer"]})),n.o(T,"PointLayer")&&n.d(t,"PointLayer",(function(){return T["PointLayer"]})),n.o(T,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return T["PolygonLayer"]})),n.o(T,"Popup")&&n.d(t,"Popup",(function(){return T["Popup"]})),n.o(T,"Scene")&&n.d(t,"Scene",(function(){return T["Scene"]})),n.o(T,"gl")&&n.d(t,"gl",(function(){return T["gl"]}));var P=n("6NqC");n.o(P,"LineLayer")&&n.d(t,"LineLayer",(function(){return P["LineLayer"]})),n.o(P,"PointLayer")&&n.d(t,"PointLayer",(function(){return P["PointLayer"]})),n.o(P,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return P["PolygonLayer"]})),n.o(P,"Popup")&&n.d(t,"Popup",(function(){return P["Popup"]})),n.o(P,"Scene")&&n.d(t,"Scene",(function(){return P["Scene"]})),n.o(P,"gl")&&n.d(t,"gl",(function(){return P["gl"]}));var k=n("bTtR");n.o(k,"LineLayer")&&n.d(t,"LineLayer",(function(){return k["LineLayer"]})),n.o(k,"PointLayer")&&n.d(t,"PointLayer",(function(){return k["PointLayer"]})),n.o(k,"PolygonLayer")&&n.d(t,"PolygonLayer",(function(){return k["PolygonLayer"]})),n.o(k,"Popup")&&n.d(t,"Popup",(function(){return k["Popup"]})),n.o(k,"Scene")&&n.d(t,"Scene",(function(){return k["Scene"]})),n.o(k,"gl")&&n.d(t,"gl",(function(){return k["gl"]}));var O=n("o+pz");n.d(t,"gl",(function(){return O["a"]}))},"k5/I":function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return $}));var r,o=n("lSNA"),i=n.n(o),a=n("lwsE"),s=n.n(a),u=n("W8MJ"),l=n.n(u),c=n("7W2i"),d=n.n(c),f=n("a1gu"),h=n.n(f),p=n("Nsbk"),v=n.n(p),g=n("h1nZ"),_=n("Hel2"),m=n("uhBA");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=w();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}function w(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(function(e){e["TOPRIGHT"]="topright",e["TOPLEFT"]="topleft",e["BOTTOMRIGHT"]="bottomright",e["BOTTOMLEFT"]="bottomleft"})(r||(r={}));var S=0,E=function(e){d()(n,e);var t=x(n);function n(e){var r;return s()(this,n),r=t.call(this),r.controlOption=void 0,r.container=void 0,r.sceneContainer=void 0,r.mapsService=void 0,r.renderService=void 0,r.layerService=void 0,r.controlService=void 0,r.isShow=void 0,r.controlOption=b(b({},r.getDefault()),e||{}),r}return l()(n,[{key:"getDefault",value:function(){return{position:r.TOPRIGHT,name:"".concat(S++)}}},{key:"setPosition",value:function(e){var t=this.controlService;return t&&t.removeControl(this),this.controlOption.position=e,t&&t.addControl(this,this.sceneContainer),this}},{key:"addTo",value:function(e){this.mapsService=e.get(g["TYPES"].IMapService),this.renderService=e.get(g["TYPES"].IRendererService),this.layerService=e.get(g["TYPES"].ILayerService),this.controlService=e.get(g["TYPES"].IControlService),this.sceneContainer=e,this.isShow=!0,this.container=this.onAdd();var t=this.container,n=this.controlOption.position,r=this.controlService.controlCorners[n];return _["a"].addClass(t,"l7-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this}},{key:"onAdd",value:function(){throw new Error("Method not implemented.")}},{key:"onRemove",value:function(){throw new Error("Method not implemented.")}},{key:"hide",value:function(){var e=this.container;_["a"].addClass(e,"l7-control-hide"),this.isShow=!1}},{key:"show",value:function(){var e=this.container;_["a"].removeClass(e,"l7-control-hide"),this.isShow=!0}},{key:"remove",value:function(){if(!this.mapsService)return this;_["a"].remove(this.container),this.onRemove()}},{key:"_refocusOnMap",value:function(e){if(this.mapsService&&e&&e.screenX>0&&e.screenY>0){var t=this.mapsService.getContainer();null!==t&&t.focus()}}}]),n}(m["EventEmitter"]),j=n("PJYZ"),T=n.n(j);function P(e){var t=k();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(function(e){d()(n,e);var t=P(n);function n(e){var r;return s()(this,n),r=t.call(this,e),r.layerControlInputs=void 0,r.layers=void 0,r.lastZIndex=void 0,r.handlingClick=void 0,r.layersLink=void 0,r.baseLayersList=void 0,r.separator=void 0,r.overlaysList=void 0,r.form=void 0,r.layerControlInputs=[],r.layers=[],r.lastZIndex=0,r.handlingClick=!1,r.initLayers(),Object(_["h"])(["checkDisabledLayers","onLayerChange","collapse","extend","expand","onInputClick"],T()(r)),r}l()(n,[{key:"getDefault",value:function(){return{collapsed:!0,position:g["PositionType"].TOPRIGHT,autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,name:"layers"}}},{key:"onAdd",value:function(){var e=this;return this.initLayout(),this.update(),this.mapsService.on("zoomend",this.checkDisabledLayers),this.layers.forEach((function(t){t.layer.on("remove",e.onLayerChange),t.layer.on("add",e.onLayerChange)})),this.container}},{key:"addVisualLayer",value:function(e,t){return this.addLayer(e,t,!0),this.mapsService?this.update():this}},{key:"expand",value:function(){var e=this.renderService.getViewportSize(),t=e.height;_["a"].addClass(this.container,"l7-control-layers-expanded"),this.form.style.height="null";var n=t-(this.container.offsetTop+50);return n<this.form.clientHeight?(_["a"].addClass(this.form,"l7-control-layers-scrollbar"),this.form.style.height=n+"px"):_["a"].removeClass(this.form,"l7-control-layers-scrollbar"),this.checkDisabledLayers(),this}},{key:"collapse",value:function(){return _["a"].removeClass(this.container,"l7-control-layers-expanded"),this}},{key:"onRemove",value:function(){var e=this;this.mapsService&&(this.mapsService.off("click",this.collapse),this.layers.forEach((function(t){t.layer.off("remove",e.onLayerChange),t.layer.off("add",e.onLayerChange)})))}},{key:"initLayout",value:function(){var e="l7-control-layers",t=this.container=_["a"].create("div",e),n=this.controlOption.collapsed;t.setAttribute("aria-haspopup","true");var r=this.form=_["a"].create("form",e+"-list");n&&(this.mapsService.on("click",this.collapse),t.addEventListener("mouseenter",this.expand),t.addEventListener("mouseleave",this.collapse)),this.layersLink=_["a"].create("a",e+"-toggle",t);var o=this.layersLink;o.title="Layers",n||this.expand(),this.baseLayersList=_["a"].create("div",e+"-base",r),this.separator=_["a"].create("div",e+"-separator",r),this.overlaysList=_["a"].create("div",e+"-overlays",r),t.appendChild(r)}},{key:"initLayers",value:function(){var e=this,t=this.controlOption,n=t.baseLayers,r=void 0===n?{}:n,o=t.overlayers,i=void 0===o?{}:o;Object.keys(r).forEach((function(t,n){e.addLayer(r[t],t,!1)})),Object.keys(i).forEach((function(t,n){e.addLayer(i[t],t,!0)}))}},{key:"update",value:function(){if(!this.container)return this;var e,t,n,r;_["a"].empty(this.baseLayersList),_["a"].empty(this.overlaysList),this.layerControlInputs=[];var o=0;for(n=0;n<this.layers.length;n++)r=this.layers[n],this.addItem(r),t=t||r.overlay,e=e||!r.overlay,o+=r.overlay?0:1;return this.controlOption.hideSingleBase&&(e=e&&o>1,this.baseLayersList.style.display=e?"":"none"),this.separator.style.display=t&&e?"":"none",this}},{key:"checkDisabledLayers",value:function(){for(var e,t,n=this.layerControlInputs,r=this.mapsService.getZoom(),o=n.length-1;o>=0;o--)if(e=n[o],t=this.layerService.getLayer(e.layerId),t&&t.inited){var i=t.getMinZoom(),a=t.getMaxZoom();e.disabled=r<i||r>a}}},{key:"addLayer",value:function(e,t,n){this.mapsService&&(e.on("add",this.onLayerChange),e.on("remove",this.onLayerChange)),this.layers.push({layer:e,name:t,overlay:n});var r=this.controlOption,o=r.sortLayers,i=r.sortFunction,a=r.autoZIndex;o&&this.layers.sort((function(e,t){return i(e.layer,t.layer,e.name,t.name)})),a&&e.setZIndex&&(this.lastZIndex++,e.setZIndex(this.lastZIndex)),this.expandIfNotCollapsed()}},{key:"expandIfNotCollapsed",value:function(){return this.mapsService&&!this.controlOption.collapsed&&this.expand(),this}},{key:"onLayerChange",value:function(e){this.handlingClick||this.update();var t=this.layerService.getLayer(e.target.layerId),n=(null===t||void 0===t?void 0:t.overlay)?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this.emit(n,t)}},{key:"createRadioElement",value:function(e,t){var n='<input type="radio" class="l7-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild}},{key:"addItem",value:function(e){var t,n=document.createElement("label"),r=this.layerService.getLayer(e.layer.id),o=r&&r.inited&&e.layer.isVisible();e.overlay?(t=document.createElement("input"),t.type="checkbox",t.className="l7-control-layers-selector",t.defaultChecked=o):t=this.createRadioElement("l7-base-layers",o),this.layerControlInputs.push(t),t.layerId=e.layer.id,t.addEventListener("click",this.onInputClick);var i=document.createElement("span");i.innerHTML=" "+e.name;var a=document.createElement("div");n.appendChild(a),a.appendChild(t),a.appendChild(i);var s=e.overlay?this.overlaysList:this.baseLayersList;return s.appendChild(n),this.checkDisabledLayers(),n}},{key:"onInputClick",value:function(){var e,t,n=this.layerControlInputs,r=[],o=[];this.handlingClick=!0;for(var i=n.length-1;i>=0;i--)e=n[i],t=this.layerService.getLayer(e.layerId),e.checked?r.push(t):e.checked||o.push(t);o.forEach((function(e){e.hide()})),r.forEach((function(e){e.show()})),this.handlingClick=!1}}])})(E);function O(e){var t=C();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}function C(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var A=function(e){d()(n,e);var t=O(n);function n(){return s()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getDefault",value:function(){return{position:r.BOTTOMLEFT,name:"logo"}}},{key:"onAdd",value:function(){var e="l7-control-logo",t=_["a"].create("div",e),n=_["a"].create("a","l7-ctrl-logo");return n.target="_blank",n.rel="noopener nofollow",n.href="https://antv.alipay.com/l7",n.setAttribute("aria-label","AntV logo"),n.setAttribute("rel","noopener nofollow"),t.appendChild(n),t}},{key:"onRemove",value:function(){return null}}]),n}(E);function M(e){var t=R();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}function R(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(function(e){d()(n,e);var t=M(n);function n(e){var r;return s()(this,n),r=t.call(this,e),r.mScale=void 0,r.iScale=void 0,Object(_["h"])(["update"],T()(r)),r}l()(n,[{key:"getDefault",value:function(){return{position:r.BOTTOMLEFT,maxWidth:100,metric:!0,updateWhenIdle:!1,imperial:!1,name:"scale"}}},{key:"onAdd",value:function(){var e="l7-control-scale",t=_["a"].create("div",e);this.addScales(e+"-line",t);var n=this.controlOption.updateWhenIdle;return this.mapsService.on(n?"moveend":"mapmove",this.update),this.mapsService.on(n?"zoomend":"zoomchange",this.update),this.update(),t}},{key:"onRemove",value:function(){var e=this.controlOption.updateWhenIdle;this.mapsService.off(e?"zoomend":"zoomchange",this.update),this.mapsService.off(e?"moveend":"mapmove",this.update)}},{key:"update",value:function(){var e=this.mapsService,t=this.controlOption.maxWidth,n=e.getSize()[1]/2,r=e.containerToLngLat([0,n]),o=e.containerToLngLat([t,n]),i=Object(_["o"])([r.lng,r.lat],[o.lng,o.lat]);this.updateScales(i)}},{key:"updateScales",value:function(e){var t=this.controlOption,n=t.metric,r=t.imperial;n&&e&&this.updateMetric(e),r&&e&&this.updateImperial(e)}},{key:"updateMetric",value:function(e){var t=this.getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this.updateScale(this.mScale,n,t/e)}},{key:"updateImperial",value:function(e){var t,n,r,o=3.2808399*e;o>5280?(t=o/5280,n=this.getRoundNum(t),this.updateScale(this.iScale,n+" mi",n/t)):(r=this.getRoundNum(o),this.updateScale(this.iScale,r+" ft",r/o))}},{key:"updateScale",value:function(e,t,n){var r=this.controlOption.maxWidth;e.style.width=Math.round(r*n)+"px",e.innerHTML=t}},{key:"getRoundNum",value:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,t*n}},{key:"addScales",value:function(e,t){var n=this.controlOption,r=n.metric,o=n.imperial;r&&(this.mScale=_["a"].create("div",e,t)),o&&(this.iScale=_["a"].create("div",e,t))}}])})(E);function L(e){var t=I();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(function(e){d()(n,e);var t=L(n);function n(e){var r;return s()(this,n),r=t.call(this,e),r.disabled=void 0,r.zoomInButton=void 0,r.zoomOutButton=void 0,Object(_["h"])(["updateDisabled","zoomIn","zoomOut"],T()(r)),r}l()(n,[{key:"getDefault",value:function(){return{position:r.TOPLEFT,zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out",name:"zoom"}}},{key:"onAdd",value:function(){var e="l7-control-zoom",t=_["a"].create("div",e+" l7-bar");return this.zoomInButton=this.createButton(this.controlOption.zoomInText,this.controlOption.zoomInTitle,e+"-in",t,this.zoomIn),this.zoomOutButton=this.createButton(this.controlOption.zoomOutText,this.controlOption.zoomOutTitle,e+"-out",t,this.zoomOut),this.mapsService.on("zoomend",this.updateDisabled),this.mapsService.on("zoomchange",this.updateDisabled),this.updateDisabled(),t}},{key:"onRemove",value:function(){this.mapsService.off("zoomend",this.updateDisabled),this.mapsService.off("zoomchange",this.updateDisabled)}},{key:"disable",value:function(){return this.disabled=!0,this.updateDisabled(),this}},{key:"enable",value:function(){return this.disabled=!1,this.updateDisabled(),this}},{key:"zoomIn",value:function(){!this.disabled&&this.mapsService.getZoom()<this.mapsService.getMaxZoom()&&this.mapsService.zoomIn()}},{key:"zoomOut",value:function(){!this.disabled&&this.mapsService.getZoom()>this.mapsService.getMinZoom()&&this.mapsService.zoomOut()}},{key:"createButton",value:function(e,t,n,r,o){var i=_["a"].create("a",n,r);return i.innerHTML=e,i.title=t,i.href="javascript:void(0)",i.addEventListener("click",o),i}},{key:"updateDisabled",value:function(){var e=this.mapsService,t="l7-disabled";_["a"].removeClass(this.zoomInButton,t),_["a"].removeClass(this.zoomOutButton,t),(this.disabled||e.getZoom()<=e.getMinZoom())&&_["a"].addClass(this.zoomOutButton,t),(this.disabled||e.getZoom()>=e.getMaxZoom())&&_["a"].addClass(this.zoomInButton,t)}}])})(E);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=F();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}function F(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var B=function(e){d()(n,e);var t=z(n);function n(e){var r;return s()(this,n),r=t.call(this),r.markerOption=void 0,r.defaultMarker=void 0,r.popup=void 0,r.mapsService=void 0,r.lngLat=void 0,r.scene=void 0,r.added=!1,r.eventHandle=function(e){r.emit(e.type,{target:e,data:r.markerOption.extData,lngLat:r.lngLat})},r.markerOption=D(D({},r.getDefault()),e),Object(_["h"])(["update","onMove","onUp","addDragHandler","onMapClick"],T()(r)),r.init(),r}return l()(n,[{key:"getDefault",value:function(){return{element:void 0,anchor:_["f"].BOTTOM,offsets:[0,0],color:"#5B8FF9",draggable:!1}}},{key:"addTo",value:function(e){this.scene=e,this.mapsService=e.get(g["TYPES"].IMapService);var t=this.markerOption,n=t.element;t.draggable;return this.mapsService.getMarkerContainer().appendChild(n),this.registerMarkerEvent(n),this.mapsService.on("camerachange",this.update),this.update(),this.added=!0,this.emit("added"),this}},{key:"remove",value:function(){this.mapsService&&(this.mapsService.off("click",this.onMapClick),this.mapsService.off("move",this.update),this.mapsService.off("moveend",this.update),this.mapsService.off("mousedown",this.addDragHandler),this.mapsService.off("touchstart",this.addDragHandler),this.mapsService.off("mouseup",this.onUp),this.mapsService.off("touchend",this.onUp)),this.unRegisterMarkerEvent(),this.removeAllListeners();var e=this.markerOption.element;return e&&_["a"].remove(e),this.popup&&this.popup.remove(),this}},{key:"setLnglat",value:function(e){return this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.popup&&this.popup.setLnglat(this.lngLat),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"getElement",value:function(){return this.markerOption.element}},{key:"setElement",value:function(e){var t=this;if(!this.added)return this.once("added",(function(){t.setElement(e)})),this;var n=this.markerOption.element;return n&&_["a"].remove(n),this.markerOption.element=e,this.init(),this.mapsService.getMarkerContainer().appendChild(e),this.registerMarkerEvent(e),this.update(),this}},{key:"openPopup",value:function(){var e=this;if(!this.added)return this.once("added",(function(){e.openPopup()})),this;var t=this.popup;return t?(t.isOpen()||t.addTo(this.scene),this):this}},{key:"closePopup",value:function(){var e=this;this.added||this.once("added",(function(){e.closePopup()}));var t=this.popup;return t&&t.remove(),this}},{key:"setPopup",value:function(e){return this.popup=e,this.lngLat&&this.popup.setLnglat(this.lngLat),this}},{key:"togglePopup",value:function(){var e=this.popup;return e?(e.isOpen()?e.remove():e.addTo(this.scene),this):this}},{key:"getPopup",value:function(){return this.popup}},{key:"getOffset",value:function(){return this.markerOption.offsets}},{key:"setDraggable",value:function(e){throw new Error("Method not implemented.")}},{key:"isDraggable",value:function(){return this.markerOption.draggable}},{key:"getExtData",value:function(){return this.markerOption.extData}},{key:"setExtData",value:function(e){this.markerOption.extData=e}},{key:"update",value:function(){if(this.mapsService){var e=this.markerOption,t=e.element,n=e.anchor;this.updatePosition(),_["a"].setTransform(t,"".concat(_["e"][n]))}}},{key:"onMapClick",value:function(e){var t=this.markerOption.element;this.popup&&t&&this.togglePopup()}},{key:"updatePosition",value:function(){if(this.mapsService){var e=this.markerOption,t=e.element,n=e.offsets,r=this.lngLat,o=r.lng,i=r.lat,a=this.mapsService.getBounds(),s=this.mapsService.getZoom();if((o<a[0][0]||o>a[1][0]||i<a[0][1]||i>a[1][1])&&s>3)t&&(t.style.display="none");else{var u=this.mapsService.lngLatToContainer([o,i]);t&&(t.style.display="block",t.style.left=u.x+n[0]+"px",t.style.top=u.y-n[1]+"px")}}}},{key:"init",value:function(){var e=this,t=this.markerOption.element,n=this.markerOption,r=n.color,o=n.anchor;if(!t){this.defaultMarker=!0,t=_["a"].create("div"),this.markerOption.element=t;var i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttributeNS(null,"display","block"),i.setAttributeNS(null,"height","48px"),i.setAttributeNS(null,"width","48px"),i.setAttributeNS(null,"viewBox","0 0 1024 1024");var a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttributeNS(null,"d","M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z"),a.setAttributeNS(null,"fill",r),i.appendChild(a),t.appendChild(i)}_["a"].addClass(t,"l7-marker"),t.addEventListener("click",(function(t){e.onMapClick(t)})),t.addEventListener("click",this.eventHandle),Object(_["g"])(t,o,"marker")}},{key:"registerMarkerEvent",value:function(e){e.addEventListener("mousemove",this.eventHandle),e.addEventListener("click",this.eventHandle),e.addEventListener("mousedown",this.eventHandle),e.addEventListener("mouseup",this.eventHandle),e.addEventListener("dblclick",this.eventHandle),e.addEventListener("contextmenu",this.eventHandle),e.addEventListener("mouseover",this.eventHandle),e.addEventListener("mouseout",this.eventHandle)}},{key:"unRegisterMarkerEvent",value:function(){var e=this.getElement();e.removeEventListener("mousemove",this.eventHandle),e.removeEventListener("click",this.eventHandle),e.removeEventListener("mousedown",this.eventHandle),e.removeEventListener("mouseup",this.eventHandle),e.removeEventListener("dblclick",this.eventHandle),e.removeEventListener("contextmenu",this.eventHandle),e.removeEventListener("mouseover",this.eventHandle),e.removeEventListener("mouseout",this.eventHandle)}},{key:"addDragHandler",value:function(e){throw new Error("Method not implemented.")}},{key:"onUp",value:function(e){throw new Error("Method not implemented.")}}]),n}(m["EventEmitter"]),U=n("QkVN"),H=n.n(U),V=n("mpbz"),G=n.n(V);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e){var t=W();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}function W(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(function(e){d()(n,e);var t=Y(n);function n(e){var r,o;return s()(this,n),o=t.call(this),o.markers=[],o.markerLayerOption=void 0,o.clusterIndex=void 0,o.points=[],o.clusterMarkers=[],o.mapsService=void 0,o.scene=void 0,o.zoom=void 0,o.bbox=void 0,o.markerLayerOption=H()(o.getDefault(),e),Object(_["h"])(["update"],T()(o)),o.zoom=(null===(r=o.markerLayerOption.clusterOption)||void 0===r?void 0:r.zoom)||-99,o}l()(n,[{key:"getDefault",value:function(){return{cluster:!1,clusterOption:{radius:80,maxZoom:20,minZoom:0,zoom:-99,style:{},className:""}}}},{key:"addTo",value:function(e){return this.scene=e,this.mapsService=e.get(g["TYPES"].IMapService),this.markerLayerOption.cluster&&(this.initCluster(),this.update(),this.mapsService.on("camerachange",this.update)),this.addMarkers(),this}},{key:"addMarker",value:function(e){var t=this.markerLayerOption.cluster;t&&this.addPoint(e,this.markers.length),this.markers.push(e)}},{key:"removeMarker",value:function(e){this.markers.indexOf(e);var t=this.markers.indexOf(e);t>-1&&this.markers.splice(t,1)}},{key:"getMarkers",value:function(){var e=this.markerLayerOption.cluster;return e?this.clusterMarkers:this.markers}},{key:"addMarkers",value:function(){var e=this;this.getMarkers().forEach((function(t){t.addTo(e.scene)}))}},{key:"clear",value:function(){this.markers.forEach((function(e){e.remove()})),this.clusterMarkers.forEach((function(e){e.remove()})),this.mapsService.off("camerachange",this.update),this.markers=[],this.clusterMarkers=[]}},{key:"destroy",value:function(){this.clear(),this.removeAllListeners()}},{key:"addPoint",value:function(e,t){var n=e.getLnglat(),r=n.lng,o=n.lat,i={geometry:{type:"Point",coordinates:[r,o]},properties:X(X({},e.getExtData()),{},{marker_id:t})};this.points.push(i)}},{key:"initCluster",value:function(){if(this.markerLayerOption.cluster){var e=this.markerLayerOption.clusterOption,t=e.radius,n=e.minZoom,r=void 0===n?0:n,o=e.maxZoom;this.clusterIndex=new G.a({radius:t,minZoom:r,maxZoom:o}),this.clusterIndex.load(this.points)}}},{key:"getClusterMarker",value:function(e,t){var n=this,r=e[0].concat(e[1]),o=this.clusterIndex.getClusters(r,t);this.clusterMarkers.forEach((function(e){e.remove()})),this.clusterMarkers=[],o.forEach((function(e){var t,r=n.markerLayerOption.clusterOption,o=r.field,a=r.method;if(e.properties&&(null===(t=e.properties)||void 0===t?void 0:t.cluster_id)){var s,u=n.getLeaves(null===(s=e.properties)||void 0===s?void 0:s.cluster_id);if(e.properties.clusterData=u,o&&a){var l=null===u||void 0===u?void 0:u.map((function(e){var t=i()({},o,e.properties[o]);return t})),c=_["c"].getColumn(l,o),d=_["c"].getSatByColumn(a,c),f="point_"+a;e.properties[f]=d.toFixed(2)}}var h=n.clusterMarker(e);n.clusterMarkers.push(h),h.addTo(n.scene)}))}},{key:"getLeaves",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e?this.clusterIndex.getLeaves(e,t,n):null}},{key:"clusterMarker",value:function(e){var t=this.markerLayerOption.clusterOption,n=t,r=n.element,o=void 0===r?this.generateElement.bind(this):r,i=new B({element:o(e)}).setLnglat({lng:e.geometry.coordinates[0],lat:e.geometry.coordinates[1]});return i}},{key:"normalMarker",value:function(e){var t=e.properties.marker_id;return this.markers[t]}},{key:"update",value:function(){var e=this.mapsService.getZoom(),t=this.mapsService.getBounds();(!this.bbox||Math.abs(e-this.zoom)>=1||!Object(_["i"])(this.bbox,t))&&(this.bbox=Object(_["p"])(t,.5),this.zoom=Math.floor(e),this.getClusterMarker(this.bbox,this.zoom))}},{key:"generateElement",value:function(e){var t=_["a"].create("div","l7-marker-cluster"),n=_["a"].create("div","",t),r=_["a"].create("span","",n),o=this.markerLayerOption.clusterOption,i=o.field,a=o.method;e.properties.point_count=e.properties.point_count||1;var s=i&&a?e.properties["point_"+a]||e.properties[i]:e.properties.point_count;return r.textContent=s,t}}])})(m["EventEmitter"]);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Q(e){var t=J();return function(){var n,r=v()(e);if(t){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}function J(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var $=function(e){d()(n,e);var t=Q(n);function n(e){var r;return s()(this,n),r=t.call(this),r.popupOption=void 0,r.mapsService=void 0,r.lngLat=void 0,r.content=void 0,r.closeButton=void 0,r.timeoutInstance=void 0,r.container=void 0,r.tip=void 0,r.scene=void 0,r.popupOption=K(K({},r.getdefault()),e),Object(_["h"])(["update","onClickClose","remove"],T()(r)),r}return l()(n,[{key:"addTo",value:function(e){var t=this;return this.mapsService=e.get(g["TYPES"].IMapService),this.mapsService.on("camerachange",this.update),this.scene=e,this.update(),this.popupOption.closeOnClick&&(this.timeoutInstance=setTimeout((function(){t.mapsService.on("click",t.onClickClose)}),30)),this.emit("open"),this}},{key:"close",value:function(){this.remove()}},{key:"open",value:function(){this.addTo(this.scene)}},{key:"setHTML",value:function(e){var t,n=window.document.createDocumentFragment(),r=window.document.createElement("body");r.innerHTML=e;while(1){if(t=r.firstChild,!t)break;n.appendChild(t)}return this.setDOMContent(n)}},{key:"setLnglat",value:function(e){return this.lngLat=e,Array.isArray(e)&&(this.lngLat={lng:e[0],lat:e[1]}),this.mapsService&&this.mapsService.on("camerachange",this.update),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"setText",value:function(e){return this.setDOMContent(window.document.createTextNode(e))}},{key:"setMaxWidth",value:function(e){return this.popupOption.maxWidth=e,this.update(),this}},{key:"setDOMContent",value:function(e){return this.createContent(),this.content.appendChild(e),this.update(),this}},{key:"remove",value:function(){return this.content&&this.removeDom(this.content),this.container&&(this.removeDom(this.container),delete this.container),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("click",this.onClickClose),delete this.mapsService),clearTimeout(this.timeoutInstance),this.emit("close"),this}},{key:"isOpen",value:function(){return!!this.mapsService}},{key:"createContent",value:function(){this.content&&_["a"].remove(this.content),this.content=_["a"].create("div","l7-popup-content",this.container),this.popupOption.closeButton&&(this.closeButton=_["a"].create("button","l7-popup-close-button",this.content),this.closeButton.setAttribute("aria-label","Close popup"),this.closeButton.innerHTML="&#215;",this.closeButton.addEventListener("click",this.onClickClose))}},{key:"creatDom",value:function(e,t,n){var r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r}},{key:"removeDom",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"getdefault",value:function(){return{closeButton:!0,closeOnClick:!0,maxWidth:"240px",offsets:[0,0],anchor:_["f"].BOTTOM,className:""}}},{key:"onClickClose",value:function(e){e.stopPropagation&&e.stopPropagation(),this.remove()}},{key:"update",value:function(){var e=this,t=this.lngLat,n=this.popupOption,r=n.className,o=n.maxWidth,i=n.anchor;if(this.mapsService&&t&&this.content){var a=this.mapsService.getMarkerContainer();!this.container&&a&&(this.container=this.creatDom("div","l7-popup",a.parentNode),this.tip=this.creatDom("div","l7-popup-tip",this.container),this.container.appendChild(this.content),r&&r.split(" ").forEach((function(t){return e.container.classList.add(t)})),["mousemove","mousedown","mouseup","click"].forEach((function(t){e.container.addEventListener(t,(function(e){e.stopPropagation()}))}))),o&&this.container.style.maxWidth!==o&&(this.container.style.maxWidth=o),this.updatePosition(),_["a"].setTransform(this.container,"".concat(_["e"][i])),Object(_["g"])(this.container,i,"popup")}}},{key:"updatePosition",value:function(){if(this.mapsService){var e=this.lngLat,t=e.lng,n=e.lat,r=this.popupOption.offsets,o=this.mapsService.lngLatToContainer([t,n]);this.container.style.left=o.x+r[0]+"px",this.container.style.top=o.y-r[1]+"px"}}}]),n}(m["EventEmitter"]);n("BGjm")('/* @antv/l7-component */\n.l7-marker-container {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  position: absolute;\n }\n\n.l7-marker {\n\tposition: absolute !important;\n\ttop: 0;\n\tleft: 0;\n  z-index: 5;\n  cursor: pointer;\n}\n\n.l7-marker-cluster {\n  background-clip: padding-box;\n  border-radius: 20px;\n  background-color: rgba(181, 226, 140, 0.6);\n  width: 40px;\n  height: 40px;\n}\n.l7-marker-cluster div {\n  width: 30px;\n  height: 30px;\n  margin-left: 5px;\n  margin-top: 5px;\n  text-align: center;\n  border-radius: 15px;\n  font: 12px "Helvetica Neue", Arial, Helvetica, sans-serif;\n  background-color: rgba(110, 204, 57, 0.6);\n}\n.l7-marker-cluster span {\n  line-height: 30px;\n}\n\n.l7-popup-anchor-bottom,\n.l7-popup-anchor-bottom-left,\n.l7-popup-anchor-bottom-right {\n    -webkit-flex-direction: column-reverse;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: reverse;\n        -ms-flex-direction: column-reverse;\n            flex-direction: column-reverse;\n}\n\n.l7-popup-close-button {\n  position: absolute;\n  right: 0;\n  top: 0;\n  border: 0;\n  border-radius: 0 3px 0 0;\n  cursor: pointer;\n  background-color: transparent;\n}\n\n.l7-popup-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 10px 10px 15px;\n  pointer-events: auto;\n}\n\n\t/* layers control */\n\n.l7-control-layers {\n\t-webkit-box-shadow: 0 1px 5px rgba(0,0,0,0.4);\n\t        box-shadow: 0 1px 5px rgba(0,0,0,0.4);\n\tbackground: #fff;\n\tborder-radius: 5px;\n\t}\n.l7-popup-anchor-top,\n.l7-popup-anchor-top-left,\n.l7-popup-anchor-top-right {\n    -webkit-flex-direction: column;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: column;\n            flex-direction: column;\n}\n\n\n.l7-popup-anchor-left {\n    -webkit-flex-direction: row;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: normal;\n        -ms-flex-direction: row;\n            flex-direction: row;\n}\n\n.l7-popup-anchor-right {\n    -webkit-flex-direction: row-reverse;\n    -webkit-box-orient: horizontal;\n    -webkit-box-direction: reverse;\n        -ms-flex-direction: row-reverse;\n            flex-direction: row-reverse;\n}\n.l7-popup {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: -webkit-flex;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  will-change: transform;\n  pointer-events: none;\n  z-index: 5;\n}\n.l7-popup-tip {\n  width: 0;\n  height: 0;\n  border: 10px solid transparent;\n  z-index: 1;\n}\n.l7-popup-anchor-top .l7-popup-tip {\n\t-webkit-align-self: center;\n\t-ms-flex-item-align: center;\n\t    align-self: center;\n\tborder-top: none;\n\tborder-bottom-color: #fff;\n}\n\n.l7-popup-anchor-top-left .l7-popup-tip {\n\t-webkit-align-self: flex-start;\n\t-ms-flex-item-align: start;\n\t    align-self: flex-start;\n\tborder-top: none;\n\tborder-left: none;\n\tborder-bottom-color: #fff;\n}\n\n.l7-popup-anchor-top-right .l7-popup-tip {\n\t-webkit-align-self: flex-end;\n\t-ms-flex-item-align: end;\n\t    align-self: flex-end;\n\tborder-top: none;\n\tborder-right: none;\n\tborder-bottom-color: #fff;\n}\n\n.l7-popup-anchor-bottom .l7-popup-tip {\n\t-webkit-align-self: center;\n\t-ms-flex-item-align: center;\n\t    align-self: center;\n\tborder-bottom: none;\n\tborder-top-color: #fff;\n}\n\n.l7-popup-anchor-bottom-left .l7-popup-tip {\n\t-webkit-align-self: flex-start;\n\t-ms-flex-item-align: start;\n\t    align-self: flex-start;\n\tborder-bottom: none;\n\tborder-left: none;\n\tborder-top-color: #fff;\n}\n\n.l7-popup-anchor-bottom-right .l7-popup-tip {\n\t-webkit-align-self: flex-end;\n\t-ms-flex-item-align: end;\n\t    align-self: flex-end;\n\tborder-bottom: none;\n\tborder-right: none;\n\tborder-top-color: #fff;\n}\n\n.l7-popup-anchor-left .l7-popup-tip {\n\t-webkit-align-self: center;\n\t-ms-flex-item-align: center;\n\t    align-self: center;\n\tborder-left: none;\n\tborder-right-color: #fff;\n}\n\n.l7-popup-anchor-right .l7-popup-tip {\n\t-webkit-align-self: center;\n\t-ms-flex-item-align: center;\n\t    align-self: center;\n\tborder-right: none;\n\tborder-left-color: #fff;\n}\n\n.l7-popup-close-button {\n\tposition: absolute;\n\tright: 0;\n\ttop: 0;\n\tborder: 0;\n\tpadding: 0;\n\tfont-size: 25px;\n\tline-height: 20px;\n\tborder-radius: 0 3px 0 0;\n\tcursor: pointer;\n\tbackground-color: transparent;\n}\n\n.l7-popup-close-button:hover {\n\tbackground-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n\tposition: relative;\n\tbackground: #fff;\n\tborder-radius: 3px;\n\t-webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n\t        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n\tpadding: 10px 10px 15px;\n\tpointer-events: auto;\n}\n\n.l7-popup-anchor-top-left .l7-popup-content {\n\tborder-top-left-radius: 0;\n}\n\n.l7-popup-anchor-top-right .l7-popup-content {\n\tborder-top-right-radius: 0;\n}\n\n.l7-popup-anchor-bottom-left .l7-popup-content {\n\tborder-bottom-left-radius: 0;\n}\n\n.l7-popup-anchor-bottom-right .l7-popup-content {\n\tborder-bottom-right-radius: 0;\n}\n\n.l7-popup-track-pointer {\n\tdisplay: none;\n}\n\n.l7-popup-track-pointer * {\n\tpointer-events: none;\n\t-webkit-user-select: none;\n\t   -moz-user-select: none;\n\t    -ms-user-select: none;\n\t        user-select: none;\n}\n\n.l7-map:hover .l7-popup-track-pointer {\n\tdisplay: -webkit-box;\n\tdisplay: -webkit-flex;\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n}\n\n.l7-map:active .l7-popup-track-pointer {\n\tdisplay: none;\n}\n\n\n.l7-popup-close-button:hover {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.l7-popup-content {\n  position: relative;\n  background: #fff;\n  border-radius: 3px;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 10px 10px 15px;\n  pointer-events: auto;\n}\n\n/* general toolbar styles */\n\n.l7-bar {\n\t-webkit-box-shadow: 0 1px 5px rgba(0,0,0,0.65);\n\t        box-shadow: 0 1px 5px rgba(0,0,0,0.65);\n\tborder-radius: 4px;\n\t}\n.l7-bar a,\n.l7-bar a:hover {\n\tbackground-color: #fff;\n\twidth: 30px;\n\theight: 30px;\n  font-size: 20px;\n\tdisplay: block;\n\ttext-align: center;\n\ttext-decoration: none;\n\tcolor: #8E9DAB;\n\t}\n.l7-bar a,\n.l7-control-layers-toggle {\n\tbackground-position: 50% 50%;\n\tbackground-repeat: no-repeat;\n\tdisplay: block;\n\t}\n.l7-bar a:hover {\n\tbackground-color: #f4f4f4;\n\t}\n.l7-bar a:first-child {\n\tborder-top-left-radius: 2px;\n\tborder-top-right-radius: 2px;\n\t}\n.l7-bar a:last-child {\n\tborder-bottom-left-radius: 2px;\n\tborder-bottom-right-radius: 2px;\n\tborder-bottom: none;\n\t}\n.l7-bar a.l7-disabled {\n\tcursor: default;\n\tbackground-color: #f4f4f4;\n\tcolor: #bbb;\n\t}\n\n\n/* control positioning */\n\n.l7-control-container {\n\tfont: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\n}\n.l7-control-hide {\n\tdisplay: none;\n}\n.l7-control {\n\tposition: relative;\n\tz-index: 800;\n\tpointer-events: visiblePainted; /* IE 9-10 doesn\'t have auto */\n\tpointer-events: auto;\n\t}\n.l7-control {\n\tfloat: left;\n\tclear: both;\n\t}.l7-top,\n  .l7-bottom {\n    position: absolute;\n    z-index: 1000;\n    pointer-events: none;\n    }\n  .l7-top {\n    top: 0;\n    }\n  .l7-right {\n    right: 0;\n    }\n  .l7-bottom {\n    bottom: 0;\n    }\n  .l7-left {\n    left: 0;\n    }\n\n  .l7-control {\n    float: left;\n    clear: both;\n    }\n  .l7-right .l7-control {\n    float: right;\n    }\n  .l7-top .l7-control {\n    margin-top: 10px;\n    }\n  .l7-bottom .l7-control {\n    margin-bottom: 10px;\n    }\n  .l7-left .l7-control {\n    margin-left: 10px;\n    }\n  .l7-right .l7-control {\n    margin-right: 10px;\n    }\n\n  /* attribution and scale controls */\n\n.l7-control-container .l7-control-attribution {\n\tbackground: #fff;\n\tbackground: rgba(255, 255, 255, 0.7);\n\tmargin: 0;\n\t}\n.l7-control-attribution,\n.l7-control-scale-line {\n\tpadding: 0 5px;\n  color: #333;\n\t}\n.l7-control-attribution a {\n\ttext-decoration: none;\n\t}\n.l7-control-attribution a:hover {\n\ttext-decoration: underline;\n\t}\n.l7-container .l7-control-attribution,\n.l7-container .l7-control-scale {\n  font-size: 11px;\n  padding: 5px 5px 2px 5px;\n  background: rgba(255, 255, 255, 0.7);\n\t}\n.l7-left .l7-control-scale {\n\tmargin-left: 5px;\n\t}\n.l7-bottom .l7-control-scale {\n\tmargin-bottom: 5px;\n\t}\n.l7-control-scale-line {\n\tborder: 2px solid #000;\n  border-top: none;\n  color: #000;\n\tline-height: 1.1;\n\tpadding: 2px 5px 1px;\n\tfont-size: 11px;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\t-webkit-box-sizing: border-box;\n\t        box-sizing: border-box;\n\n\tbackground: #fff;\n\t}\n.l7-control-scale-line:not(:first-child) {\n\tborder-top: 2px solid #777;\n\tborder-bottom: none;\n\tmargin-top: -2px;\n\t}\n.l7-control-scale-line:not(:first-child):not(:last-child) {\n\tborder-bottom: 2px solid #777;\n\t}\n\n.l7-touch .l7-control-attribution,\n.l7-touch .l7-control-layers,\n.l7-touch .l7-bar {\n\t-webkit-box-shadow: none;\n\t        box-shadow: none;\n\t}\n.l7-touch .l7-control-layers,\n.l7-touch .l7-bar {\n\tborder: 2px solid rgba(0,0,0,0.2);\n\tbackground-clip: padding-box;\n  }\n  /*logo */\n\n  .l7-ctrl-logo {\n    background-size: 100% 100%;\n    width: 89px;\n    height: 16px;\n    margin: 0 0 -3px -3px;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    background-repeat: no-repeat;\n    cursor: pointer;\n    background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALIAAAAgCAYAAAHBIxK2AAAABGdBTUEAALGPC/xhBQAAIJZJREFUeAHtfAl8Tkf3/9z7PNmDRFbZSawhQcRSaqva1xCqpataqrT2UkuUUiqlaKtafe1VS1pUiypB0dIgIkpKRPZIELI/2/zO98akN48nltL3838//84nNzNzzpkzc+eee+bMOXMfxijNaMJ7LOrGO/HdYfZ8fb12gD2JJINJdR8WNHVQnRtSn7hilpz0u2DMKaEcFhZmhdzLNbiPyNVlwPxcm4Qh93Fr0gO4Ol5hfqiz6Q14G+QzGpYzQ9nXrUl7X/fgbrXdG3skX7m26+bNW2fQqJ5XmCs6RQKd6EQwB0zgtKgsvCidGF+N8wV/SBLqSKnXzx2WKIHw1xNxq2xtrKsBXqgrbePt1rivJFmloa5OoD129NcVQwa9Phxwaflw3ifvHCus1YIVjW7fwEF66dIhdYO/XV7Qk+9HY/5F7RA+w0G5TdRxq7gw10FBPWwA+3r9jpkYGcoJ5/7YiFxMiYCjLspsekOeCiJ1AhJJNER+8rfTX/j4BNcUMNCLMmhF+wC3cE9RZmMd/0IQjeTtGdwJjURD5EajsRQN1EwEHjAkUVce2LLhnKf8xGId3ZhkX4uxmj7MMKqJz0ZmMr3MJNZBmphV8WDBOCCgo+2QiE7DF3005wvU75e8vMLs4+P3HwwN7do5MzOu2NcjpPHRX/csCqjt2wvtxEAy8xJ3o+7j3jjkcurpn2xtrT0EPiS0oQPKSOfi/ygqL9H/qNbls8EXuer4+65xUa149QnBvGYFgapAN21EZ+pnuH3rrrnKdNA/zCRmjoqGzu36RoL21q38BLAAjRgo6iir63g1QAOcOoU27DAgwKtpPzVMKU+qBWIuve3Jx0zw4j/eQ0CASeNnjUi5mrYH72ZxUfFV0emJ479/BvrM9KxDAgZZEjziTp1d8+pL415sEdJloIAhF7QCZmnQoCkuLkkXNPfkozU8b4wVb30P4i4ADNQ41P08mtSBogHc27Vx70CPEHeUgRNwgUOuTqBR8wwODraGSIkrKipKxqVuI300mntri1jz9OOs0IHeHUdvms2t0iG+vn5nxmnan5QeUff6GGWttpidSjvGbCSZJdAAGTMwtjWSH2G5XrOp3oEv9wuWxqdeUPchZkW8OGqcedmcdujgUcMOH/zltmgL2YW2Fu22fbMz6q2xM+IEvmvHiCGyRq7AK3QLe959+T6v46co0uVBisLk0/9SqIIhcnQiVBPqULJ4dPVd2ypLg6Dx8wxuhAGDHrCOHTtqUfZ2b6KsYYIOuUiXL1/dKW4SMJRxkbbpG9nv5ecVutlt+PSoNvw7VPg8V4X5wqf4YQVp9g+NDQZDITr2cm/8lNIGlbvp+edGD/946eqJqOKmoBJRhjyjrclk0qlZAqeumw8YOEwE6ILdgh0raN9pcHeWx9n3mViPh9IKnlmBVBWI4bfoePDAEcOGPz9WWUDBzMe1cUdft5CnUfb2DvFR8rsz2avrkOdmT18wJisz5zDaqthVWjwAtzRgtBF9VbSdVofXIPWmB2CCouYqUBUFH59QbwwEqg0XykAi96/VuCEetRrm59msEfA+nqEtAUeqNEt324JGJEsDxpMi26gnaCpUxqJk6bahkGFp3akrZO8IBurcVGponpGW+VOdQP++uIAznzE1/cBBvRRZTc+OP0miUBJ78OiyxNxE6uX+KSP3vDIZuEE/z9BgWZZtHHj1oxZbkS6uJFNqIn+SWSy1AubjFtLd171xoHrQooyFQJRB7+0eHBrk2cxNtBW5mgYwoYNFXg5r7CvoFXWxajQ3mjiTc84wVkB2kTWt5NYk3lZ02SCvzphDDVrNZOY2p3mdA0wrhQoGSm5ig6SRyTsqwSxUaMKk+t4tXJIy4/IsoP82yNu7pYusKwk2WdslZmScvGHOyNs1tJ5GNrjVaeT2W2xsLCnuv5J6woQq/QtbXoLCMJqYtbWj208pKbGK4aamgWJR19XlCvpFEdxn6SDOl0byAjXB/cp8rlM/PteZ83k1T92PTuAw0Ly8GychmosWLB/v7xFSW+AeJQ/0auyLiYFEBgQ0dYKdDRsJfFOvpe0V76fgCVrgkNQTao63hAONr2vjFtAFltoTTFLzB415Al7RFdNipHRviWlLbzCHhZ05HxfEy9e7T/zX8FV+XLk+96e8Tl0xOJZfOpjdKp4kzboZXgGrouDj1rTunHnTQl1caoZ/unLNlKnTx32sNxobR0ZGakQTDCY8tEtEkG+LfihDg+NC2ccjpBXoyMTqVaLjTaFLduxe219XqH+67HYGKU5D0pbN30X5+vl0a9m6mZOPTxvFUIayPRAbM1RpS1uztp0a/SD6e9hcYlKVqgi7QEg/DAyRsAUsKSlNLyvT56Bs8e2Ias4LZzfnfEowJyOOVocZDs9jt8YnMDvUZzblZ+jis1rwtqg/KMHgwEThCUOCUS64U/An6iiL9oIGcFjwqMOQQB0JdTyEXd/tfR/1rMzsWCrPBxwPCxJMfJMELVYq0KO+fNkXk6CHRV/qXPSLXA0XZejpqiRZ0IgcY7hzu+AS2TB3quInaNnU2vzSlNqcT/fhHSqAVJgawAunEXxCPU4W9MMlcRN0ryZMAl2XcOHm6YlnYgMAToIOuxks+YBBErGrAa0YtKDDDkeYAaBFErjSUl2uKOfm5v1GE9y1nOLe/4IO+b3YchfKw0wy3lZ6m2arxyr4KV4RURH54qtS/fGufEMZZ7Hja/Ko0ptsgYML0+kKGM+4wbTbmGQUtPfLMfBrWWc3gIZenX4aJmUp9OQdqunk4nv2QmzMus0rO730wtj0qu2DqnuQjCYbrOjYrINq5JuRe/CKQp3QtRMweivm0yur+FBQf9xk6WFQX99Tvw2GDO0390jssWXW1vKf6n4q7Dc1EOXledJwQxF7RV/EomQbptMXssJlNyT5YSe4dq1m/s907eik1WprNKjdur9sW/1AWt7535Ur6/zvN2/lpcds/37eM892mEgTXGHuHD1y4qLRYK0YvrJsMly5knKu0tg0csmObbvfC2/ZbETK9bOnW4TU7xtGEw0a2geZbKysz/Xu9txQvV6fX6VOrMTw/hVsdF8b/tbGgX1feqF1m7Bq5hda+/o+pVgXm9Ztmzk0ctTBlMyEi/fnaoZ9g3HH1xmv5GgwI/m3+oAZUOzkj4fx7rQBt7qdxnhJDiuj/YlBe9dG1pLNbF9D8c2dem2xVMA3NQhjBk6WMyVaelmZVaL0+vmcB/Tz/zVa+8lIPlWW2SLMQh559ZSNCE2sbCq/FBuLyrrbLJVHsYZMr/sdfpiKJOv1pOxtyISp0tQRtHXqhNWQZffSy5d/LBOwJ5H71mrcAnzSSA2Z84ObJPlCbiujSZubkRefZI5X61hL5pavbzMvY4kuTCuzm6nXE4+Ztwf/lBRmcW1zcSkwxsXF6bWmEnbQSPJsoqWMZumwUqYC7QCVi3Y6tMmnCZdYDItiJezj0v3MaLJmRmXX58w0zKJ3w3ww2IwE+fk7JSUll9b2Crl4NfPcJXOav1OH7fyfdSs6cS7zl18Y65GRd36Pmk/S+dwex0/tHTN54pxNJ0/I2tTsM5WccqDFQgn9rW4nyphg4J95ut9gZis7p6Ym3BI4L9eQ+sS/ntrbLXDIE8/fLKaHVP7goyN5whKyKKMHcsWboSasqsznORfSRYEaz3v29uZt4JiDxMC8QVJLjzntg+ow+dBe7BhRJ1MwQ/AVkRbwQbBj7OtTXgVu49qt79LDrW/OX4yrqjEJ/OIPVrwlfM2CB/rW6XQ3wd9SgjsM41SsC9pLt+H0AptK2fdRjFdYHHwdhY0QOsL1VZDimkIHfLLD8xThcmCF+p3SjOxc0WlV+Zervm2x68dN/QQ+MLC2DVSHqOOVw6ZFXDRgCXjUBQ1y7Py+3bO+HyQLO0bArGV2auRrkxRv1orPPgjXF6XVARxJz0vCPvz4vbkoT50899yTenvAD0ljLx0L8Gr2Et4C9XXnTkEiecNKv/xiU/q1nHNXlQmN2iYVlpWwL0qLmSR3ZNFgQCpCogXuLDMa45WrTH8AcCVpTL8Q7ChbVDhAgO6XmwwGj7AWoa9lZ+UcBt3ufZvn6Ar0bUSbP/+42cJQ7NhbNjj3ybpW2p0G3LtP966DUIYk0TbZDr4Kk9Ho7lXLw1+0g6qo6Wtz8+f9sfmARQzqPZNWiCCBJ/NLtrOz9SkoKPxDlmT1SiJIHiuH6oAeF5e1o9XRGjWqa6pXrxbcqlm3YY7Wtifu6WDeU1xHF59an1cDki9wm8nnU7h3AV0fergDNrsln0+BtKUoP0yizYJr/57DhuJ1wnY5/mziepTVr6e3R0hrsbPLyck7BrxIZO/eAi2uuwE4I3Aok5rIAtzPPbjtxQuXtgCOOtQTwkqrPvlqMmBd2vcfDGeSpfGCXrS7H96SujCnBy+oj6LComSoEoGvUA0A6EvZ8DLaO9nYsUOoSzNy57Oi4mJyBu2SpuRcj2rGvZievUsRgleBf5gk6cpabd62egFoaYtr6NFl8DaUoz96LzTAq0kDlNWppLhE2UTg9Tuf8MdG2sw4DRjQU9H7e3b/FE2vomLoU3nJjm92rYSEwoXZuX3EJvDZsWtdz/+sjGlqMJqCXx/90jzALlz4syQl5awi7aj/EwnxPfC1srJy7ti232Sb6jZHRT+VJvm909I3pjKWayxjYdODeLkO1hnC2OLC/mhQWsJO6UvInCtjHQWDB+XKK2tvF3Dq5JkvVR4t/tzwiHk6namuefunwruvEq9ft86RW4Ef9sqQcK2WXRkzYtKBgtsFGYCNHjHpt3enzd+cnpvwo8pHbKQd2Wg9M3qDhjz9tqd+O7tao2XZqP+TKf8Ga3vyzP630EdGRpY+OTnutuiv0iQDqDOxVgaaSDLpjqMuResukoXHpwTw7jT5XnQlfHBBOgPcgxIiEqu+jG4NuoYN63a4mHzio0vJvy7Blhcwa2srWW0NAFZVgh0uaTSKj0LQYFERZVmy+WP1Z2uno25vZyd/tX5FO5T79x72faoF+xm4J5m4geLOPl7PHPvl1CeyLF1T875nkpdckq7qdOwIqY4aEz35i+XEXCYJ30MXs7dnSghSzaSqMunN2n36dZsBfG7uzYt3r0vpaVm/AHbkxJ4xJYWpD80PbapK6bmnL8+dvURRJXsPbXu5W49OU6n/ItA/zEapKr4PA8fC7OVVS1EXgwe8sq9Nh4aJ6nYWdyrFmayLvQsrIwleF8n4Jk9ntlCvo00gZ6ujE6UHBujQAZw2ZY52Cv8fvj/wwahXJu6VGFdu2sh4rdTs+M6+fl7dSAI+kTS0yfkbCWEndbhJIzPdjRu3TgcGBijqbcHc6Km21iz+b7C22KTEaGxFi1slHDyLsrGgKHr5kvYCsW3btkpeynskGYSrmaQnvTufLubhyL6WDGwK0zH9ypvSKMHoQXmuoaztz0diJoHu9VfePp6el3BYeOGstVYJ0Ys/VSR81OjhPmQqKAvbg3hqZNOd9PTsZNAt/3Rhi+5dW/cmy6SzaGfv7HS817NDlUUWsFWfrU9LzkxMFfjHyadMe3MZ7HPzCwJjMnK/8JbNI6rib1GSQfxpoTT7TRs+mYzLSJJoWkTYsKqYWIIbTNzWuaZTA0iWOT4l+2zKxx99fpXCUKxXv+5hn6/akP7n5eRztbw9O5rToi7cnx5+0rWIvi/uSU4/M2BgZJ/ZAwb2KiO9HynaXLp0rIAkTZeff/tc7MFju2Qm0T7r8RPcnJa43MjL1+PtocUif8SrE2ZkpWWX0Tmbex4q5q/KNFLLO8mcHSTXRc7nRsmzSkILCOzWsJkAypLjBXE4U+mdtmSCGclC+AEbC8US0Wh+u5Jz7jraIWREYfRGuJG064n7AAvxCHHIMxorpLcac4q9lHesYjLRb06qrgtZMoVpuecqzCi0tZRg2wq4pXEiKCDwlnIRMMD9WFvrjGqrwhK9RRj5kp+bwLgS37NI8C/wgTOgSPLyV7ibxoa9Rp7kV8nrVo1E3qSjJSr/CuNlBUxHTswSZmLFkhWTtLSGUqSEjO7yXEN1DZW1FBuQrQllxzK5FVuTc5HtnnOIwlRf1X6Waa1GM24KoNGQT69SkpiGFtIyYwwrMK1jb1+9/U9bApV6/7fyxGYAwewzZ1IdiosNBvF2PzHmD8FIWfcoKPIV7ZZ7Q8rImmJGPWPpR0jqdMxEAs5IgEkWCUm6mf6YRITIOXIFUC6heCvIyguhPIR5s1PE9TYrMixlWkM9ZqRwC2jLkywKSm4tPc005KKeOxe+qb+oKhE9fAUOvLLi0ubYH6AVNpoaLU++lnWezs8/OLbw8D09GUp8HkB7wHCEEwVHjBkOxqvX7x906kgOzMvn89qZWLm7SbSXmXwnqLHLMdVmWKAq5eolSY2wtDyp8aIcFNSqekl+Uftjhy5IbduGV0tKulrCdMEGrcRupeYm/iLoLOXkMpJqe4fUN+hZHRM3keQ9Wip3IGiSEIupmLjooXwByeoUA2daCrSw4nx2Kucye86qhJUq7MUKSznt+SqSHcq0KAqY1okZxqySrlcQUIEvJ7e+RDocW2JdmR3T8K0UT2lOwk1viKQnh2oUuaIqrFt120ct4ySGwaALHDPuVb8ZM9+OxjlFOh95oGXzrsvpxk2e/jb7ERB6VL6PQw9hS79427lUqzOOGBGZj5i64IcPYUp1paHDXxzs+UH07NUCvnrVumlzZ334h0ajuZqWc+68gKtz+Bq//CSmq4kbrRL/PDbPyalGKPDJySm7n27V+wtJywozshMPqduYl4Ugw/oHDm455A8ryDjEhp3CkV+/HxEYGKC0/XDRyreXLVmVbKeyE8HTPOE0DNmONhS3Gu0f4NPTHP+gOj7JGRwx4icYzRU7kUlfSzMW9+PJJMTLS03MztqahXs1YuuK8tmAqFgp70FM74eXxpeHTvhkR3eKY2wic6K5YmRoWBE51UdI825tuV/7h8Uh1qQzFAf26vusy8zZE1eKdt6+Xl1ooovbt+795fVUXRuC03rzzyecisZBYwoCsvETRgbcupFfunrl1mwSHtIW7EpqduKF5My4VBIG9w3rt7L+g3qtggsRI3t91IvzNq7d/sKVK1drk8bOtaSZ16zc3pw0sdV332/sLYSYzofd7tdj+H/Aw1O2/S0DhX8wlWvFv7eI0jpJqs1gs33brv09ej6TT7wqFKulIbt7utalw5RKxJwO4+yCEGMDFdjILbFCkNFw6k7py0XP8qu0Fm8nl4UTcW1nY81ORHXjPaL2SZcFcxq2xNbUXsSstB0oiCbA5TkWCCMvYQbda9KotCuVkCbTQGYyNCFb3ESh72wmayOlRbePV6L5m5UAOh+sK8wNh4tzxaeLF99lY6KjunGuri7h0BZf/GfZBfhQfDyaNEnPSUgw70o5bm8yuZrDUcdSTXftYL4EaiT5tobZJqXknsq+p52e+wB28vT+cfQyPYtyxOA+nw/oPXwPyiKl5ibE+Xs06UJb9x/OJB4OdXd3aUMmkPX2XWsnNAvu8EGZJDWhZfi62izyouPDRh2v9cabr/iGt2o6UvCa9c7CqfQFo0Gy0ZyJyyg/uiZw/0SuNocelX9qbvwv8F5+suxzv6VLPo211J6EvRZWnCXL5jUb+sKAoaDBh5SYKzyT1JxzRzAvlQQZRNN+kn6Oepq3JXn8gar+JKZBRPQbffnSJ+qEpAgdCTjnt/UbGCt7jkq+lbZwVmQqGPlcaVJWhRBHPcXd6ciG29xDbOecNtIGCm3VkKJLnqiy0JfcbIvxxx7fOc7Gxkpx6G3ZEDNn1rsLEy5cOb6GIkIuPXt3eef5FwaO3LxpByNteTM9Pb7yGO7az7+fPTBR+Km2bIyZPWPa/Pi1m1b0b0FONnt7Oz/0g0Su6oLLSVd+GP/G9G9154uLtZL2lsnGPo6XFjyDB0wx33JCC/8NBoavKQKBogB8noskH89jxs5dOw78MC7h5/VkUjiSQD+1fvPKDi8+/+ZhX0/lawzl5bv70jZ1dHTQTJ0xfr5gv+/HQ4vXr/smC/GC9Ixz6QL+T+aPo5ExrvT0E/BwX7I0RoR9TSajFebgmWc7TgINjk6OG/POKVnLctKzE06SECtNK2+67nKLOipdIEEOp7jI73QKg+lKWE3aDB56N5wPuUvCpInpCazEEM7yS86wQloh7tBVXFLEbpa8REL8fjkdl2Y158NItDOp/XnZimXM/ZW3lJY+WSH2dwttRt5o+6+3r+6C4A/6Tkq6EjNp4uz44pIS05wZi94V4164ZNYSN1cXKyz54hyowFnK+0X0GJGccXpneKuwQRcvJB3YvXPfAgSX6CPVeBK2avUb1huy79COLecuHp1Dx5fgU+wCId70zapnhNdZaGPwb9mq2SgBRx45uK87p1Xgjh3NjrV0FmHm92YtnirGggfYp09XV5PRFIBNIeDGohstke/9edtrCNmifC0l/YdXXxz3Cxy76dfPVz4DC4L/sYQvkhFh+HT1h62EEP+45+dFEGJ8xp6enXhSfUsWBRkEM45KubIDe5qE+DsE9XSlNM2lbMv0YP4OxaJIzsm+ePd6DivMb8vu6GKYviyJFRq7Se/d+hq4KMa104PZLBLgDXRiRkPhbU5h7s03PNgx4J9UCvBsGqDnBh/YoO07PDUefEtLyzK7tI9Yh80dQtTr1m7JPHL4+HLg6GxB9f2Hy0M1CNtg5wx4VUnWaO1bNn12YJBfizf69hr+5Zujpqx5PnLUp43rtZvVtFHHCBFAdHFxDlu28v1w8JEljf6FIaN/FseJ8DGe4I9wvYAj37Z113XZVnsaZxUyM8+nkYJJw5Gjn386/JFos3Tl+3NQ1nMpDB/aGbmpxkfL329Wu46fcqiD7je7U9u+n0M72jr5nhDt/ldzH7fgIJOJ+0+aNjaw34AeihI6ezph7YiX3zpGk3sjI/fsWfN7q1KQQUibvNIF51kECfMysmuNlFPUjy2sHchWvhzAyXNM9aWshDTsQOmD0vrShwWKkI704vZFddkXRDuXhJgsELKYS9n7CxKkF1b8KNFr8WQS3Gw6g74JztRNeefNDwXXyeNnzSIBI88gl40GpkRyhg4aeeD69RvKQ8aSHbNrfS+Exvy8yn9OQ7Q1z2kCd+D8BDZnGdcTTqTmJCTjRKgky3nQntezc0+JNl7etRT7WqM1XcOuX9ZoKnlvBB1yrdb6CmhwqU2cjNzEs/A2vPj82Nj0tMz9oLWzt/Pfd3DbYNjntJmr06x5Ywf6ZEIRbuBHvz5lWplOp7jrnvRxZPD/byZ8IE0u3IZ16wbaTpw8Zgn6pjBiQq9uQ2Po6/SyjJwEiy/qfQW5/AYkvviyNIEEcgIFqstweou07GgXA4sZ6cxrlNP89X9MDe7sILM9JK4v60CrYyUlejZy0Z/SrL+oHr8EB7w4q7hr78ZZcLMJritXL16jXr5FGZsoQdOqTfNRM2ZNrGvU81pVfXUGWnoZlN2seqOl8PgH/dFWtm4noF07te33KX0GmIv+GjdpOIzs4SCUN2xZ9Q5lyrPbuuW7uT/tPXjLykq6bMmzAfr/pVQs3WmG8W785rMRlCkr//w50eWrKWPx9zyHuzenvZs/MItOl1a85cGvajjbpJNYdYpd97C3YkfH2fGeK0qkdDCg3x4JoI3fXknH6hMNRnFLx9igZTnSwQd28IgExw9fpO9PTVbQVOR6CkFzslvP0pI/+36scLwRp+9A88a4Vxbt2bV3WHz8hUb0uzm3yn9i4H6tVbgHmCQqykcuptBX2/6uYXFk37d4+413pn62Jvo/YPLm+Nfmt+/QZouzs5PiL066dHnrhHEz4xB8QLDnkTv6hxuQtyWAPESKXV9VV5JReyM193QWBNTXlT4Y4boaeGF9fL26og3cbF9vjsmRtdqcq9nxVX6R9NCCDKYf50jfv+3EO5gYHYbjzItATZg1OzVG5t3IFrWmjeGPpL9cCQ8HXYpGw3rQB38XUX2SCd8ilOmMrouXzAmBpgJvsnUNg/u/shBlnMC2dD7Wzy24HTaAzVuFxtSrFxhBk6fd+u1X8+rXaT2Jlcmt6ZzVHQMYPKEk0SecYEVnd/WCpZNzjZoKjII28FrgvK9tDftjly//dkfQIL+WF5dF9nDyrl37WLeYZ+b3j+g5kzaX9s2aN3kV+OLC4iud2vXfiMMqdYJdfk2NBfT/jfTc0P49unXrVKXQiVEWFhUXvT12xgHaK+jpxf3doNH7IUjWf0DPZwXNvh8OHkFZMsiKshRw8/yRBBmNl+VLZ0fb8ZayzH4krdyEnpQnudbiKRxMAbry9Y5gJwnfOzpfUpZF804fp46dOwlxvY5dnnZ64aVIRbOC39ovN8/GAW9ZsrpoSYhBU82dnczPkbpiI5iUcrK1ra2Nl2M1x7oHf/lueOd2/TeYmEnxAID2iSSDdQbZVp6ff7J214IPZ3YnnnLdunUiyNSJuMvfSC/fi8eOnepAp6EOnss5Rydc/kp0EDORfuXOZeyoqSeDmzSIQVtg8Q3K4IGvzkSZW9vd87sdgP+3Ejw05n3hFxroMgffU6f7KBs4uM8fy5euTjFKRkf6ks4FRJ61PJojL7hTePH99z5Kwsuael3R2gBbTPcMwiKVBeBkxh0KtGw7mQ/dhbeUynihvrU2sKEr2JPb1Km7h238a+ylp4zc6IRNXsdObV3JTswqKCw0kUeCNmLxiWp68zLOBpTeLm5LGydt377dXJycnazhewUd/K/YLZPmk8aOf80/LSW96Ntvf8jFRGodXA5iyRf88Es5xQZda0GbkZZVtGP77ntocaKXlRW3wQOv5ugot+vUyqluUGB18CGT5hZ+jwuOfRx0FbzVOcLQaz7Z0Q6eCsDRHzayiodCI58URwXVbR6l/Lghavw6hYGZsDr/rYSNLSKQcfS7AwiOSGWF4eJewRAmRVAD59MPOjPytwUZncAN5yyzhVacDSFlbDJIbO1qkzQXuP9Gql+/bTXj7WLbUq1t4V3H+kN3q5zWOnq5Jn05Jdm6GvMTExPJnC9PCDgYC2/X1Mp6o38j1xv3m0Q1LT5wu985DghlzGcxdqUaKzvSRpLJXtaFhdUpND8mLsZhKQcPuhSTxRL+UWFCkM3bPexZC/N2/9b/nYF/Z+AxZuD/AA8zEhkTLyOGAAAAAElFTkSuQmCC\');\n}\n\n\n\t/* layers control */\n\n.l7-control-layers {\n\t-webkit-box-shadow: 0 1px 8px rgba(0,0,0,0.4);\n\t        box-shadow: 0 1px 8px rgba(0,0,0,0.4);\n\tbackground: #fff;\n\tborder-radius: 2px;\n\t}\n.l7-control-layers-toggle {\n\tbackground-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAAGf7Ah0AAAABGdBTUEAALGPC/xhBQAABzdJREFUWAnVV3lslEUUn/l2F0tpwdAih1HEqCReDcphNCo1EkgFkXa5PNpuC0Fo2e7Wgko8KiaKWrvbK5672xYFpNtiRRuNiY0aURA14BGviBcVlaKltVa6+42/N9v5Mrtt05rwj/PHzjt+8743b+a9N8vYwKgMNlUQyemnMtAkaJajvb3dToQSGp8e6boopkr4VYgEMYwO0vhCTfMVzBcMf8bx086YyODcuM80zTqp9IWat+7evW8sMdIxIqqCLa6oiAaJpuEtcBqcc2HEWMZ0JclgZR/Nchf++ubrzKjJSguXS4tVjXvPjfb3/UAAacGTn/MOMb7QnjNpNqP/bKZ50Ai0tqYmCi0n4zbM+W+lBc7JBOa+QPhDwcTsxJXE2+32edKCL9h8hRDmRzpIOWydAylhrcMfDN+ugBRKSdP3KwPhsFJIPth02FISIYQwYsDYcVfWhy/Bon4JgumffMGmiGTwQ0B/sHml4q2ZFAD3WQIQVhx0IdFw8B189lolN+w8w5PnjPmlhJgtA8/vfn3iye7u3yGzDljDxZEG4097Cp3rSSjBtMHunp6vFR+HHoIxmbgTe1xHKssDHecLNFUjMzbqMs5ZlHF7ute17M84+TMHDzr+OvR9JwKdCms9yRkzJq6bPTsWXh05QOPUN+PUHyPWMPhm6UHd7vaUohWZPSRE8OqxpTyibQa/qcTlbEP0vwF7AWUAT3JM9dy69FfSNza+MU4awNE8iQtXSkJuGLleV852ov2h5jkwVof0mUs8aO4LhTuYYFOAjExId0wcFIPahpaLTkWiX9ECfHG/sLNi1i8+HODfgLFFRI96+INNi0cNTgTS1obKQh03aAuk9DeELzcj4pACYivvwvXrFK/PcQZiQWo+hmidpYMUjQC7EOB6xdNsGfAHwk/RDdOVw9Dm+NTUSWtWLDohDVQ37JkbiUT2DwMeVswZP+gtdM4x3HnLDhjcGM2XLWOISaenIGee9MCSgqgMht/H/q/SZYk0qviV3oKcj5XcioESyOoqIseFYDYloxnAGm/hcrcuk3JV2XBMl+pKqn6mENux11+w12m6jpqMMFn7rPPTHdwfCm8yTfG4tMaNu+GepPUFiqbM7T105ARSPQU+dY/LOC/N2gI65WEkyWUEtjmSppfkLvlRLaQ5VnZFDtGGzbheNRROKZmbu/AvUvh3tE4Wff2/0IUC+y2q+4VVoXBW1BSvkR7Rb8BW84lWJQBdlGozcs7GLy3Nd35OSqTxBqtfgkc1+sPjcqbDgEl6xK0dH5lv545LOCVL1/F+3CoY4eyY1+WcBiC2KYEHQBd5XDkyndE17xCm2Ug6BLcSwb3LigE1AlOYu6TS4HUwVEw0Df1osfBnLDwnpiFDCQPuvQ73Fkqxg8/hEVYLXt66MXbbzOK8bKre1hhkgDT0RDja3fEHytwZxCMLH0YWPkD0fxqjqUZDejDSV3z1LbexqPkEPJxKWLqtKOGbvPnZL460NlE/KgfkIZiRrfjShsQcG2QQDUwwXjcuZcID61Ys6ErUJ/LDOiCfLUzUjVQdEg0O4jn/ABEq0iuIjrEcwE0x/KGWNbjPj4BO00Gni0ZOoIPzLR5X9vMqqaQDqDzzENra4V5zp8sBZQcROYjsLvYUOPdbEVBKeiZ193QjCmwtZCM+ldS6EWYTH3wuNSV1i+pFCj/IAaWgGUfBq0N78qPM3DZcp9TxcTQeyzZm3ON2LatXpSlOP8BIB6qDLddHmHnFrBlpNZmZmdZbNXEB9XsRlZXFennqGHzoXW5DaId4iSoc/Q365EjnRjszPnYXZL9NDWUtGsqzCjAw7xprTypbn7fkaILcYqkInzzeX06C8emO8sKlS7stZQLxVMPes/+O9FVAvEpXob+utY6gZmfrtMjf/RUI+2odhF7wJbq+Gzf3zTj5CAwyaoEwozVoCzN1KKK00z7WUbZx9dIOklsO6CAZpu87i5gpHoJ8gtLh9vZixSO2KckV7qysf5Sc5uq2tjOix3rL0FW3IJuSNV0XM/iDs85LqxvqeKUD8n3LxUobt5WVuLJlS9IM4O9i09VRwWtxLWfpcix+hXjs8mZdjn19YuOiuKRgufzXqOuqQi2r8O+yAk/tl2Q/RMW7ETe8UdX1GJhHDM5qjDHJ5e7bs07qBp7ZsTe9t6/vUXykkLKEdLFbLgLJSUn3rrt1yXEdX/1C23jzVG+5Keg/B5r2wJD9g/NcaUAJq4MvXxxl/TWoATcoGc0Av4eUKnIXZlsvXpLHO0CS2KgOtGQgdeuwqWuUjGbUgrdszLHRXXDLF0oe54AS0kyPnc5Iz/2CmV7EeIzSwcjvsHQPXkUhld/kCP6Xu+DRNjg/SWHh+SnODF+aPeVh9XCydAPEsA4kAqsCzcuiTPiw7+maTj6SwGsVk/9gY9xbUpizR8MNS47aAd0C7s35CG8VdrxYyjl/FcdUgo73nY77X9D/Au9RDMh+aBoVAAAAAElFTkSuQmCC\');\n\twidth: 30px;\n  height: 30px;\n  background-size: 20px 20px;\n\t}\n\n.l7-touch .l7-control-layers-toggle {\n\twidth: 44px;\n\theight: 44px;\n\t}\n.l7-control-layers .l7-control-layers-list,\n.l7-control-layers-expanded .l7-control-layers-toggle {\n\tdisplay: none;\n\t}\n.l7-control-layers-expanded .l7-control-layers-list {\n\tdisplay: block;\n\tposition: relative;\n\t}\n.l7-control-layers-expanded {\n\tpadding: 6px 10px 6px 6px;\n\tcolor: #59626B;\n\tbackground: #fff;\n\t}\n.l7-control-layers-scrollbar {\n\toverflow-y: scroll;\n\toverflow-x: hidden;\n\tpadding-right: 5px;\n\t}\n.l7-control-layers-selector {\n\tmargin-top: 2px;\n\tposition: relative;\n\ttop: 1px;\n\t}\n.l7-control-layers label {\n  display: block;\n  padding: 8px;\n  }\n  .l7-control-layers label input[type="radio"],\n  .l7-control-layers label input[type="checkbox"] {\n  width: 14px;\n  height: 14px;\n  margin: 0;\n}\n.l7-control-layers-separator {\n\theight: 0;\n\tborder-top: 1px solid #D8D8D8;\n\tmargin: 5px -10px 5px -6px;\n}\n.mapboxgl-ctrl-logo {\n  display: none !important;\n }\n .amap-logo{\n  display: none !important;\n }\n\n\n')},"kQ+U":function(e,t,n){"use strict";n.d(t,"a",(function(){return he}));var r,o,i,a,s,u,l,c,d,f,h,p,v,g,_=n("lSNA"),m=n.n(_),y=n("lwsE"),b=n.n(y),x=n("W8MJ"),w=n.n(x),S=n("k5/I"),E=n("h1nZ"),j=n("o0o1"),T=n.n(j),P=n("yXPU"),k=n.n(P),O=n("4cb6"),C=n("fbvF"),A=n.n(C),M=function(){function e(t,n){b()(this,e),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,o=n.offset,i=n.stride,a=n.normalized,s=n.size,u=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:o||0,stride:i||0,normalized:a||!1,divisor:u||0},s&&(this.attribute.size=s)}return w()(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(e){this.buffer.subData(e)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),R=(r={},m()(r,E["gl"].POINTS,"points"),m()(r,E["gl"].LINES,"lines"),m()(r,E["gl"].LINE_LOOP,"line loop"),m()(r,E["gl"].LINE_STRIP,"line strip"),m()(r,E["gl"].TRIANGLES,"triangles"),m()(r,E["gl"].TRIANGLE_FAN,"triangle fan"),m()(r,E["gl"].TRIANGLE_STRIP,"triangle strip"),r),L=(o={},m()(o,E["gl"].STATIC_DRAW,"static"),m()(o,E["gl"].DYNAMIC_DRAW,"dynamic"),m()(o,E["gl"].STREAM_DRAW,"stream"),o),I=(i={},m()(i,E["gl"].BYTE,"int8"),m()(i,E["gl"].UNSIGNED_INT,"int16"),m()(i,E["gl"].INT,"int32"),m()(i,E["gl"].UNSIGNED_BYTE,"uint8"),m()(i,E["gl"].UNSIGNED_SHORT,"uint16"),m()(i,E["gl"].UNSIGNED_INT,"uint32"),m()(i,E["gl"].FLOAT,"float"),i),N=(a={},m()(a,E["gl"].ALPHA,"alpha"),m()(a,E["gl"].LUMINANCE,"luminance"),m()(a,E["gl"].LUMINANCE_ALPHA,"luminance alpha"),m()(a,E["gl"].RGB,"rgb"),m()(a,E["gl"].RGBA,"rgba"),m()(a,E["gl"].RGBA4,"rgba4"),m()(a,E["gl"].RGB5_A1,"rgb5 a1"),m()(a,E["gl"].RGB565,"rgb565"),m()(a,E["gl"].DEPTH_COMPONENT,"depth"),m()(a,E["gl"].DEPTH_STENCIL,"depth stencil"),a),D=(s={},m()(s,E["gl"].DONT_CARE,"dont care"),m()(s,E["gl"].NICEST,"nice"),m()(s,E["gl"].FASTEST,"fast"),s),z=(u={},m()(u,E["gl"].NEAREST,"nearest"),m()(u,E["gl"].LINEAR,"linear"),m()(u,E["gl"].LINEAR_MIPMAP_LINEAR,"mipmap"),m()(u,E["gl"].NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),m()(u,E["gl"].LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),m()(u,E["gl"].NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),u),F=(l={},m()(l,E["gl"].REPEAT,"repeat"),m()(l,E["gl"].CLAMP_TO_EDGE,"clamp"),m()(l,E["gl"].MIRRORED_REPEAT,"mirror"),l),B=(c={},m()(c,E["gl"].NONE,"none"),m()(c,E["gl"].BROWSER_DEFAULT_WEBGL,"browser"),c),U=(d={},m()(d,E["gl"].NEVER,"never"),m()(d,E["gl"].ALWAYS,"always"),m()(d,E["gl"].LESS,"less"),m()(d,E["gl"].LEQUAL,"lequal"),m()(d,E["gl"].GREATER,"greater"),m()(d,E["gl"].GEQUAL,"gequal"),m()(d,E["gl"].EQUAL,"equal"),m()(d,E["gl"].NOTEQUAL,"notequal"),d),H=(f={},m()(f,E["gl"].FUNC_ADD,"add"),m()(f,E["gl"].MIN_EXT,"min"),m()(f,E["gl"].MAX_EXT,"max"),m()(f,E["gl"].FUNC_SUBTRACT,"subtract"),m()(f,E["gl"].FUNC_REVERSE_SUBTRACT,"reverse subtract"),f),V=(h={},m()(h,E["gl"].ZERO,"zero"),m()(h,E["gl"].ONE,"one"),m()(h,E["gl"].SRC_COLOR,"src color"),m()(h,E["gl"].ONE_MINUS_SRC_COLOR,"one minus src color"),m()(h,E["gl"].SRC_ALPHA,"src alpha"),m()(h,E["gl"].ONE_MINUS_SRC_ALPHA,"one minus src alpha"),m()(h,E["gl"].DST_COLOR,"dst color"),m()(h,E["gl"].ONE_MINUS_DST_COLOR,"one minus dst color"),m()(h,E["gl"].DST_ALPHA,"dst alpha"),m()(h,E["gl"].ONE_MINUS_DST_ALPHA,"one minus dst alpha"),m()(h,E["gl"].CONSTANT_COLOR,"constant color"),m()(h,E["gl"].ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),m()(h,E["gl"].CONSTANT_ALPHA,"constant alpha"),m()(h,E["gl"].ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),m()(h,E["gl"].SRC_ALPHA_SATURATE,"src alpha saturate"),h),G=(p={},m()(p,E["gl"].NEVER,"never"),m()(p,E["gl"].ALWAYS,"always"),m()(p,E["gl"].LESS,"less"),m()(p,E["gl"].LEQUAL,"lequal"),m()(p,E["gl"].GREATER,"greater"),m()(p,E["gl"].GEQUAL,"gequal"),m()(p,E["gl"].EQUAL,"equal"),m()(p,E["gl"].NOTEQUAL,"notequal"),p),q=(v={},m()(v,E["gl"].ZERO,"zero"),m()(v,E["gl"].KEEP,"keep"),m()(v,E["gl"].REPLACE,"replace"),m()(v,E["gl"].INVERT,"invert"),m()(v,E["gl"].INCR,"increment"),m()(v,E["gl"].DECR,"decrement"),m()(v,E["gl"].INCR_WRAP,"increment wrap"),m()(v,E["gl"].DECR_WRAP,"decrement wrap"),v),X=(g={},m()(g,E["gl"].FRONT,"front"),m()(g,E["gl"].BACK,"back"),g),Y=function(){function e(t,n){b()(this,e),this.buffer=void 0;var r=n.data,o=n.usage,i=n.type;this.buffer=t.buffer({data:r,usage:L[o||E["gl"].STATIC_DRAW],type:I[i||E["gl"].UNSIGNED_BYTE]})}return w()(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(e){var t=e.data,n=e.offset;this.buffer.subdata(t,n)}}]),e}(),W=function(){function e(t,n){b()(this,e),this.elements=void 0;var r=n.data,o=n.usage,i=n.type,a=n.count;this.elements=t.elements({data:r,usage:L[o||E["gl"].STATIC_DRAW],type:I[i||E["gl"].UNSIGNED_BYTE],count:a})}return w()(e,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(e){var t=e.data;this.elements.subdata(t)}},{key:"destroy",value:function(){this.elements.destroy()}}]),e}(),Z=function(){function e(t,n){b()(this,e),this.framebuffer=void 0;var r=n.width,o=n.height,i=n.color,a=n.colors,s=(n.depth,n.stencil,{width:r,height:o});Array.isArray(a)&&(s.colors=a.map((function(e){return e.get()}))),i&&"boolean"!==typeof i&&(s.color=i.get()),this.framebuffer=t.framebuffer(s)}return w()(e,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.framebuffer.resize(t,n)}}]),e}(),K=n("cDf5"),Q=n.n(K),J=n("c6wG"),$=n.n(J),ee=n("YO3V"),te=n.n(ee);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe,ie,ae,se=function(){function e(t,n){b()(this,e),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=t;var r=n.vs,o=n.fs,i=n.attributes,a=n.uniforms,s=n.primitive,u=n.count,l=n.elements,c=n.depth,d=n.blend,f=n.stencil,h=n.cull,p=n.instances,v={};a&&(this.uniforms=this.extractUniforms(a),Object.keys(a).forEach((function(e){v[e]=t.prop(e)})));var g={};Object.keys(i).forEach((function(e){g[e]=i[e].get()}));var _={attributes:g,frag:o,uniforms:v,vert:r,primitive:R[void 0===s?E["gl"].TRIANGLES:s]};p&&(_.instances=p),u&&(_.count=u),l&&(_.elements=l.get()),this.initDepthDrawParams({depth:c},_),this.initBlendDrawParams({blend:d},_),this.initStencilDrawParams({stencil:f},_),this.initCullDrawParams({cull:h},_),this.drawCommand=t(_)}return w()(e,[{key:"addUniforms",value:function(e){this.uniforms=re(re({},this.uniforms),this.extractUniforms(e))}},{key:"draw",value:function(e){var t=re(re({},this.uniforms),this.extractUniforms(e.uniforms||{})),n={};Object.keys(t).forEach((function(e){var r=Q()(t[e]);"boolean"===r||"number"===r||Array.isArray(t[e])||t[e].BYTES_PER_ELEMENT?n[e]=t[e]:n[e]=t[e].get()})),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(e,t){var n=e.depth;n&&(t.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:U[n.func||E["gl"].LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(e,t){var n=e.blend;if(n){var r=n.enable,o=n.func,i=n.equation,a=n.color,s=void 0===a?[0,0,0,0]:a;t.blend={enable:!!r,func:{srcRGB:V[o&&o.srcRGB||E["gl"].SRC_ALPHA],srcAlpha:V[o&&o.srcAlpha||E["gl"].SRC_ALPHA],dstRGB:V[o&&o.dstRGB||E["gl"].ONE_MINUS_SRC_ALPHA],dstAlpha:V[o&&o.dstAlpha||E["gl"].ONE_MINUS_SRC_ALPHA]},equation:{rgb:H[i&&i.rgb||E["gl"].FUNC_ADD],alpha:H[i&&i.alpha||E["gl"].FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(e,t){var n=e.stencil;if(n){var r=n.enable,o=n.mask,i=void 0===o?-1:o,a=n.func,s=void 0===a?{cmp:E["gl"].ALWAYS,ref:0,mask:-1}:a,u=n.opFront,l=void 0===u?{fail:E["gl"].KEEP,zfail:E["gl"].KEEP,zpass:E["gl"].KEEP}:u,c=n.opBack,d=void 0===c?{fail:E["gl"].KEEP,zfail:E["gl"].KEEP,zpass:E["gl"].KEEP}:c;t.stencil={enable:!!r,mask:i,func:re(re({},s),{},{cmp:G[s.cmp]}),opFront:{fail:q[l.fail],zfail:q[l.zfail],zpass:q[l.zpass]},opBack:{fail:q[d.fail],zfail:q[d.zfail],zpass:q[d.zpass]}}}}},{key:"initCullDrawParams",value:function(e,t){var n=e.cull;if(n){var r=n.enable,o=n.face,i=void 0===o?E["gl"].BACK:o;t.cull={enable:!!r,face:X[i]}}}},{key:"extractUniforms",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){t.extractUniformsRecursively(r,e[r],n,"")})),n}},{key:"extractUniformsRecursively",value:function(e,t,n,r){var o=this;null===t||"number"===typeof t||"boolean"===typeof t||Array.isArray(t)&&"number"===typeof t[0]||$()(t)||""===t||"resize"in t?n["".concat(r&&r+".").concat(e)]=t:(te()(t)&&Object.keys(t).forEach((function(i){o.extractUniformsRecursively(i,t[i],n,"".concat(r&&r+".").concat(e))})),Array.isArray(t)&&t.forEach((function(t,i){Object.keys(t).forEach((function(a){o.extractUniformsRecursively(a,t[a],n,"".concat(r&&r+".").concat(e,"[").concat(i,"]"))}))})))}}]),e}(),ue=function(){function e(t,n){b()(this,e),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,o=n.type,i=void 0===o?E["gl"].UNSIGNED_BYTE:o,a=n.width,s=n.height,u=n.flipY,l=void 0!==u&&u,c=n.format,d=void 0===c?E["gl"].RGBA:c,f=n.mipmap,h=void 0!==f&&f,p=n.wrapS,v=void 0===p?E["gl"].CLAMP_TO_EDGE:p,g=n.wrapT,_=void 0===g?E["gl"].CLAMP_TO_EDGE:g,m=n.aniso,y=void 0===m?0:m,x=n.alignment,w=void 0===x?1:x,S=n.premultiplyAlpha,j=void 0!==S&&S,T=n.mag,P=void 0===T?E["gl"].NEAREST:T,k=n.min,O=void 0===k?E["gl"].NEAREST:k,C=n.colorSpace,A=void 0===C?E["gl"].BROWSER_DEFAULT_WEBGL:C;this.width=a,this.height=s;var M={width:a,height:s,type:I[i],format:N[d],wrapS:F[v],wrapT:F[_],mag:z[P],min:z[O],alignment:w,flipY:l,colorSpace:B[A],premultiplyAlpha:j,aniso:y};r&&(M.data=r),"number"===typeof h?M.mipmap=D[h]:"boolean"===typeof h&&(M.mipmap=h),this.texture=t.texture(M)}return w()(e,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.texture.resize(t,n),this.width=t,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),e}(),le=(oe=Object(O["injectable"])(),oe((ae=function(){function e(){var t=this;b()(this,e),this.gl=void 0,this.$container=void 0,this.width=void 0,this.height=void 0,this.isDirty=void 0,this.createModel=function(e){return new se(t.gl,e)},this.createAttribute=function(e){return new M(t.gl,e)},this.createBuffer=function(e){return new Y(t.gl,e)},this.createElements=function(e){return new W(t.gl,e)},this.createTexture2D=function(e){return new ue(t.gl,e)},this.createFramebuffer=function(e){return new Z(t.gl,e)},this.useFramebuffer=function(e,n){t.gl({framebuffer:e?e.get():null})(n)},this.clear=function(e){var n=e.color,r=e.depth,o=e.stencil,i=e.framebuffer,a=void 0===i?null:i,s={color:n,depth:r,stencil:o};s.framebuffer=null===a?a:a.get(),t.gl.clear(s)},this.viewport=function(e){var n,r=e.x,o=e.y,i=e.width,a=e.height,s=null===(n=t.$container)||void 0===n?void 0:n.getElementsByTagName("canvas")[0];s&&(s.width=i,s.height=a,s.style.width=i/2+"px",s.style.height=a/2+"px"),t.gl._gl.viewport(r,o,i,a),t.width=i,t.height=a,t.gl._refresh()},this.readPixels=function(e){var n=e.framebuffer,r=e.x,o=e.y,i=e.width,a=e.height,s={x:r,y:o,width:i,height:a};return n&&(s.framebuffer=n.get()),t.gl.read(s)},this.getViewportSize=function(){return{width:t.gl._gl.drawingBufferWidth,height:t.gl._gl.drawingBufferHeight}},this.getContainer=function(){return t.$container},this.getCanvas=function(){var e;return(null===(e=t.$container)||void 0===e?void 0:e.getElementsByTagName("canvas")[0])||null},this.getGLContext=function(){return t.gl._gl},this.destroy=function(){t.gl.destroy()}}return w()(e,[{key:"init",value:function(){var e=k()(T.a.mark((function e(t,n){return T.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$container=t,e.next=3,new Promise((function(e,r){A()({container:t,attributes:{alpha:!0,antialias:n.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:n.preserveDrawingBuffer},extensions:["OES_element_index_uint","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(t,n){!t&&n||r(t),e(n)}})}));case 3:this.gl=e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"setBaseState",value:function(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh()}},{key:"setCustomLayerDefaults",value:function(){var e=this.getGLContext();e.disable(e.CULL_FACE)}},{key:"setDirty",value:function(e){this.isDirty=e}},{key:"getDirty",value:function(){return this.isDirty}}]),e}(),ie=ae))||ie),ce=n("Hel2");function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=function(){function e(t){b()(this,e),this.sceneService=void 0,this.mapService=void 0,this.controlService=void 0,this.layerService=void 0,this.iconService=void 0,this.markerService=void 0,this.popupService=void 0,this.fontService=void 0,this.interactionService=void 0,this.container=void 0;var n=t.id,r=t.map,o=Object(E["createSceneContainer"])();this.container=o,r.setContainer(o,n),o.bind(E["TYPES"].IRendererService).to(le).inSingletonScope(),this.sceneService=o.get(E["TYPES"].ISceneService),this.mapService=o.get(E["TYPES"].IMapService),this.iconService=o.get(E["TYPES"].IIconService),this.fontService=o.get(E["TYPES"].IFontService),this.controlService=o.get(E["TYPES"].IControlService),this.layerService=o.get(E["TYPES"].ILayerService),this.markerService=o.get(E["TYPES"].IMarkerService),this.interactionService=o.get(E["TYPES"].IInteractionService),this.popupService=o.get(E["TYPES"].IPopupService),this.initComponent(n),this.sceneService.init(t),this.initControl()}return w()(e,[{key:"getServiceContainer",value:function(){return this.container}},{key:"getSize",value:function(){return this.mapService.getSize()}},{key:"getMinZoom",value:function(){return this.mapService.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.mapService.getMaxZoom()}},{key:"getType",value:function(){return this.mapService.getType()}},{key:"getMapContainer",value:function(){return this.mapService.getMapContainer()}},{key:"getMapCanvasContainer",value:function(){return this.mapService.getMapCanvasContainer()}},{key:"getMapService",value:function(){return this.mapService}},{key:"exportPng",value:function(e){return this.sceneService.exportPng(e)}},{key:"exportMap",value:function(e){return this.sceneService.exportPng(e)}},{key:"registerRenderService",value:function(e){var t=this;if(this.sceneService.loaded){var n=new e(this);n.init()}else this.on("loaded",(function(){var n=new e(t);n.init()}))}},{key:"addLayer",value:function(e){var t=Object(E["createLayerContainer"])(this.container);e.setContainer(t),this.sceneService.addLayer(e)}},{key:"getLayers",value:function(){return this.layerService.getLayers()}},{key:"getLayer",value:function(e){return this.layerService.getLayer(e)}},{key:"getLayerByName",value:function(e){return this.layerService.getLayerByName(e)}},{key:"removeLayer",value:function(e){this.layerService.remove(e)}},{key:"removeAllLayer",value:function(){this.layerService.removeAllLayers()}},{key:"render",value:function(){this.sceneService.render()}},{key:"addImage",value:function(e,t){this.iconService.addImage(e,t)}},{key:"hasImage",value:function(e){this.iconService.hasImage(e)}},{key:"removeImage",value:function(e){this.iconService.removeImage(e)}},{key:"addIconFontGlyphs",value:function(e,t){this.fontService.addIconGlyphs(t)}},{key:"addControl",value:function(e){this.controlService.addControl(e,this.container)}},{key:"removeControl",value:function(e){this.controlService.removeControl(e)}},{key:"getControlByName",value:function(e){return this.controlService.getControlByName(e)}},{key:"addMarker",value:function(e){this.markerService.addMarker(e)}},{key:"addMarkerLayer",value:function(e){this.markerService.addMarkerLayer(e)}},{key:"removeMarkerLayer",value:function(e){this.markerService.removeMarkerLayer(e)}},{key:"removeAllMakers",value:function(){this.markerService.removeAllMarkers()}},{key:"addPopup",value:function(e){this.popupService.addPopup(e)}},{key:"on",value:function(e,t){-1===E["SceneEventList"].indexOf(e)?this.mapService.on(e,t):this.sceneService.on(e,t)}},{key:"off",value:function(e,t){-1===E["SceneEventList"].indexOf(e)?this.mapService.off(e,t):this.sceneService.off(e,t)}},{key:"getZoom",value:function(){return this.mapService.getZoom()}},{key:"getCenter",value:function(){return this.mapService.getCenter()}},{key:"setCenter",value:function(e){return this.mapService.setCenter(e)}},{key:"getPitch",value:function(){return this.mapService.getPitch()}},{key:"setPitch",value:function(e){return this.mapService.setPitch(e)}},{key:"getRotation",value:function(){return this.mapService.getRotation()}},{key:"getBounds",value:function(){return this.mapService.getBounds()}},{key:"setRotation",value:function(e){this.mapService.setRotation(e)}},{key:"zoomIn",value:function(){this.mapService.zoomIn()}},{key:"zoomOut",value:function(){this.mapService.zoomOut()}},{key:"panTo",value:function(e){this.mapService.panTo(e)}},{key:"panBy",value:function(e){this.mapService.panTo(e)}},{key:"getContainer",value:function(){return this.mapService.getContainer()}},{key:"setZoom",value:function(e){this.mapService.setZoom(e)}},{key:"fitBounds",value:function(e,t){var n=this.sceneService.getSceneConfig(),r=n.fitBoundsOptions,o=n.animate;this.mapService.fitBounds(e,t||fe(fe({},r),{},{animate:o}))}},{key:"setZoomAndCenter",value:function(e,t){this.mapService.setZoomAndCenter(e,t)}},{key:"setMapStyle",value:function(e){this.mapService.setMapStyle(e)}},{key:"setMapStatus",value:function(e){this.mapService.setMapStatus(e)}},{key:"pixelToLngLat",value:function(e){return this.mapService.pixelToLngLat(e)}},{key:"lngLatToPixel",value:function(e){return this.mapService.lngLatToPixel(e)}},{key:"containerToLngLat",value:function(e){return this.mapService.containerToLngLat(e)}},{key:"lngLatToContainer",value:function(e){return this.mapService.lngLatToContainer(e)}},{key:"destroy",value:function(){this.sceneService.destroy()}},{key:"registerPostProcessingPass",value:function(e,t){this.container.bind(E["TYPES"].IPostProcessingPass).to(e).whenTargetNamed(t)}},{key:"initComponent",value:function(e){this.controlService.init({container:ce["a"].getContainer(e)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}},{key:"initControl",value:function(){var e=this.sceneService.getSceneConfig(),t=e.logoVisible,n=e.logoPosition;t&&this.addControl(new S["a"]({position:n}))}},{key:"map",get:function(){return this.mapService.map}}]),e}()},l94r:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n("lSNA"),o=n.n(r),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),u=n.n(s),l=n("7W2i"),c=n.n(l),d=n("a1gu"),f=n.n(d),h=n("Nsbk"),p=n.n(h),v=n("4qC0"),g=n.n(v),_=n("lSCD"),m=n.n(_),y=n("BkRI"),b=n.n(y),x=n("xp6e"),w=n("Hel2"),S=n("uhBA"),E=n("rlAn"),j=n("qxNg");function T(e){if(0===e.length)throw new Error("max requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]>t&&(t=e[n]);return t}function P(e){if(0===e.length)throw new Error("min requires at least one data point");for(var t=e[0],n=1;n<e.length;n++)e[n]<t&&(t=e[n]);return t}function k(e){if(0===e.length)return 0;for(var t,n=e[0],r=0,o=1;o<e.length;o++)t=n+1*e[o],Math.abs(n)>=Math.abs(e[o])?r+=n-t+e[o]:r+=e[o]-t+n,n=t;return n+1*r}function O(e){if(0===e.length)throw new Error("mean requires at least one data point");return k(e)/e.length}var C={min:P,max:T,mean:O,sum:k};function A(e,t){return e.map((function(e){return 1*e[t]}))}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e){var t=I();return function(){var n,r=p()(e);if(t){var o=p()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f()(this,n)}}function I(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var N=function(e){c()(n,e);var t=L(n);function n(e,r){var o;return a()(this,n),o=t.call(this),o.data=void 0,o.extent=void 0,o.hooks={init:new x["c"]},o.parser={type:"geojson"},o.transforms=[],o.cluster=!1,o.clusterOptions={enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"},o.originData=void 0,o.rawData=void 0,o.clusterIndex=void 0,o.originData=e,o.initCfg(r),o.hooks.init.tap("parser",(function(){o.excuteParser()})),o.hooks.init.tap("cluster",(function(){o.initCluster()})),o.hooks.init.tap("transform",(function(){o.executeTrans()})),o.init(),o}return u()(n,[{key:"setData",value:function(e,t){this.rawData=e,this.originData=e,this.initCfg(t),this.init(),this.emit("update")}},{key:"getClusters",value:function(e){return this.clusterIndex.getClusters(this.extent,e)}},{key:"getClustersLeaves",value:function(e){return this.clusterIndex.getLeaves(e,1/0)}},{key:"updateClusterData",value:function(e){var t=this,n=this.clusterOptions,r=n.method,o=void 0===r?"sum":r,i=n.field,a=this.clusterIndex.getClusters(this.extent,Math.floor(e));this.clusterOptions.zoom=e,a.forEach((function(e){e.id||(e.properties.point_count=1)})),(i||m()(o))&&(a=a.map((function(e){var n=e.id;if(n){var r,a=t.clusterIndex.getLeaves(n,1/0),s=a.map((function(e){return e.properties}));if(g()(o)&&i){var u=A(s,i);r=C[o](u)}m()(o)&&(r=o(s)),e.properties.stat=r}else e.properties.point_count=1;return e}))),this.data=Object(E["getParser"])("geojson")({type:"FeatureCollection",features:a}),this.executeTrans()}},{key:"getFeatureById",value:function(e){var t=this.parser.type,n=void 0===t?"geojson":t;if("geojson"!==n||this.cluster)return e<this.data.dataArray.length?this.data.dataArray[e]:"null";var r=e<this.originData.features.length?this.originData.features[e]:"null",o=b()(r);if(0!==this.transforms.length){var i=this.data.dataArray.find((function(t){return t._id===e}));o.properties=i}return o}},{key:"getFeatureId",value:function(e,t){var n=this.data.dataArray.find((function(t){return t[e]===name}));return null===n||void 0===n?void 0:n._id}},{key:"initCfg",value:function(e){e&&(e.parser&&(this.parser=e.parser),e.transforms&&(this.transforms=e.transforms),this.cluster=e.cluster||!1,e.clusterOptions&&(this.cluster=!0,this.clusterOptions=R(R({},this.clusterOptions),e.clusterOptions)))}},{key:"excuteParser",value:function(){var e=this.parser,t=e.type||"geojson",n=Object(E["getParser"])(t);this.data=n(this.originData,e),this.extent=Object(w["l"])(this.data.dataArray)}},{key:"executeTrans",value:function(){var e=this,t=this.transforms;t.forEach((function(t){var n=t.type,r=Object(E["getTransform"])(n)(e.data,t);Object.assign(e.data,r)}))}},{key:"initCluster",value:function(){if(this.cluster){var e=this.clusterOptions||{};this.clusterIndex=Object(j["a"])(this.data,e)}}},{key:"init",value:function(){this.hooks.init.call(this)}}]),n}(S["EventEmitter"])},lJbI:function(e,t,n){"use strict";function r(e,t){var n=t.extent,r=t.width,o=t.height,i=t.min,a=t.max,s={_id:1,dataArray:[{_id:1,data:Array.from(e),width:r,height:o,min:i,max:a,coordinates:[[n[0],n[1]],[n[2],n[3]]]}]};return s}n.d(t,"a",(function(){return r}))},lg4T:function(e,t,n){"use strict";n.d(t,"a",(function(){return de}));var r,o,i,a,s,u,l=n("lwsE"),c=n.n(l),d=n("W8MJ"),f=n.n(d),h=n("7W2i"),p=n.n(h),v=n("a1gu"),g=n.n(v),_=n("Nsbk"),m=n.n(_),y=n("lSNA"),b=n.n(y),x=n("yG8O"),w=n.n(x),S=n("U+yc"),E=n.n(S),j=(n("1ABj"),n("h1nZ"));function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k,O,C,A,M,R,L,I,N,D,z,F,B,U,H=(r=Object(j["lazyInject"])(j["TYPES"].ILogService),o=Object(j["lazyInject"])(j["TYPES"].IGlobalConfigService),u=function(){function e(t){c()(this,e),w()(this,"logger",a,this),w()(this,"configService",s,this),this.config=void 0,this.config=t}return f()(e,[{key:"setContainer",value:function(e,t){e.bind(j["TYPES"].MapConfig).toConstantValue(P(P({},this.config),{},{id:t})),e.bind(j["TYPES"].IMapService).to(this.getServiceConstructor()).inSingletonScope()}},{key:"getServiceConstructor",value:function(){throw new Error("Method not implemented.")}}]),e}(),i=u,a=E()(i.prototype,"logger",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=E()(i.prototype,"configService",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i),V=n("o0o1"),G=n.n(V),q=n("QILm"),X=n.n(q),Y=n("yXPU"),W=n.n(Y),Z=n("Hel2"),K=n("IOcx"),Q=n("4cb6"),J=n("4ZJM"),$=n.n(J),ee=n("1A8y"),te=function(){function e(){c()(this,e),this.viewport=void 0}return f()(e,[{key:"syncWithMapCamera",value:function(e){var t=e.center,n=e.zoom,r=e.pitch,o=e.bearing,i=e.viewportHeight,a=e.viewportWidth;this.viewport=new ee["a"]({width:a,height:i,longitude:t&&t[0],latitude:t&&t[1],zoom:n,pitch:r,bearing:o})}},{key:"getZoom",value:function(){return this.viewport.zoom}},{key:"getZoomScale",value:function(){return Math.pow(2,this.getZoom())}},{key:"getCenter",value:function(){return[this.viewport.longitude,this.viewport.latitude]}},{key:"getProjectionMatrix",value:function(){return this.viewport.projectionMatrix}},{key:"getViewMatrix",value:function(){return this.viewport.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.viewMatrixUncentered}},{key:"getViewProjectionMatrix",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(e,t){return this.viewport.projectFlat(e,t)}}]),e}(),ne={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n("BGjm")("/* @antv/l7-maps */\n.mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:-webkit-grab;cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:-webkit-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:pinch-zoom;touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:none;touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;-webkit-transform:translate(0);transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 2px rgba(0,0,0,.1);box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 0 2px ButtonText;box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-group button:focus{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){-webkit-box-shadow:none;box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E\")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:0;margin:10px;position:relative;background-color:#fff;border-radius:3px 12px 12px 3px}.mapboxgl-ctrl-attrib.mapboxgl-compact:hover{padding:2px 24px 2px 4px;visibility:visible;margin-top:6px}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:hover,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:hover{padding:2px 4px 2px 24px;border-radius:12px 3px 3px 12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact:after{content:\"\";cursor:pointer;position:absolute;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:12px}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;-webkit-box-sizing:border-box;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{-webkit-flex-direction:column;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{-webkit-flex-direction:column-reverse;-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left{-webkit-flex-direction:row;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right{-webkit-flex-direction:row-reverse;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.1);box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:\"\";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 0 3px rgba(0,0,0,.35);box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);transform:scale(3);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}"),window.mapboxgl=$.a;var ie={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},ae=12,se="pk.eyJ1IjoibHp4dWUiLCJhIjoiYnhfTURyRSJ9.Ugm314vAKPHBzcPmY1p4KQ",ue=(k=Object(Q["injectable"])(),O=Object(Q["inject"])(j["TYPES"].MapConfig),C=Object(Q["inject"])(j["TYPES"].IGlobalConfigService),A=Object(Q["inject"])(j["TYPES"].ILogService),M=Object(Q["inject"])(j["TYPES"].ICoordinateSystemService),R=Object(Q["inject"])(j["TYPES"].IEventEmitter),k((U=function(){function e(){var t=this;c()(this,e),this.map=void 0,w()(this,"config",N,this),w()(this,"configService",D,this),w()(this,"logger",z,this),w()(this,"coordinateSystemService",F,this),w()(this,"eventEmitter",B,this),this.viewport=void 0,this.markerContainer=void 0,this.cameraChangedCallback=void 0,this.$mapContainer=void 0,this.handleCameraChanged=function(){var e=t.map.getCenter().wrap(),n=e.lat,r=e.lng;t.viewport.syncWithMapCamera({bearing:t.map.getBearing(),center:[r,n],viewportHeight:t.map.transform.height,pitch:t.map.getPitch(),viewportWidth:t.map.transform.width,zoom:t.map.getZoom(),cameraHeight:0}),t.viewport.getZoom()>ae?t.coordinateSystemService.setCoordinateSystem(j["CoordinateSystem"].LNGLAT_OFFSET):t.coordinateSystemService.setCoordinateSystem(j["CoordinateSystem"].LNGLAT),t.cameraChangedCallback(t.viewport)}}return f()(e,[{key:"addMarkerContainer",value:function(){var e=this.map.getCanvasContainer();this.markerContainer=Z["a"].create("div","l7-marker-container",e)}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(e,t){-1!==j["MapServiceEvent"].indexOf(e)?this.eventEmitter.on(e,t):this.map.on(ie[e]||e,t)}},{key:"off",value:function(e,t){this.map.off(ie[e]||e,t)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){return this.map.getCanvasContainer()}},{key:"getSize",value:function(){var e=this.map.transform;return[e.width,e.height]}},{key:"getType",value:function(){return"mapbox"}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"setZoom",value:function(e){return this.map.setZoom(e)}},{key:"getCenter",value:function(){return this.map.getCenter()}},{key:"setCenter",value:function(e){this.map.setCenter(e)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return this.map.getBearing()}},{key:"getBounds",value:function(){return this.map.getBounds().toArray()}},{key:"getMinZoom",value:function(){return this.map.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.map.getMaxZoom()}},{key:"setRotation",value:function(e){this.map.setBearing(e)}},{key:"zoomIn",value:function(e,t){this.map.zoomIn(e,t)}},{key:"zoomOut",value:function(e,t){this.map.zoomOut(e,t)}},{key:"setPitch",value:function(e){return this.map.setPitch(e)}},{key:"panTo",value:function(e){this.map.panTo(e)}},{key:"panBy",value:function(e){this.panTo(e)}},{key:"fitBounds",value:function(e,t){this.map.fitBounds(e,t)}},{key:"setMaxZoom",value:function(e){this.map.setMaxZoom(e)}},{key:"setMinZoom",value:function(e){this.map.setMinZoom(e)}},{key:"setMapStatus",value:function(e){!0===e.doubleClickZoom&&this.map.doubleClickZoom.enable(),!1===e.doubleClickZoom&&this.map.doubleClickZoom.disable(),!1===e.dragEnable&&this.map.dragPan.disable(),!0===e.dragEnable&&this.map.dragPan.enable(),!1===e.rotateEnable&&this.map.dragRotate.disable(),!0===e.dragEnable&&this.map.dragRotate.enable(),!1===e.keyboardEnable&&this.map.keyboard.disable(),!0===e.keyboardEnable&&this.map.keyboard.enable(),!1===e.zoomEnable&&this.map.scrollZoom.disable(),!0===e.zoomEnable&&this.map.scrollZoom.enable()}},{key:"setZoomAndCenter",value:function(e,t){this.map.flyTo({zoom:e,center:t})}},{key:"setMapStyle",value:function(e){this.map.setStyle(this.getMapStyle(e))}},{key:"pixelToLngLat",value:function(e){return this.map.unproject(e)}},{key:"lngLatToPixel",value:function(e){return this.map.project(e)}},{key:"containerToLngLat",value:function(e){return this.map.unproject(e)}},{key:"lngLatToContainer",value:function(e){return this.map.project(e)}},{key:"lngLatToMercator",value:function(e,t){var n=window.mapboxgl.MercatorCoordinate.fromLngLat(e,t),r=n.x,o=void 0===r?0:r,i=n.y,a=void 0===i?0:i,s=n.z,u=void 0===s?0:s;return{x:o,y:a,z:u}}},{key:"getModelMatrix",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{x:0,y:0,z:0},i=window.mapboxgl.MercatorCoordinate.fromLngLat(e,t),a=i.meterInMercatorCoordinateUnits(),s=K["a"].create();return K["a"].translate(s,s,K["c"].fromValues(i.x-o.x,i.y-o.y,i.z||0-o.z)),K["a"].scale(s,s,K["c"].fromValues(a*r[0],-a*r[1],a*r[2])),K["a"].rotateX(s,s,n[0]),K["a"].rotateY(s,s,n[1]),K["a"].rotateZ(s,s,n[2]),s}},{key:"init",value:function(){var e=W()(G.a.mark((function e(){var t,n,r,o,i,a,s,u,l,c,d,f,h;return G.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.config,n=t.id,r=void 0===n?"map":n,o=t.attributionControl,i=void 0!==o&&o,a=t.style,s=void 0===a?"light":a,u=t.token,l=void 0===u?se:u,c=t.rotation,d=void 0===c?0:c,f=t.mapInstance,h=X()(t,["id","attributionControl","style","token","rotation","mapInstance"]),this.viewport=new te,f||window.mapboxgl||this.logger.error(this.configService.getSceneWarninfo("SDK")),l!==se||"blank"===s||window.mapboxgl.accessToken||f||this.logger.warn(this.configService.getSceneWarninfo("MapToken")),f||window.mapboxgl.accessToken||(window.mapboxgl.accessToken=l),f?(this.map=f,this.$mapContainer=this.map.getContainer()):(this.$mapContainer=this.creatAmapContainer(r),this.map=new window.mapboxgl.Map(oe({container:this.$mapContainer,style:this.getMapStyle(s),attributionControl:i,bearing:d},h))),this.map.on("load",this.handleCameraChanged),this.map.on("move",this.handleCameraChanged),this.handleCameraChanged();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this.eventEmitter).emit.apply(t,[e].concat(r))}},{key:"once",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=this.eventEmitter).once.apply(t,[e].concat(r))}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"exportMap",value:function(e){var t=this.map.getCanvas(),n="jpg"===e?null===t||void 0===t?void 0:t.toDataURL("image/jpeg"):null===t||void 0===t?void 0:t.toDataURL("image/png");return n}},{key:"onCameraChanged",value:function(e){this.cameraChangedCallback=e}},{key:"creatAmapContainer",value:function(e){var t=e;return"string"===typeof e&&(t=document.getElementById(e)),t}},{key:"getMapStyle",value:function(e){return"string"!==typeof e?e:ne[e]?ne[e]:e}}]),e}(),I=U,N=E()(I.prototype,"config",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=E()(I.prototype,"configService",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=E()(I.prototype,"logger",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=E()(I.prototype,"coordinateSystemService",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=E()(I.prototype,"eventEmitter",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=I))||L);function le(e){var t=ce();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}function ce(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n("BGjm")("/* @antv/l7-maps */\n.mapboxgl-ctrl-logo {\n display: none !important;\n}\n");var de=function(e){p()(n,e);var t=le(n);function n(){return c()(this,n),t.apply(this,arguments)}return f()(n,[{key:"getServiceConstructor",value:function(){return ue}}]),n}(H)},"o+pz":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e["DEPTH_BUFFER_BIT"]=256]="DEPTH_BUFFER_BIT",e[e["STENCIL_BUFFER_BIT"]=1024]="STENCIL_BUFFER_BIT",e[e["COLOR_BUFFER_BIT"]=16384]="COLOR_BUFFER_BIT",e[e["POINTS"]=0]="POINTS",e[e["LINES"]=1]="LINES",e[e["LINE_LOOP"]=2]="LINE_LOOP",e[e["LINE_STRIP"]=3]="LINE_STRIP",e[e["TRIANGLES"]=4]="TRIANGLES",e[e["TRIANGLE_STRIP"]=5]="TRIANGLE_STRIP",e[e["TRIANGLE_FAN"]=6]="TRIANGLE_FAN",e[e["ZERO"]=0]="ZERO",e[e["ONE"]=1]="ONE",e[e["SRC_COLOR"]=768]="SRC_COLOR",e[e["ONE_MINUS_SRC_COLOR"]=769]="ONE_MINUS_SRC_COLOR",e[e["SRC_ALPHA"]=770]="SRC_ALPHA",e[e["ONE_MINUS_SRC_ALPHA"]=771]="ONE_MINUS_SRC_ALPHA",e[e["DST_ALPHA"]=772]="DST_ALPHA",e[e["ONE_MINUS_DST_ALPHA"]=773]="ONE_MINUS_DST_ALPHA",e[e["DST_COLOR"]=774]="DST_COLOR",e[e["ONE_MINUS_DST_COLOR"]=775]="ONE_MINUS_DST_COLOR",e[e["SRC_ALPHA_SATURATE"]=776]="SRC_ALPHA_SATURATE",e[e["FUNC_ADD"]=32774]="FUNC_ADD",e[e["BLEND_EQUATION"]=32777]="BLEND_EQUATION",e[e["BLEND_EQUATION_RGB"]=32777]="BLEND_EQUATION_RGB",e[e["BLEND_EQUATION_ALPHA"]=34877]="BLEND_EQUATION_ALPHA",e[e["FUNC_SUBTRACT"]=32778]="FUNC_SUBTRACT",e[e["FUNC_REVERSE_SUBTRACT"]=32779]="FUNC_REVERSE_SUBTRACT",e[e["MAX_EXT"]=32776]="MAX_EXT",e[e["MIN_EXT"]=32775]="MIN_EXT",e[e["BLEND_DST_RGB"]=32968]="BLEND_DST_RGB",e[e["BLEND_SRC_RGB"]=32969]="BLEND_SRC_RGB",e[e["BLEND_DST_ALPHA"]=32970]="BLEND_DST_ALPHA",e[e["BLEND_SRC_ALPHA"]=32971]="BLEND_SRC_ALPHA",e[e["CONSTANT_COLOR"]=32769]="CONSTANT_COLOR",e[e["ONE_MINUS_CONSTANT_COLOR"]=32770]="ONE_MINUS_CONSTANT_COLOR",e[e["CONSTANT_ALPHA"]=32771]="CONSTANT_ALPHA",e[e["ONE_MINUS_CONSTANT_ALPHA"]=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e["BLEND_COLOR"]=32773]="BLEND_COLOR",e[e["ARRAY_BUFFER"]=34962]="ARRAY_BUFFER",e[e["ELEMENT_ARRAY_BUFFER"]=34963]="ELEMENT_ARRAY_BUFFER",e[e["ARRAY_BUFFER_BINDING"]=34964]="ARRAY_BUFFER_BINDING",e[e["ELEMENT_ARRAY_BUFFER_BINDING"]=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e["STREAM_DRAW"]=35040]="STREAM_DRAW",e[e["STATIC_DRAW"]=35044]="STATIC_DRAW",e[e["DYNAMIC_DRAW"]=35048]="DYNAMIC_DRAW",e[e["BUFFER_SIZE"]=34660]="BUFFER_SIZE",e[e["BUFFER_USAGE"]=34661]="BUFFER_USAGE",e[e["CURRENT_VERTEX_ATTRIB"]=34342]="CURRENT_VERTEX_ATTRIB",e[e["FRONT"]=1028]="FRONT",e[e["BACK"]=1029]="BACK",e[e["FRONT_AND_BACK"]=1032]="FRONT_AND_BACK",e[e["CULL_FACE"]=2884]="CULL_FACE",e[e["BLEND"]=3042]="BLEND",e[e["DITHER"]=3024]="DITHER",e[e["STENCIL_TEST"]=2960]="STENCIL_TEST",e[e["DEPTH_TEST"]=2929]="DEPTH_TEST",e[e["SCISSOR_TEST"]=3089]="SCISSOR_TEST",e[e["POLYGON_OFFSET_FILL"]=32823]="POLYGON_OFFSET_FILL",e[e["SAMPLE_ALPHA_TO_COVERAGE"]=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e["SAMPLE_COVERAGE"]=32928]="SAMPLE_COVERAGE",e[e["NO_ERROR"]=0]="NO_ERROR",e[e["INVALID_ENUM"]=1280]="INVALID_ENUM",e[e["INVALID_VALUE"]=1281]="INVALID_VALUE",e[e["INVALID_OPERATION"]=1282]="INVALID_OPERATION",e[e["OUT_OF_MEMORY"]=1285]="OUT_OF_MEMORY",e[e["CW"]=2304]="CW",e[e["CCW"]=2305]="CCW",e[e["LINE_WIDTH"]=2849]="LINE_WIDTH",e[e["ALIASED_POINT_SIZE_RANGE"]=33901]="ALIASED_POINT_SIZE_RANGE",e[e["ALIASED_LINE_WIDTH_RANGE"]=33902]="ALIASED_LINE_WIDTH_RANGE",e[e["CULL_FACE_MODE"]=2885]="CULL_FACE_MODE",e[e["FRONT_FACE"]=2886]="FRONT_FACE",e[e["DEPTH_RANGE"]=2928]="DEPTH_RANGE",e[e["DEPTH_WRITEMASK"]=2930]="DEPTH_WRITEMASK",e[e["DEPTH_CLEAR_VALUE"]=2931]="DEPTH_CLEAR_VALUE",e[e["DEPTH_FUNC"]=2932]="DEPTH_FUNC",e[e["STENCIL_CLEAR_VALUE"]=2961]="STENCIL_CLEAR_VALUE",e[e["STENCIL_FUNC"]=2962]="STENCIL_FUNC",e[e["STENCIL_FAIL"]=2964]="STENCIL_FAIL",e[e["STENCIL_PASS_DEPTH_FAIL"]=2965]="STENCIL_PASS_DEPTH_FAIL",e[e["STENCIL_PASS_DEPTH_PASS"]=2966]="STENCIL_PASS_DEPTH_PASS",e[e["STENCIL_REF"]=2967]="STENCIL_REF",e[e["STENCIL_VALUE_MASK"]=2963]="STENCIL_VALUE_MASK",e[e["STENCIL_WRITEMASK"]=2968]="STENCIL_WRITEMASK",e[e["STENCIL_BACK_FUNC"]=34816]="STENCIL_BACK_FUNC",e[e["STENCIL_BACK_FAIL"]=34817]="STENCIL_BACK_FAIL",e[e["STENCIL_BACK_PASS_DEPTH_FAIL"]=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e["STENCIL_BACK_PASS_DEPTH_PASS"]=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e["STENCIL_BACK_REF"]=36003]="STENCIL_BACK_REF",e[e["STENCIL_BACK_VALUE_MASK"]=36004]="STENCIL_BACK_VALUE_MASK",e[e["STENCIL_BACK_WRITEMASK"]=36005]="STENCIL_BACK_WRITEMASK",e[e["VIEWPORT"]=2978]="VIEWPORT",e[e["SCISSOR_BOX"]=3088]="SCISSOR_BOX",e[e["COLOR_CLEAR_VALUE"]=3106]="COLOR_CLEAR_VALUE",e[e["COLOR_WRITEMASK"]=3107]="COLOR_WRITEMASK",e[e["UNPACK_ALIGNMENT"]=3317]="UNPACK_ALIGNMENT",e[e["PACK_ALIGNMENT"]=3333]="PACK_ALIGNMENT",e[e["MAX_TEXTURE_SIZE"]=3379]="MAX_TEXTURE_SIZE",e[e["MAX_VIEWPORT_DIMS"]=3386]="MAX_VIEWPORT_DIMS",e[e["SUBPIXEL_BITS"]=3408]="SUBPIXEL_BITS",e[e["RED_BITS"]=3410]="RED_BITS",e[e["GREEN_BITS"]=3411]="GREEN_BITS",e[e["BLUE_BITS"]=3412]="BLUE_BITS",e[e["ALPHA_BITS"]=3413]="ALPHA_BITS",e[e["DEPTH_BITS"]=3414]="DEPTH_BITS",e[e["STENCIL_BITS"]=3415]="STENCIL_BITS",e[e["POLYGON_OFFSET_UNITS"]=10752]="POLYGON_OFFSET_UNITS",e[e["POLYGON_OFFSET_FACTOR"]=32824]="POLYGON_OFFSET_FACTOR",e[e["TEXTURE_BINDING_2D"]=32873]="TEXTURE_BINDING_2D",e[e["SAMPLE_BUFFERS"]=32936]="SAMPLE_BUFFERS",e[e["SAMPLES"]=32937]="SAMPLES",e[e["SAMPLE_COVERAGE_VALUE"]=32938]="SAMPLE_COVERAGE_VALUE",e[e["SAMPLE_COVERAGE_INVERT"]=32939]="SAMPLE_COVERAGE_INVERT",e[e["COMPRESSED_TEXTURE_FORMATS"]=34467]="COMPRESSED_TEXTURE_FORMATS",e[e["DONT_CARE"]=4352]="DONT_CARE",e[e["FASTEST"]=4353]="FASTEST",e[e["NICEST"]=4354]="NICEST",e[e["GENERATE_MIPMAP_HINT"]=33170]="GENERATE_MIPMAP_HINT",e[e["BYTE"]=5120]="BYTE",e[e["UNSIGNED_BYTE"]=5121]="UNSIGNED_BYTE",e[e["SHORT"]=5122]="SHORT",e[e["UNSIGNED_SHORT"]=5123]="UNSIGNED_SHORT",e[e["INT"]=5124]="INT",e[e["UNSIGNED_INT"]=5125]="UNSIGNED_INT",e[e["FLOAT"]=5126]="FLOAT",e[e["DEPTH_COMPONENT"]=6402]="DEPTH_COMPONENT",e[e["ALPHA"]=6406]="ALPHA",e[e["RGB"]=6407]="RGB",e[e["RGBA"]=6408]="RGBA",e[e["LUMINANCE"]=6409]="LUMINANCE",e[e["LUMINANCE_ALPHA"]=6410]="LUMINANCE_ALPHA",e[e["UNSIGNED_SHORT_4_4_4_4"]=32819]="UNSIGNED_SHORT_4_4_4_4",e[e["UNSIGNED_SHORT_5_5_5_1"]=32820]="UNSIGNED_SHORT_5_5_5_1",e[e["UNSIGNED_SHORT_5_6_5"]=33635]="UNSIGNED_SHORT_5_6_5",e[e["FRAGMENT_SHADER"]=35632]="FRAGMENT_SHADER",e[e["VERTEX_SHADER"]=35633]="VERTEX_SHADER",e[e["MAX_VERTEX_ATTRIBS"]=34921]="MAX_VERTEX_ATTRIBS",e[e["MAX_VERTEX_UNIFORM_VECTORS"]=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e["MAX_VARYING_VECTORS"]=36348]="MAX_VARYING_VECTORS",e[e["MAX_COMBINED_TEXTURE_IMAGE_UNITS"]=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e["MAX_VERTEX_TEXTURE_IMAGE_UNITS"]=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e["MAX_TEXTURE_IMAGE_UNITS"]=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e["MAX_FRAGMENT_UNIFORM_VECTORS"]=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e["SHADER_TYPE"]=35663]="SHADER_TYPE",e[e["DELETE_STATUS"]=35712]="DELETE_STATUS",e[e["LINK_STATUS"]=35714]="LINK_STATUS",e[e["VALIDATE_STATUS"]=35715]="VALIDATE_STATUS",e[e["ATTACHED_SHADERS"]=35717]="ATTACHED_SHADERS",e[e["ACTIVE_UNIFORMS"]=35718]="ACTIVE_UNIFORMS",e[e["ACTIVE_ATTRIBUTES"]=35721]="ACTIVE_ATTRIBUTES",e[e["SHADING_LANGUAGE_VERSION"]=35724]="SHADING_LANGUAGE_VERSION",e[e["CURRENT_PROGRAM"]=35725]="CURRENT_PROGRAM",e[e["NEVER"]=512]="NEVER",e[e["LESS"]=513]="LESS",e[e["EQUAL"]=514]="EQUAL",e[e["LEQUAL"]=515]="LEQUAL",e[e["GREATER"]=516]="GREATER",e[e["NOTEQUAL"]=517]="NOTEQUAL",e[e["GEQUAL"]=518]="GEQUAL",e[e["ALWAYS"]=519]="ALWAYS",e[e["KEEP"]=7680]="KEEP",e[e["REPLACE"]=7681]="REPLACE",e[e["INCR"]=7682]="INCR",e[e["DECR"]=7683]="DECR",e[e["INVERT"]=5386]="INVERT",e[e["INCR_WRAP"]=34055]="INCR_WRAP",e[e["DECR_WRAP"]=34056]="DECR_WRAP",e[e["VENDOR"]=7936]="VENDOR",e[e["RENDERER"]=7937]="RENDERER",e[e["VERSION"]=7938]="VERSION",e[e["NEAREST"]=9728]="NEAREST",e[e["LINEAR"]=9729]="LINEAR",e[e["NEAREST_MIPMAP_NEAREST"]=9984]="NEAREST_MIPMAP_NEAREST",e[e["LINEAR_MIPMAP_NEAREST"]=9985]="LINEAR_MIPMAP_NEAREST",e[e["NEAREST_MIPMAP_LINEAR"]=9986]="NEAREST_MIPMAP_LINEAR",e[e["LINEAR_MIPMAP_LINEAR"]=9987]="LINEAR_MIPMAP_LINEAR",e[e["TEXTURE_MAG_FILTER"]=10240]="TEXTURE_MAG_FILTER",e[e["TEXTURE_MIN_FILTER"]=10241]="TEXTURE_MIN_FILTER",e[e["TEXTURE_WRAP_S"]=10242]="TEXTURE_WRAP_S",e[e["TEXTURE_WRAP_T"]=10243]="TEXTURE_WRAP_T",e[e["TEXTURE_2D"]=3553]="TEXTURE_2D",e[e["TEXTURE"]=5890]="TEXTURE",e[e["TEXTURE_CUBE_MAP"]=34067]="TEXTURE_CUBE_MAP",e[e["TEXTURE_BINDING_CUBE_MAP"]=34068]="TEXTURE_BINDING_CUBE_MAP",e[e["TEXTURE_CUBE_MAP_POSITIVE_X"]=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e["TEXTURE_CUBE_MAP_NEGATIVE_X"]=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e["TEXTURE_CUBE_MAP_POSITIVE_Y"]=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e["TEXTURE_CUBE_MAP_NEGATIVE_Y"]=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e["TEXTURE_CUBE_MAP_POSITIVE_Z"]=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e["TEXTURE_CUBE_MAP_NEGATIVE_Z"]=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e["MAX_CUBE_MAP_TEXTURE_SIZE"]=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e["TEXTURE0"]=33984]="TEXTURE0",e[e["TEXTURE1"]=33985]="TEXTURE1",e[e["TEXTURE2"]=33986]="TEXTURE2",e[e["TEXTURE3"]=33987]="TEXTURE3",e[e["TEXTURE4"]=33988]="TEXTURE4",e[e["TEXTURE5"]=33989]="TEXTURE5",e[e["TEXTURE6"]=33990]="TEXTURE6",e[e["TEXTURE7"]=33991]="TEXTURE7",e[e["TEXTURE8"]=33992]="TEXTURE8",e[e["TEXTURE9"]=33993]="TEXTURE9",e[e["TEXTURE10"]=33994]="TEXTURE10",e[e["TEXTURE11"]=33995]="TEXTURE11",e[e["TEXTURE12"]=33996]="TEXTURE12",e[e["TEXTURE13"]=33997]="TEXTURE13",e[e["TEXTURE14"]=33998]="TEXTURE14",e[e["TEXTURE15"]=33999]="TEXTURE15",e[e["TEXTURE16"]=34e3]="TEXTURE16",e[e["TEXTURE17"]=34001]="TEXTURE17",e[e["TEXTURE18"]=34002]="TEXTURE18",e[e["TEXTURE19"]=34003]="TEXTURE19",e[e["TEXTURE20"]=34004]="TEXTURE20",e[e["TEXTURE21"]=34005]="TEXTURE21",e[e["TEXTURE22"]=34006]="TEXTURE22",e[e["TEXTURE23"]=34007]="TEXTURE23",e[e["TEXTURE24"]=34008]="TEXTURE24",e[e["TEXTURE25"]=34009]="TEXTURE25",e[e["TEXTURE26"]=34010]="TEXTURE26",e[e["TEXTURE27"]=34011]="TEXTURE27",e[e["TEXTURE28"]=34012]="TEXTURE28",e[e["TEXTURE29"]=34013]="TEXTURE29",e[e["TEXTURE30"]=34014]="TEXTURE30",e[e["TEXTURE31"]=34015]="TEXTURE31",e[e["ACTIVE_TEXTURE"]=34016]="ACTIVE_TEXTURE",e[e["REPEAT"]=10497]="REPEAT",e[e["CLAMP_TO_EDGE"]=33071]="CLAMP_TO_EDGE",e[e["MIRRORED_REPEAT"]=33648]="MIRRORED_REPEAT",e[e["FLOAT_VEC2"]=35664]="FLOAT_VEC2",e[e["FLOAT_VEC3"]=35665]="FLOAT_VEC3",e[e["FLOAT_VEC4"]=35666]="FLOAT_VEC4",e[e["INT_VEC2"]=35667]="INT_VEC2",e[e["INT_VEC3"]=35668]="INT_VEC3",e[e["INT_VEC4"]=35669]="INT_VEC4",e[e["BOOL"]=35670]="BOOL",e[e["BOOL_VEC2"]=35671]="BOOL_VEC2",e[e["BOOL_VEC3"]=35672]="BOOL_VEC3",e[e["BOOL_VEC4"]=35673]="BOOL_VEC4",e[e["FLOAT_MAT2"]=35674]="FLOAT_MAT2",e[e["FLOAT_MAT3"]=35675]="FLOAT_MAT3",e[e["FLOAT_MAT4"]=35676]="FLOAT_MAT4",e[e["SAMPLER_2D"]=35678]="SAMPLER_2D",e[e["SAMPLER_CUBE"]=35680]="SAMPLER_CUBE",e[e["VERTEX_ATTRIB_ARRAY_ENABLED"]=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e["VERTEX_ATTRIB_ARRAY_SIZE"]=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e["VERTEX_ATTRIB_ARRAY_STRIDE"]=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e["VERTEX_ATTRIB_ARRAY_TYPE"]=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e["VERTEX_ATTRIB_ARRAY_NORMALIZED"]=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e["VERTEX_ATTRIB_ARRAY_POINTER"]=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e["VERTEX_ATTRIB_ARRAY_BUFFER_BINDING"]=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e["COMPILE_STATUS"]=35713]="COMPILE_STATUS",e[e["LOW_FLOAT"]=36336]="LOW_FLOAT",e[e["MEDIUM_FLOAT"]=36337]="MEDIUM_FLOAT",e[e["HIGH_FLOAT"]=36338]="HIGH_FLOAT",e[e["LOW_INT"]=36339]="LOW_INT",e[e["MEDIUM_INT"]=36340]="MEDIUM_INT",e[e["HIGH_INT"]=36341]="HIGH_INT",e[e["FRAMEBUFFER"]=36160]="FRAMEBUFFER",e[e["RENDERBUFFER"]=36161]="RENDERBUFFER",e[e["RGBA4"]=32854]="RGBA4",e[e["RGB5_A1"]=32855]="RGB5_A1",e[e["RGB565"]=36194]="RGB565",e[e["DEPTH_COMPONENT16"]=33189]="DEPTH_COMPONENT16",e[e["STENCIL_INDEX"]=6401]="STENCIL_INDEX",e[e["STENCIL_INDEX8"]=36168]="STENCIL_INDEX8",e[e["DEPTH_STENCIL"]=34041]="DEPTH_STENCIL",e[e["RENDERBUFFER_WIDTH"]=36162]="RENDERBUFFER_WIDTH",e[e["RENDERBUFFER_HEIGHT"]=36163]="RENDERBUFFER_HEIGHT",e[e["RENDERBUFFER_INTERNAL_FORMAT"]=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e["RENDERBUFFER_RED_SIZE"]=36176]="RENDERBUFFER_RED_SIZE",e[e["RENDERBUFFER_GREEN_SIZE"]=36177]="RENDERBUFFER_GREEN_SIZE",e[e["RENDERBUFFER_BLUE_SIZE"]=36178]="RENDERBUFFER_BLUE_SIZE",e[e["RENDERBUFFER_ALPHA_SIZE"]=36179]="RENDERBUFFER_ALPHA_SIZE",e[e["RENDERBUFFER_DEPTH_SIZE"]=36180]="RENDERBUFFER_DEPTH_SIZE",e[e["RENDERBUFFER_STENCIL_SIZE"]=36181]="RENDERBUFFER_STENCIL_SIZE",e[e["FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE"]=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e["FRAMEBUFFER_ATTACHMENT_OBJECT_NAME"]=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e["FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL"]=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e["FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE"]=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e["COLOR_ATTACHMENT0"]=36064]="COLOR_ATTACHMENT0",e[e["DEPTH_ATTACHMENT"]=36096]="DEPTH_ATTACHMENT",e[e["STENCIL_ATTACHMENT"]=36128]="STENCIL_ATTACHMENT",e[e["DEPTH_STENCIL_ATTACHMENT"]=33306]="DEPTH_STENCIL_ATTACHMENT",e[e["NONE"]=0]="NONE",e[e["FRAMEBUFFER_COMPLETE"]=36053]="FRAMEBUFFER_COMPLETE",e[e["FRAMEBUFFER_INCOMPLETE_ATTACHMENT"]=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e["FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT"]=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e["FRAMEBUFFER_INCOMPLETE_DIMENSIONS"]=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e["FRAMEBUFFER_UNSUPPORTED"]=36061]="FRAMEBUFFER_UNSUPPORTED",e[e["FRAMEBUFFER_BINDING"]=36006]="FRAMEBUFFER_BINDING",e[e["RENDERBUFFER_BINDING"]=36007]="RENDERBUFFER_BINDING",e[e["MAX_RENDERBUFFER_SIZE"]=34024]="MAX_RENDERBUFFER_SIZE",e[e["INVALID_FRAMEBUFFER_OPERATION"]=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e["UNPACK_FLIP_Y_WEBGL"]=37440]="UNPACK_FLIP_Y_WEBGL",e[e["UNPACK_PREMULTIPLY_ALPHA_WEBGL"]=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e["CONTEXT_LOST_WEBGL"]=37442]="CONTEXT_LOST_WEBGL",e[e["UNPACK_COLORSPACE_CONVERSION_WEBGL"]=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e["BROWSER_DEFAULT_WEBGL"]=37444]="BROWSER_DEFAULT_WEBGL"}(r||(r={}))},qxNg:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("lSNA"),o=n.n(r),i=n("mpbz"),a=n.n(i);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){var n=t.radius,r=void 0===n?40:n,o=t.maxZoom,i=void 0===o?18:o,s=t.minZoom,l=void 0===s?0:s,d=t.zoom,f=void 0===d?2:d;if(e.pointIndex){var h=e.pointIndex.getClusters(e.extent,Math.floor(f));return e.dataArray=c(h),e}var p=new a.a({radius:r,minZoom:l,maxZoom:i}),v={type:"FeatureCollection",features:[]};return v.features=e.dataArray.map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:e.coordinates},properties:u({},e)}})),p.load(v.features),p}function c(e){return e.map((function(e,t){return u({coordinates:e.geometry.coordinates,_id:t+1},e.properties)}))}},riiI:function(e,t){},rlAn:function(e,t,n){"use strict";var r=n("ISu3"),o=n("gMG2"),i=n("5gLl"),a=n("BpBL"),s=n("5zYK"),u=n("lJbI"),l=n("l94r"),c=n("qxNg"),d=n("Y8BV"),f=n("VIsB"),h=n("+VLl"),p=n("aF1E"),v=n("fdMe");n.d(t,"getTransform",(function(){return r["b"]})),n.d(t,"getParser",(function(){return r["a"]}));n("U1ZX");t["default"]=l["a"],Object(r["c"])("geojson",i["a"]),Object(r["c"])("image",a["a"]),Object(r["c"])("csv",o["a"]),Object(r["c"])("json",s["a"]),Object(r["c"])("raster",u["a"]),Object(r["d"])("cluster",c["a"]),Object(r["d"])("filter",d["a"]),Object(r["d"])("join",p["a"]),Object(r["d"])("map",v["a"]),Object(r["d"])("grid",f["a"]),Object(r["d"])("hexagon",h["a"])},sxDa:function(e,t,n){"use strict";n.d(t,"b",(function(){return kn})),n.d(t,"c",(function(){return Qn})),n.d(t,"a",(function(){return Tt}));var r,o,i,a,s,u,l=n("h1nZ"),c=n("lwsE"),d=n.n(c),f=n("W8MJ"),h=n.n(f),p=n("7W2i"),v=n.n(p),g=n("a1gu"),_=n.n(g),m=n("Nsbk"),y=n.n(m),b=n("QILm"),x=n.n(b),w=n("lSNA"),S=n.n(w),E=n("yG8O"),j=n.n(E),T=n("PJYZ"),P=n.n(T),k=n("U+yc"),O=n.n(k),C=(n("1ABj"),n("GoyQ")),A=n.n(C),M=n("lSCD"),R=n.n(M),L=n("xp6e"),I=n("Hel2"),N=n("uhBA"),D=n("4U9+"),z=n.n(D),F=n("4cb6");function B(e){return e.map((function(e){return"string"===typeof e&&(e=[e,{}]),e}))}var U,H,V,G,q,X,Y,W,Z,K=(r=Object(F["injectable"])(),o=Object(F["inject"])(l["TYPES"].IGlobalConfigService),r((u=function(){function e(){d()(this,e),j()(this,"configService",s,this),this.enabled=void 0}return h()(e,[{key:"apply",value:function(e,t){var n=this,r=(t.rendererService,t.postProcessingPassFactory),o=t.normalPassFactory;e.hooks.init.tap("MultiPassRendererPlugin",(function(){var t=e.getLayerConfig(),i=t.enableMultiPassRenderer,a=t.passes,s=void 0===a?[]:a;n.enabled=!!i&&!1!==e.getLayerConfig().enableMultiPassRenderer,n.enabled&&(e.multiPassRenderer=n.createMultiPassRenderer(e,s,r,o),e.multiPassRenderer.setRenderFlag(!0))})),e.hooks.beforeRender.tap("MultiPassRendererPlugin",(function(){}))}},{key:"createMultiPassRenderer",value:function(e,t,n,r){var o=e.multiPassRenderer,i=e.getLayerConfig(),a=i.enablePicking;i.enableTAA;return a&&o.add(r("pixelPicking")),o}}]),e}(),a=u,s=O()(a.prototype,"configService",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=a))||i),Q=(U={},S()(U,l["BlendType"].additive,{enable:!0,func:{srcRGB:l["gl"].ONE,dstRGB:l["gl"].ONE,srcAlpha:1,dstAlpha:1}}),S()(U,l["BlendType"].normal,{enable:!0,func:{srcRGB:l["gl"].SRC_ALPHA,dstRGB:l["gl"].ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}),S()(U,l["BlendType"].subtractive,{enable:!0,func:{srcRGB:l["gl"].ONE,dstRGB:l["gl"].ONE,srcAlpha:l["gl"].ZERO,dstAlpha:l["gl"].ONE_MINUS_SRC_COLOR},equation:{rgb:l["gl"].FUNC_SUBTRACT,alpha:l["gl"].FUNC_SUBTRACT}}),S()(U,l["BlendType"].max,{enable:!0,func:{srcRGB:l["gl"].ONE,dstRGB:l["gl"].ONE},equation:{rgb:l["gl"].MAX_EXT}}),S()(U,l["BlendType"].min,{enable:!0,func:{srcRGB:l["gl"].ONE,dstRGB:l["gl"].ONE},equation:{rgb:l["gl"].MIN_EXT}}),U),J={properties:{enablePicking:{type:"boolean"},enableHighlight:{type:"boolean"},highlightColor:{oneOf:[{type:"array",items:{type:"number",minimum:0,maximum:1}},{type:"string"}]}}};function $(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=ee(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function ee(e,t){if(e){if("string"===typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e){var t=ie();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function ie(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ae,se,ue,le,ce,de,fe=0,he=(H=Object(l["lazyInject"])(l["TYPES"].ILogService),V=Object(l["lazyInject"])(l["TYPES"].IGlobalConfigService),G=Object(l["lazyInject"])(l["TYPES"].IShaderModuleService),Z=function(e){v()(n,e);var t=oe(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d()(this,n),e=t.call(this),e.id="".concat(fe++),e.name="".concat(fe),e.type=void 0,e.visible=!0,e.zIndex=0,e.minZoom=void 0,e.maxZoom=void 0,e.inited=!1,e.layerModelNeedUpdate=!1,e.pickedFeatureID=null,e.selectedFeatureID=null,e.dataState={dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1},e.hooks={init:new L["b"],afterInit:new L["b"],beforeRender:new L["b"],beforeRenderData:new L["d"],afterRender:new L["c"],beforePickingEncode:new L["c"],afterPickingEncode:new L["c"],beforeHighlight:new L["c"](["pickedColor"]),afterHighlight:new L["c"],beforeSelect:new L["c"](["pickedColor"]),afterSelect:new L["c"],beforeDestroy:new L["c"],afterDestroy:new L["c"]},e.models=[],e.multiPassRenderer=void 0,e.plugins=void 0,e.sourceOption=void 0,e.layerModel=void 0,j()(e,"logger",X,P()(e)),j()(e,"configService",Y,P()(e)),j()(e,"shaderModuleService",W,P()(e)),e.cameraService=void 0,e.coordinateService=void 0,e.iconService=void 0,e.fontService=void 0,e.rendererService=void 0,e.layerService=void 0,e.interactionService=void 0,e.mapService=void 0,e.styleAttributeService=void 0,e.layerSource=void 0,e.postProcessingPassFactory=void 0,e.normalPassFactory=void 0,e.animateOptions={enable:!1},e.container=void 0,e.encodedData=void 0,e.configSchema=void 0,e.currentPickId=null,e.rawConfig=void 0,e.needUpdateConfig=void 0,e.pendingStyleAttributes=[],e.scaleOptions={},e.animateStartTime=void 0,e.aniamateStatus=!1,e.sourceEvent=function(){e.dataState.dataSourceNeedUpdate=!0;var t=e.getLayerConfig(),n=t.autoFit,r=t.fitBoundsOptions;n&&e.fitBounds(r),e.emit("dataUpdate"),e.reRender()},e.name=r.name||e.id,e.zIndex=r.zIndex||0,e.rawConfig=r,e}return h()(n,[{key:"getLayerConfig",value:function(){return this.configService.getLayerConfig(this.id)}},{key:"updateLayerConfig",value:function(e){if(this.inited){var t=this.container.get(l["TYPES"].SceneID);this.configService.setLayerConfig(t,this.id,re(re(re({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),e)),this.needUpdateConfig={}}else this.needUpdateConfig=re(re({},this.needUpdateConfig),e)}},{key:"setContainer",value:function(e){this.container=e}},{key:"getContainer",value:function(){return this.container}},{key:"addPlugin",value:function(e){return this.plugins.push(e),this}},{key:"init",value:function(){var e=this,t=this.container.get(l["TYPES"].SceneID),n=this.rawConfig.enableMultiPassRenderer,r=void 0!==n&&n;this.configService.setLayerConfig(t,this.id,{enableMultiPassRenderer:r}),this.iconService=this.container.get(l["TYPES"].IIconService),this.fontService=this.container.get(l["TYPES"].IFontService),this.rendererService=this.container.get(l["TYPES"].IRendererService),this.layerService=this.container.get(l["TYPES"].ILayerService),this.interactionService=this.container.get(l["TYPES"].IInteractionService),this.mapService=this.container.get(l["TYPES"].IMapService),this.cameraService=this.container.get(l["TYPES"].ICameraService),this.coordinateService=this.container.get(l["TYPES"].ICoordinateSystemService),this.postProcessingPassFactory=this.container.get(l["TYPES"].IFactoryPostProcessingPass),this.normalPassFactory=this.container.get(l["TYPES"].IFactoryNormalPass),this.styleAttributeService=this.container.get(l["TYPES"].IStyleAttributeService),this.multiPassRenderer=this.container.get(l["TYPES"].IMultiPassRenderer),this.multiPassRenderer.setLayer(this),this.pendingStyleAttributes.forEach((function(t){var n=t.attributeName,r=t.attributeField,o=t.attributeValues,i=t.updateOptions;e.styleAttributeService.updateStyleAttribute(n,{scale:re({field:r},e.splitValuesAndCallbackInAttribute(o,e.getLayerConfig()[n]))},i)})),this.pendingStyleAttributes=[],this.plugins=this.container.getAll(l["TYPES"].ILayerPlugin);var o,i=$(this.plugins);try{for(i.s();!(o=i.n()).done;){var a=o.value;a.apply(this,{rendererService:this.rendererService,mapService:this.mapService,styleAttributeService:this.styleAttributeService,normalPassFactory:this.normalPassFactory,postProcessingPassFactory:this.postProcessingPassFactory})}}catch(s){i.e(s)}finally{i.f()}return this.hooks.init.call(),this.hooks.afterInit.call(),this.emit("inited",{target:this,type:"inited"}),this.emit("add",{target:this,type:"add"}),this}},{key:"prepareBuildModel",value:function(){this.inited=!0,this.updateLayerConfig(re(re({},this.getDefaultConfig()),this.rawConfig));var e=this.getLayerConfig(),t=e.animateOption;(null===t||void 0===t?void 0:t.enable)&&(this.layerService.startAnimate(),this.aniamateStatus=!0)}},{key:"color",value:function(e,t,n){return this.updateStyleAttribute("color",e,t,n),this}},{key:"size",value:function(e,t,n){return this.updateStyleAttribute("size",e,t,n),this}},{key:"filter",value:function(e,t,n){return this.updateStyleAttribute("filter",e,t,n),this}},{key:"shape",value:function(e,t,n){return this.updateStyleAttribute("shape",e,t,n),this}},{key:"label",value:function(e,t,n){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:e,attributeValues:t,updateOptions:n}),this}},{key:"animate",value:function(e){var t={};return A()(e)?(t.enable=!0,t=re(re({},t),e)):t.enable=e,this.updateLayerConfig({animateOption:t}),this}},{key:"source",value:function(e,t){return this.sourceOption={data:e,options:t},this}},{key:"setData",value:function(e,t){var n=this;return this.inited?this.layerSource.setData(e,t):this.on("inited",(function(){n.layerSource.setData(e,t)})),this}},{key:"style",value:function(e){var t=this,n=e.passes,r=x()(e,["passes"]);return n&&B(n).forEach((function(e){var n=t.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(e[0]);n&&n.updateOptions(e[1])})),this.rawConfig=re(re({},this.rawConfig),r),this.container&&this.updateLayerConfig(this.rawConfig),this}},{key:"scale",value:function(e,t){return A()(e)?this.scaleOptions=re(re({},this.scaleOptions),e):this.scaleOptions[e]=t,this}},{key:"render",value:function(){return this.renderModels(),this}},{key:"active",value:function(e){var t={};return t.enableHighlight=!!A()(e)||e,A()(e)?(t.enableHighlight=!0,e.color&&(t.highlightColor=e.color)):t.enableHighlight=!!e,this.updateLayerConfig(t),this}},{key:"setActive",value:function(e,t){var n=this;if(A()(e)){var r=e.x,o=void 0===r?0:r,i=e.y,a=void 0===i?0:i;this.updateLayerConfig({highlightColor:A()(t)?t.color:this.getLayerConfig().highlightColor}),this.pick({x:o,y:a})}else this.updateLayerConfig({pickedFeatureID:e,highlightColor:A()(t)?t.color:this.getLayerConfig().highlightColor}),this.hooks.beforeSelect.call(Object(I["k"])(e)).then((function(){setTimeout((function(){n.reRender()}),1)}))}},{key:"select",value:function(e){var t={};return t.enableSelect=!!A()(e)||e,A()(e)?(t.enableSelect=!0,e.color&&(t.selectColor=e.color)):t.enableSelect=!!e,this.updateLayerConfig(t),this}},{key:"setSelect",value:function(e,t){var n=this;if(A()(e)){var r=e.x,o=void 0===r?0:r,i=e.y,a=void 0===i?0:i;this.updateLayerConfig({selectColor:A()(t)?t.color:this.getLayerConfig().selectColor}),this.pick({x:o,y:a})}else this.updateLayerConfig({pickedFeatureID:e,selectColor:A()(t)?t.color:this.getLayerConfig().selectColor}),this.hooks.beforeSelect.call(Object(I["k"])(e)).then((function(){setTimeout((function(){n.reRender()}),1)}))}},{key:"setBlend",value:function(e){this.updateLayerConfig({blend:e}),this.layerModelNeedUpdate=!0,this.reRender()}},{key:"show",value:function(){return this.updateLayerConfig({visible:!0}),this.reRender(),this}},{key:"hide",value:function(){return this.updateLayerConfig({visible:!1}),this.reRender(),this}},{key:"setIndex",value:function(e){return this.zIndex=e,this.layerService.updateRenderOrder(),this}},{key:"setCurrentPickId",value:function(e){this.currentPickId=e}},{key:"getCurrentPickId",value:function(){return this.currentPickId}},{key:"setCurrentSelectedId",value:function(e){this.selectedFeatureID=e}},{key:"getCurrentSelectedId",value:function(){return this.selectedFeatureID}},{key:"isVisible",value:function(){var e=this.mapService.getZoom(),t=this.getLayerConfig(),n=t.visible,r=t.minZoom,o=void 0===r?-1/0:r,i=t.maxZoom,a=void 0===i?1/0:i;return!!n&&e>=o&&e<=a}},{key:"setMinZoom",value:function(e){return this.updateLayerConfig({minZoom:e}),this}},{key:"getMinZoom",value:function(){var e=this.getLayerConfig(),t=e.minZoom;return t}},{key:"getMaxZoom",value:function(){var e=this.getLayerConfig(),t=e.maxZoom;return t}},{key:"get",value:function(e){var t=this.getLayerConfig();return t[e]}},{key:"setMaxZoom",value:function(e){return this.updateLayerConfig({maxZoom:e}),this}},{key:"fitBounds",value:function(e){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;var t=this.getSource(),n=t.extent,r=n.some((function(e){return Math.abs(e)===1/0}));return r||this.mapService.fitBounds([[n[0],n[1]],[n[2],n[3]]],e),this}},{key:"destroy",value:function(){this.hooks.beforeDestroy.call(),this.layerSource.off("update",this.sourceEvent),this.multiPassRenderer.destroy(),this.styleAttributeService.clearAllAttributes(),this.models.forEach((function(e){return e.destroy()})),this.hooks.afterDestroy.call(),this.emit("remove",{target:this,type:"remove"}),this.removeAllListeners()}},{key:"clear",value:function(){this.styleAttributeService.clearAllAttributes(),this.models.forEach((function(e){return e.destroy()}))}},{key:"isDirty",value:function(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter((function(e){return e.needRescale||e.needRemapping||e.needRegenerateVertices})).length}},{key:"setSource",value:function(e){this.layerSource=e;var t=this.mapService.getZoom();this.layerSource.cluster&&this.layerSource.updateClusterData(t),this.layerSource.on("update",this.sourceEvent)}},{key:"getSource",value:function(){return this.layerSource}},{key:"getScaleOptions",value:function(){return this.scaleOptions}},{key:"setEncodedData",value:function(e){this.encodedData=e}},{key:"getEncodedData",value:function(){return this.encodedData}},{key:"getConfigSchemaForValidation",value:function(){return this.configSchema||(this.configSchema=z()([J,this.getConfigSchema()])),this.configSchema}},{key:"getLegendItems",value:function(e){var t=this.styleAttributeService.getLayerAttributeScale(e);if(!t)return[];if(t.ticks){var n=t.ticks().map((function(n){return S()({value:n},e,t(n))}));return n}if(t.invertExtent){var r=t.range().map((function(n){return S()({value:t.invertExtent(n)},e,n)}));return r}}},{key:"pick",value:function(e){var t=e.x,n=e.y;this.interactionService.triggerHover({x:t,y:n})}},{key:"buildLayerModel",value:function(e){var t=e.moduleName,n=e.vertexShader,r=e.fragmentShader,o=e.triangulation,i=x()(e,["moduleName","vertexShader","fragmentShader","triangulation"]);this.shaderModuleService.registerModule(t,{vs:n,fs:r});var a=this.shaderModuleService.getModule(t),s=a.vs,u=a.fs,c=a.uniforms,d=this.rendererService.createModel,f=this.styleAttributeService.createAttributesAndIndices(this.encodedData,o),h=f.attributes,p=f.elements;return d(re({attributes:h,uniforms:c,fs:u,vs:s,elements:p,blend:Q[l["BlendType"].normal]},i))}},{key:"getTime",value:function(){return this.layerService.clock.getDelta()}},{key:"setAnimateStartTime",value:function(){this.animateStartTime=this.layerService.clock.getElapsedTime()}},{key:"stopAnimate",value:function(){this.aniamateStatus&&(this.layerService.stopAnimate(),this.aniamateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}},{key:"getLayerAnimateTime",value:function(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}},{key:"needPick",value:function(e){var t=this.getLayerConfig(),n=t.enableHighlight,r=void 0===n||n,o=t.enableSelect,i=void 0===o||o,a=-1!==this.eventNames().indexOf(e)||-1!==this.eventNames().indexOf("un"+e);return"click"!==e&&"dblclick"!==e||!i||(a=!0),"mousemove"!==e||!r&&-1===this.eventNames().indexOf("mouseenter")&&-1===this.eventNames().indexOf("unmousemove")&&-1===this.eventNames().indexOf("mouseout")||(a=!0),this.isVisible()&&a}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"renderModels",value:function(){var e=this;return this.layerModelNeedUpdate&&this.layerModel&&(this.models=this.layerModel.buildModels(),this.hooks.beforeRender.call(),this.layerModelNeedUpdate=!1),this.models.forEach((function(t){t.draw({uniforms:e.layerModel.getUninforms()})})),this}},{key:"getConfigSchema",value:function(){throw new Error("Method not implemented.")}},{key:"getModelType",value:function(){throw new Error("Method not implemented.")}},{key:"getDefaultConfig",value:function(){return{}}},{key:"reRender",value:function(){this.inited&&this.layerService.renderLayers()}},{key:"splitValuesAndCallbackInAttribute",value:function(e,t){return{values:R()(e)?void 0:e||t,callback:R()(e)?e:void 0}}},{key:"updateStyleAttribute",value:function(e,t,n,r){this.inited?this.styleAttributeService.updateStyleAttribute(e,{scale:re({field:t},this.splitValuesAndCallbackInAttribute(n,this.getLayerConfig()[t]))},r):this.pendingStyleAttributes.push({attributeName:e,attributeField:t,attributeValues:n,updateOptions:r})}}]),n}(N["EventEmitter"]),q=Z,X=O()(q.prototype,"logger",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=O()(q.prototype,"configService",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=O()(q.prototype,"shaderModuleService",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q),pe=(ae=Object(l["lazyInject"])(l["TYPES"].IGlobalConfigService),se=Object(l["lazyInject"])(l["TYPES"].IShaderModuleService),de=function(){function e(t){d()(this,e),this.triangulation=void 0,this.layer=void 0,j()(this,"configService",le,this),j()(this,"shaderModuleService",ce,this),this.rendererService=void 0,this.iconService=void 0,this.fontService=void 0,this.styleAttributeService=void 0,this.mapService=void 0,this.cameraService=void 0,this.layerService=void 0,this.layer=t,this.rendererService=t.getContainer().get(l["TYPES"].IRendererService),this.styleAttributeService=t.getContainer().get(l["TYPES"].IStyleAttributeService),this.mapService=t.getContainer().get(l["TYPES"].IMapService),this.iconService=t.getContainer().get(l["TYPES"].IIconService),this.fontService=t.getContainer().get(l["TYPES"].IFontService),this.cameraService=t.getContainer().get(l["TYPES"].ICameraService),this.layerService=t.getContainer().get(l["TYPES"].ILayerService),this.registerBuiltinAttributes(),this.startModelAnimate()}return h()(e,[{key:"getBlend",value:function(){var e=this.layer.getLayerConfig(),t=e.blend,n=void 0===t?"normal":t;return Q[l["BlendType"][n]]}},{key:"getDefaultStyle",value:function(){return{}}},{key:"getUninforms",value:function(){throw new Error("Method not implemented.")}},{key:"getAnimateUniforms",value:function(){return{}}},{key:"needUpdate",value:function(){return!1}},{key:"buildModels",value:function(){throw new Error("Method not implemented.")}},{key:"getAttribute",value:function(){throw new Error("Method not implemented.")}},{key:"render",value:function(){throw new Error("Method not implemented.")}},{key:"registerBuiltinAttributes",value:function(){throw new Error("Method not implemented.")}},{key:"animateOption2Array",value:function(e){return[e.enable?0:1,e.duration||4,e.interval||.2,e.trailLength||.1]}},{key:"startModelAnimate",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;t.enable&&this.layer.setAnimateStartTime()}}]),e}(),ue=de,le=O()(ue.prototype,"configService",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=O()(ue.prototype,"shaderModuleService",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue),ve=(n("J4zp"),n("RIqP")),ge=n.n(ve),_e=n("VmRL"),me=n.n(_e),ye=n("IOcx"),be=n("UB5X"),xe=n.n(be);function we(e){if(xe()(e[0]))return e;if(xe()(e[0][0]))throw new Error("\u5f53\u524d\u6570\u636e\u4e0d\u652f\u6301\u6807\u6ce8");if(xe()(e[0][0][0])){var t=e,n=0,r=0,o=0;return t.forEach((function(e){e.forEach((function(e){n+=e[0],r+=e[1],o++}))})),[n/o,r/o,0]}throw new Error("\u5f53\u524d\u6570\u636e\u4e0d\u652f\u6301\u6807\u6ce8")}function Se(e,t,n,r,o){ye["b"].add(e,n,r),ye["b"].normalize(e,e),t=ye["b"].fromValues(-e[1],e[0]);var i=ye["b"].fromValues(-n[1],n[0]);return o/ye["b"].dot(t,i)}function Ee(e,t){return ye["b"].set(e,-t[1],t[0])}function je(e,t,n){return ye["b"].sub(e,t,n),ye["b"].normalize(e,e),e}function Te(e,t,n,r,o,i){Pe(t,n,o,-i),Pe(t,n,o,i),e.push(r[0],r[1],0),e.push(r[0],r[1],0)}function Pe(e,t,n,r){e.push(n[0],n[1],0),t.push(r)}function ke(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function Oe(e,t){return e[0]===t[0]&&e[1]===t[1]}var Ce,Ae,Me,Re=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=ye["b"].fromValues(0,0),i=ye["b"].fromValues(0,0),a=ye["b"].fromValues(0,0),s=ye["b"].create(),u=!1,l=null,c=ye["b"].create(),d=n||0,f=3,h=[],p=[],v=[],g=[],_=[0,0];t&&(e=e.slice(),e.push(e[0]));for(var m=e.length,y=1;y<m;y++){var b=d,x=ye["b"].fromValues(e[y-1][0],e[y-1][1]),w=ye["b"].fromValues(e[y][0],e[y][1]),S=y<e.length-1?ye["b"].fromValues(e[y+1][0],e[y+1][1]):null;if(!Oe(x,w)){if(S){var E=y+1;while(S&&Oe(w,S))S=E<e.length-1?ye["b"].fromValues(e[++E][0],e[E][1]):null}var j=0,T=Object(I["d"])([w[0],w[1]]),P=Object(I["d"])([x[0],x[1]]);if(r){var k=ke(T,P);j=k+_[_.length-1]}if(je(o,T,P),l||(l=ye["b"].create(),Ee(l,o)),u||(u=!0,Te(p,h,g,x,l,1)),v.push(b+0,b+2,b+1),S){var O=Object(I["d"])([S[0],S[1]]);je(i,O,T);var C=Se(a,ye["b"].fromValues(s[0],s[1]),o,i,1),A=ye["b"].dot(a,l)<0?-1:1,M=Math.abs(C)>f;if(Math.abs(C)>1e3){Te(p,h,g,w,l,1),v.push(b+1,b+2,b+3),v.push(b+2,b+4,b+3),Ee(c,i),ye["b"].copy(l,c),Te(p,h,g,w,l,1),_.push(j,j,j,j),d+=4;continue}M?(C=f,Te(p,h,g,w,l,1),v.push(b+1,b+2,b+3),v.push.apply(v,ge()(1===A?[b+2,b+4,b+5]:[b+4,b+5,b+3])),Ee(c,i),ye["b"].copy(l,c),Te(p,h,g,w,l,1),_.push(j,j,j,j),d+=4):(Te(p,h,g,w,l,1),v.push(b+1,b+2,b+3),Pe(h,g,l,C*-A),p.push(w[0],w[1],0),v.push(b+2,b+4,b+3),v.push(b+4,b+5,b+6),Ee(c,i),ye["b"].copy(l,c),Te(p,h,g,w,l,1),_.push(j,j,j,j,j),d+=5)}else Ee(l,o),Te(p,h,g,w,l,1),_.push(j,j),v.push(b+1,b+2,b+3),d+=2}}for(var R=[],L=0;L<g.length;L++){var N=_[_.length-1];R.push(p[3*L],p[3*L+1],p[3*L+2],_[L],g[L],N)}return{normals:h,attrIndex:v,attrPos:R}};function Le(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e[0][0],r=e[0][e[0].length-1];n[0]===r[0]&&n[1]===r[1]&&(e[0]=e[0].slice(0,e[0].length-1));for(var o=e[0].length,i=me.a.flatten(e),a=i.vertices,s=i.dimensions,u=[],l=[],c=[],d=0;d<a.length/s;d++)2===s?u.push(a[2*d],a[2*d+1],1,-1,-1):u.push(a[3*d],a[3*d+1],1,-1,-1),c.push(0,0,1);var f=me()(i.vertices,i.holes,i.dimensions);l.push.apply(l,ge()(f));for(var h=function(e){var n=i.vertices.slice(e*s,(e+1)*s),r=i.vertices.slice((e+1)*s,(e+2)*s);0===r.length&&(r=i.vertices.slice(0,s));var o=u.length/5;u.push(n[0],n[1],1,0,0,r[0],r[1],1,.1,0,n[0],n[1],0,0,.8,r[0],r[1],0,.1,.8);var a=Ie([r[0],r[1],1],[n[0],n[1],0],[n[0],n[1],1],t);c.push.apply(c,ge()(a).concat(ge()(a),ge()(a),ge()(a))),l.push.apply(l,ge()([1,2,0,3,2,1].map((function(e){return e+o}))))},p=0;p<o;p++)h(p);return{positions:u,index:l,normals:c}}function Ie(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=ye["c"].create(),i=ye["c"].create(),a=ye["c"].create();r&&(e=Object(I["n"])(e),t=Object(I["n"])(t),n=Object(I["n"])(n));var s=ye["c"].fromValues.apply(ye["c"],ge()(e)),u=ye["c"].fromValues.apply(ye["c"],ge()(t)),l=ye["c"].fromValues.apply(ye["c"],ge()(n));ye["c"].sub(o,l,u),ye["c"].sub(i,s,u),ye["c"].cross(a,o,i);var c=ye["c"].create();return ye["c"].normalize(c,a),c}function Ne(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=2*Math.PI/e,r=[],o=0;o<e;o++)r.push(n*o+t*Math.PI/12);var i=r.map((function(e){var t=Math.sin(e+Math.PI/4),n=Math.cos(e+Math.PI/4);return[t,n,0]}));return i}function De(){return Ne(30)}function ze(){return Ne(4)}function Fe(){return Ne(3)}function Be(){return Ne(6,1)}function Ue(){return Ne(5)}(function(e){e["CYLINDER"]="cylinder",e["SQUARECOLUMN"]="squareColumn",e["TRIANGLECOLUMN"]="triangleColumn",e["HEXAGONCOLUMN"]="hexagonColumn",e["PENTAGONCOLUMN"]="pentagonColumn"})(Ae||(Ae={})),function(e){e["CIRCLE"]="circle",e["SQUARE"]="square",e["TRIANGLE"]="triangle",e["HEXAGON"]="hexagon",e["PENTAGON"]="pentagon"}(Me||(Me={}));var He=(Ce={},S()(Ce,Me.CIRCLE,De),S()(Ce,Me.HEXAGON,Be),S()(Ce,Me.TRIANGLE,Fe),S()(Ce,Me.SQUARE,ze),S()(Ce,Me.PENTAGON,Ue),S()(Ce,Ae.CYLINDER,De),S()(Ce,Ae.HEXAGONCOLUMN,Be),S()(Ce,Ae.TRIANGLECOLUMN,Fe),S()(Ce,Ae.SQUARECOLUMN,ze),S()(Ce,Ae.PENTAGONCOLUMN,Ue),Ce),Ve={};function Ge(e){var t=we(e.coordinates);return{vertices:[].concat(ge()(t),ge()(t),ge()(t),ge()(t)),indices:[0,1,2,2,3,0],size:t.length}}function qe(e){var t=e.shape,n=Qe(t,!1),r=n.positions,o=n.index,i=n.normals;return{vertices:r,indices:o,normals:i,size:5}}function Xe(e){var t=we(e.coordinates);return{vertices:ge()(t),indices:[0],size:t.length}}function Ye(e){var t=e.coordinates,n=t;Array.isArray(n[0][0])&&(n=t[0]);var r=Re(n,!1,0);return{vertices:r.attrPos,indices:r.attrIndex,normals:r.normals,size:6}}function We(e){var t=e.coordinates,n=me.a.flatten(t),r=n.vertices,o=n.dimensions,i=n.holes;return{indices:me()(r,i,o),vertices:r,size:o}}function Ze(e){var t=e.coordinates,n=Le(t,!0),r=n.positions,o=n.index,i=n.normals;return{vertices:r,indices:o,normals:i,size:5}}function Ke(e){for(var t=30,n=e.coordinates,r=[],o=[],i=function(e){r.push(e,1,e,n[0][0],n[0][1],n[1][0],n[1][1],e,-1,e,n[0][0],n[0][1],n[1][0],n[1][1]),e!==t-1&&o.push.apply(o,ge()([0,1,2,1,3,2].map((function(t){return 2*e+t}))))},a=0;a<t;a++)i(a);return{vertices:r,indices:o,size:7}}function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Ve&&Ve[e])return Ve[e];var n=He[e]?He[e]():He.cylinder(),r=Le([n],t);return Ve[e]=r,r}function Je(e){var t=$e();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function $e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var et='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n\nuniform float u_opacity;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\nvarying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying float v_distance_ratio;\nvarying vec4 v_color;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\n  gl_FragColor.a *= u_opacity;\n  if(u_line_type == LineTypeDash) {\n   float flag = 0.;\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n  }\n\n  if(u_aimate.x == Animate) {\n      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      alpha = smoothstep(0., 1., alpha);\n      gl_FragColor.a *= alpha;\n  }\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',tt='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\nvarying vec2 v_normal;\n\nvarying float v_distance_ratio;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nvarying vec4 v_dash_array;\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat bezier3(vec3 arr, float t) {\n  float ut = 1. - t;\n  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;\n}\nvec2 midPoint(vec2 source, vec2 target) {\n  vec2 center = target - source;\n  float r = length(center);\n  float theta = atan(center.y, center.x);\n  float thetaOffset = 0.314;\n  float r2 = r / 2.0 / cos(thetaOffset);\n  float theta2 = theta + thetaOffset;\n  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);\n  return mid;\n}\nfloat getSegmentRatio(float index) {\n    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));\n}\nvec2 interpolate (vec2 source, vec2 target, float t) {\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  vec2 mid = midPoint(source, target);\n  vec3 x = vec3(source.x, mid.x, target.x);\n  vec3 y = vec3(source.y, mid.y, target.y);\n  return vec2(bezier3(x ,t), bezier3(y,t));\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\n\nvoid main() {\n  v_color = a_Color;\n  vec2 source = a_Instance.rg;\n  vec2 target =  a_Instance.ba;\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  if(u_line_type == LineTypeDash) {\n      v_distance_ratio = segmentIndex / segmentNumber;\n      float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;\n      v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n    }\n  if(u_aimate.x == Animate) {\n      v_distance_ratio = segmentIndex / segmentNumber;\n  }\n  vec4 curr = project_position(vec4(interpolate(source, target, segmentRatio), 0.0, 1.0));\n  vec4 next = project_position(vec4(interpolate(source, target, nextSegmentRatio), 0.0, 1.0));\n  v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));\n\n  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));\n  setPickingColor(a_PickingColor);\n}\n',nt={solid:0,dash:1},rt=function(e){v()(n,e);var t=Je(n);function n(){return d()(this,n),t.apply(this,arguments)}return h()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.lineType,r=void 0===n?"solid":n,o=e.dashArray,i=void 0===o?[10,5]:o;return 2===i.length&&i.push(0,0),{u_opacity:t||1,segmentNumber:30,u_line_type:nt[r||"solid"],u_dash_array:i,u_blur:.9}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"arc2dline",vertexShader:tt,fragmentShader:et,triangulation:Ke,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:l["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:1,update:function(e,t,n,r){var o=e.size,i=void 0===o?1:o;return Array.isArray(i)?[i[0]]:[i]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:l["AttributeType"].Attribute,descriptor:{name:"a_Instance",buffer:{usage:l["gl"].STATIC_DRAW,data:[],type:l["gl"].FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}})}}]),n}(pe);function ot(e){var t=it();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function it(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var at='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute vec4 a_Color;\nattribute float a_Size;\n\nuniform mat4 u_ModelMatrix;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_distance_ratio;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nvarying vec4 v_dash_array;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\n  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n  vec2 x = mix(source, target, ratio);\n  vec2 center = mix(source, target, 0.5);\n  float dSourceCenter = distance(source, center);\n  float dXCenter = distance(x, center);\n  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n  float vertex_height = paraboloid(source, target, segmentRatio);\n\n  return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n  );\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;\n\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\n\nvoid main() {\n  v_color = a_Color;\n  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;\n  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n\n   if(u_line_type == LineTypeDash) {\n    v_distance_ratio = segmentIndex / segmentNumber;\n    float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n    if(u_aimate.x == Animate) {\n      v_distance_ratio = segmentIndex / segmentNumber;\n  }\n\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  vec3 curr = getPos(source, target, segmentRatio);\n  vec3 next = getPos(source, target, nextSegmentRatio);\n  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);\n  v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n\n  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));\n  setPickingColor(a_PickingColor);\n}\n',st='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n\nuniform float u_opacity;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\nvarying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying float v_distance_ratio;\nvarying vec4 v_color;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\n  gl_FragColor.a *= u_opacity;\n  if(u_line_type == LineTypeDash) {\n   float flag = 0.;\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n  }\n\n  if(u_aimate.x == Animate) {\n      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      alpha = smoothstep(0., 1., alpha);\n      gl_FragColor.a *= alpha;\n  }\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',ut={solid:0,dash:1},lt=function(e){v()(n,e);var t=ot(n);function n(){return d()(this,n),t.apply(this,arguments)}return h()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.lineType,r=void 0===n?"solid":n,o=e.dashArray,i=void 0===o?[10,5]:o;return 2===i.length&&i.push(0,0),{u_opacity:t||1,segmentNumber:30,u_line_type:ut[r]||0,u_dash_array:i}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"arc3Dline",vertexShader:at,fragmentShader:st,triangulation:Ke,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:l["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:1,update:function(e,t,n,r){var o=e.size,i=void 0===o?1:o;return Array.isArray(i)?[i[0]]:[i]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:l["AttributeType"].Attribute,descriptor:{name:"a_Instance",buffer:{usage:l["gl"].STATIC_DRAW,data:[],type:l["gl"].FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}})}}]),n}(pe);function ct(e){var t=dt();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function dt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ft='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n\nuniform float u_opacity;\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\nvarying vec2 v_normal;\nvarying vec4 v_dash_array;\nvarying float v_distance_ratio;\nvarying vec4 v_color;\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));\n  gl_FragColor.a *= u_opacity;\n  if(u_line_type == LineTypeDash) {\n   float flag = 0.;\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n  }\n\n  if(u_aimate.x == Animate) {\n      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      alpha = smoothstep(0., 1., alpha);\n      gl_FragColor.a *= alpha;\n  }\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',ht='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec4 a_Instance;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\nuniform float segmentNumber;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\nvarying vec4 v_color;\nvarying vec2 v_normal;\n\nvarying float v_distance_ratio;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5., 0, 0];\nvarying vec4 v_dash_array;\n\n#pragma include "projection"\n#pragma include "project"\n#pragma include "picking"\n\nfloat maps (float value, float start1, float stop1, float start2, float stop2) {\n    return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));\n}\n\nfloat getSegmentRatio(float index) {\n    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));\n}\n\nfloat paraboloid(vec2 source, vec2 target, float ratio) {\n    vec2 x = mix(source, target, ratio);\n    vec2 center = mix(source, target, 0.5);\n    float dSourceCenter = distance(source, center);\n    float dXCenter = distance(x, center);\n    return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);\n}\n\nvec3 getPos(vec2 source, vec2 target, float segmentRatio) {\n     float vertex_height = paraboloid(source, target, segmentRatio);\n\n    return vec3(\n    mix(source, target, segmentRatio),\n    sqrt(max(0.0, vertex_height))\n    );\n}\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size)/ 2.0;\n  return offset;\n}\nvec2 getNormal(vec2 line_clipspace, float offset_direction) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace);\n  // rotate by 90 degrees\n   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);\n}\nfloat getAngularDist (vec2 source, vec2 target) {\n  vec2 delta = source - target;\n  vec2 sin_half_delta = sin(delta / 2.0);\n  float a =\n    sin_half_delta.y * sin_half_delta.y +\n    cos(source.y) * cos(target.y) *\n    sin_half_delta.x * sin_half_delta.x;\n  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));\n}\nvec2 interpolate (vec2 source, vec2 target, float angularDist, float t) {\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  if(abs(angularDist - PI) < 0.001) {\n    return (1.0 - t) * source + t * target;\n  }\n  float a = sin((1.0 - t) * angularDist) / sin(angularDist);\n  float b = sin(t * angularDist) / sin(angularDist);\n  vec2 sin_source = sin(source);\n  vec2 cos_source = cos(source);\n  vec2 sin_target = sin(target);\n  vec2 cos_target = cos(target);\n  float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;\n  float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;\n  float z = a * sin_source.y + b * sin_target.y;\n  return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));\n}\n\nvoid main() {\n  v_color = a_Color;\n  vec2 source = radians(a_Instance.rg);\n  vec2 target = radians(a_Instance.ba);\n  float angularDist = getAngularDist(source, target);\n  float segmentIndex = a_Position.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  if(u_line_type == LineTypeDash) {\n    v_distance_ratio = segmentIndex / segmentNumber;\n    float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba);\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);\n  }\n  if(u_aimate.x == Animate) {\n      v_distance_ratio = segmentIndex / segmentNumber;\n  }\n  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);\n  v_distance_ratio = segmentIndex / segmentNumber;\n  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0));\n  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0));\n  v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);\n  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));\n  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));\n  setPickingColor(a_PickingColor);\n}\n\n',pt={solid:0,dash:1},vt=function(e){v()(n,e);var t=ct(n);function n(){return d()(this,n),t.apply(this,arguments)}return h()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.lineType,r=void 0===n?"solid":n,o=e.dashArray,i=void 0===o?[10,5]:o;return 2===i.length&&i.push(0,0),{u_opacity:t||1,segmentNumber:30,u_line_type:pt[r]||0,u_dash_array:i}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"arc2dline",vertexShader:ht,fragmentShader:ft,triangulation:Ke,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:l["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:1,update:function(e,t,n,r){var o=e.size,i=void 0===o?1:o;return Array.isArray(i)?[i[0]]:[i]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:l["AttributeType"].Attribute,descriptor:{name:"a_Instance",buffer:{usage:l["gl"].STATIC_DRAW,data:[],type:l["gl"].FLOAT},size:4,update:function(e,t,n,r){return[n[3],n[4],n[5],n[6]]}}})}}]),n}(pe);function gt(e){var t=_t();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function _t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var mt='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\nuniform float u_blur : 0.9;\nuniform float u_line_type: 0.0;\nuniform float u_opacity : 1.0;\nvarying vec4 v_color;\nvarying vec2 v_normal;\n\n\n// dash\nuniform float u_dash_offset : 0.0;\nuniform float u_dash_ratio : 0.1;\nvarying float v_distance_ratio;\nvarying vec4 v_dash_array;\nvarying float v_side;\n\n\n#pragma include "picking"\n\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n// [animate, duration, interval, trailLength],\nvoid main() {\n  gl_FragColor = v_color;\n  // anti-alias\n  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));\n  gl_FragColor.a *= u_opacity;\n\n  if(u_aimate.x == Animate) {\n      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_aimate.z)* (1.0/ u_aimate.z) + u_time / u_aimate.y);\n      alpha = (alpha + u_aimate.w -1.0) / u_aimate.w;\n      alpha = smoothstep(0., 1., alpha);\n      gl_FragColor.a *= alpha;\n  }\n // dash line\n  if(u_line_type == LineTypeDash) {\n    float flag = 0.;\n    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);\n    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {\n      flag = 1.;\n    }\n    gl_FragColor.a *=flag;\n    // gl_FragColor.a *=(1.0- step(v_dash_array.x, mod(v_distance_ratio, dashLength)));\n  }\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',yt='#define LineTypeSolid 0.0\n#define LineTypeDash 1.0\n#define Animate 0.0\n\nattribute float a_Miter;\nattribute vec4 a_Color;\nattribute vec2 a_Size;\nattribute vec3 a_Normal;\nattribute vec3 a_Position;\n\n// dash line\nattribute float a_Total_Distance;\nattribute float a_Distance;\n\nuniform mat4 u_ModelMatrix;\nuniform float u_line_type: 0.0;\nuniform vec4 u_dash_array: [10.0, 5.\uff0c0, 0];\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\n#pragma include "projection"\n#pragma include "picking"\n\nvarying vec4 v_color;\nvarying vec4 v_dash_array;\nvarying vec2 v_normal;\nvarying float v_distance_ratio;\nvarying float v_side;\n\n\nvoid main() {\n\n  if(u_line_type == LineTypeDash) {\n    v_distance_ratio = a_Distance / a_Total_Distance;\n    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;\n  }\n  if(u_aimate.x == Animate) {\n      v_distance_ratio = a_Distance / a_Total_Distance;\n  }\n  v_normal = vec2(reverse_offset_normal(a_Normal) * sign(a_Miter));\n  v_color = a_Color;\n  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);\n  vec2 offset = project_pixel(size.xy);\n  v_side = a_Miter * a_Size.x;\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n',bt={solid:0,dash:1},xt=function(e){v()(n,e);var t=gt(n);function n(){return d()(this,n),t.apply(this,arguments)}return h()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=e.lineType,r=void 0===n?"solid":n,o=e.dashArray,i=void 0===o?[10,5,0,0]:o;return 2===i.length&&i.push(0,0),{u_opacity:t||1,u_line_type:bt[r],u_dash_array:i}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"line",vertexShader:yt,fragmentShader:mt,triangulation:Ye,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var e=this,t=this.layer.getLayerConfig();t.lineType;this.styleAttributeService.registerStyleAttribute({name:"distance",type:l["AttributeType"].Attribute,descriptor:{name:"a_Distance",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:1,update:function(e,t,n,r){return[n[3]]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:l["AttributeType"].Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:1,update:function(e,t,n,r){return[n[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:l["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:2,update:function(t,n,r,o){var i=t.size,a=void 0===i?1:i;return Array.isArray(a)?[a[0],a[1]+e.layer.zIndex]:[a,e.layer.zIndex]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:l["AttributeType"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:l["gl"].STATIC_DRAW,data:[],type:l["gl"].FLOAT},size:3,update:function(e,t,n,r,o){return o}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:l["AttributeType"].Attribute,descriptor:{name:"a_Miter",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:1,update:function(e,t,n,r){return[n[4]]}}})}}]),n}(pe),wt={arc:rt,arc3d:lt,greatcircle:vt,line:xt},St=wt;function Et(e){var t=jt();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function jt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Tt=function(e){v()(n,e);var t=Et(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),e.type="LineLayer",e}return h()(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new St[e](this),this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var e=this.getModelType(),t={line:{},arc3d:{blend:"additive"},arc:{blend:"additive"},greatcircle:{blend:"additive"}};return t[e]}},{key:"getModelType",value:function(){var e,t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=null===t||void 0===t||null===(e=t.scale)||void 0===e?void 0:e.field;return n||"line"}}]),n}(he);function Pt(e){var t=kt();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function kt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ot='varying vec4 v_color;\nuniform float u_opacity: 1.0;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a *= u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Ct='precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec3 a_Position;\nattribute vec3 a_Pos;\nattribute vec4 a_Color;\nattribute vec3 a_Size;\nattribute vec3 a_Normal;\n\nuniform mat4 u_ModelMatrix;\nvarying vec4 v_color;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  vec3 size = a_Size * a_Position;\n\n  vec2 offset = project_pixel(size.xy);\n\n  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));\n  vec4 pos = vec4(project_pos.xy + offset, project_pixel(size.z), 1.0);\n\n  float lightWeight = calc_lighting(pos);\n  v_color =vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  gl_Position = project_common_position_to_clipspace(pos);\n  setPickingColor(a_PickingColor);\n}\n',At=function(e){v()(n,e);var t=Pt(n);function n(){return d()(this,n),t.apply(this,arguments)}return h()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity;return{u_opacity:t||1}}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointExtrude2",vertexShader:Ct,fragmentShader:Ot,triangulation:qe,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:l["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:3,update:function(e,t,n,r){var o=e.size;if(o){var i=[];return Array.isArray(o)&&(i=2===o.length?[o[0],o[0],o[1]]:o),Array.isArray(o)||(i=[o]),i}return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:l["AttributeType"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:l["gl"].STATIC_DRAW,data:[],type:l["gl"].FLOAT},size:3,update:function(e,t,n,r,o){return o}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:l["AttributeType"].Attribute,descriptor:{name:"a_Pos",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:3,update:function(e,t){var n=we(e.coordinates);return[n[0],n[1],0]}}})}}]),n}(pe);function Mt(e){var t=Rt();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function Rt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Lt="#define Animate 0.0\n\nuniform float u_blur : 0;\nuniform float u_opacity : 1;\nuniform float u_stroke_width : 1;\nuniform vec4 u_stroke_color : [0, 0, 0, 0];\nuniform float u_stroke_opacity : 1;\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\nuniform float u_time;\nuniform vec4 u_aimate: [ 0, 2., 1.0, 0.2 ];\n\n#pragma include \"sdf_2d\"\n#pragma include \"picking\"\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  lowp float antialiasblur = v_data.z;\n  float antialiased_blur = -max(u_blur, antialiasblur);\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  } else if (shape == 1) {\n    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  } else if (shape == 2) {\n    outer_df = sdBox(v_data.xy, vec2(1.));\n    inner_df = sdBox(v_data.xy, vec2(r));\n  } else if (shape == 3) {\n    outer_df = sdPentagon(v_data.xy, 0.8);\n    inner_df = sdPentagon(v_data.xy, r * 0.8);\n  } else if (shape == 4) {\n    outer_df = sdHexagon(v_data.xy, 0.8);\n    inner_df = sdHexagon(v_data.xy, r * 0.8);\n  } else if (shape == 5) {\n    outer_df = sdOctogon(v_data.xy, 1.0);\n    inner_df = sdOctogon(v_data.xy, r);\n  } else if (shape == 6) {\n    outer_df = sdHexagram(v_data.xy, 0.52);\n    inner_df = sdHexagram(v_data.xy, r * 0.52);\n  } else if (shape == 7) {\n    outer_df = sdRhombus(v_data.xy, vec2(1.0));\n    inner_df = sdRhombus(v_data.xy, vec2(r));\n  } else if (shape == 8) {\n    outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  }\n\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n    antialiased_blur,\n    0.0,\n    inner_df\n  );\n  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;\n  float PI = 3.14159;\n  float N_RINGS = 3.0;\n  float FREQ = 1.0;\n\n  // gl_FragColor = v_color * color_t;\n  // gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  gl_FragColor.a = gl_FragColor.a * opacity_t;\n  if(u_aimate.x == Animate) {\n    float d = length(v_data.xy);\n    float intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_aimate.z - u_aimate.y * u_time)), 0.0, 1.0);\n    gl_FragColor = vec4(gl_FragColor.xyz, intensity);\n  }\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n",It='attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec2 a_Extrude;\nattribute float a_Size;\nattribute float a_Shape;\nuniform mat4 u_ModelMatrix;\n\nuniform float u_stroke_width : 2;\n\nvarying vec4 v_data;\nvarying vec4 v_color;\nvarying float v_radius;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  // unpack color(vec2)\n  v_color = a_Color;\n  vec2 extrude = a_Extrude;\n\n  float shape_type = a_Shape;\n\n  float newSize = setPickingSize(a_Size);\n\n  // radius(16-bit)\n  v_radius = newSize;\n\n  vec2 offset = project_pixel(extrude * (newSize + u_stroke_width));\n  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));\n\n  // TODO: billboard\n  // anti-alias\n  float antialiasblur = 1.0 / u_DevicePixelRatio / (newSize + u_stroke_width);\n\n  // construct point coords\n  v_data = vec4(extrude, antialiasblur,shape_type);\n\n  setPickingColor(a_PickingColor);\n}\n',Nt=function(e){v()(n,e);var t=Mt(n);function n(){return d()(this,n),t.apply(this,arguments)}return h()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.stroke,o=void 0===r?"rgb(0,0,0,0)":r,i=e.strokeWidth,a=void 0===i?1:i,s=e.strokeOpacity,u=void 0===s?1:s;return{u_opacity:n,u_stroke_width:a,u_stroke_color:Object(I["q"])(o),u_stroke_opacity:u}}},{key:"getAnimateUniforms",value:function(){var e=this.layer.getLayerConfig(),t=e.animateOption;return{u_aimate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),Ge)}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"pointfill",vertexShader:It,fragmentShader:Lt,triangulation:Ge,depth:{enable:!1},blend:this.getBlend()})]}},{key:"animateOption2Array",value:function(e){return[e.enable?0:1,e.speed||1,e.rings||3,0]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"extrude",type:l["AttributeType"].Attribute,descriptor:{name:"a_Extrude",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:2,update:function(e,t,n,r){var o=[1,1,-1,1,-1,-1,1,-1],i=r%4*2;return[o[i],o[i+1]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:l["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:1,update:function(e,t,n,r){var o=e.size,i=void 0===o?5:o;return Array.isArray(i)?[i[0]]:[i]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:l["AttributeType"].Attribute,descriptor:{name:"a_Shape",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:1,update:function(t,n,r,o){var i=t.shape,a=void 0===i?2:i,s=e.layer.getLayerConfig().shape2d,u=s.indexOf(a);return[u]}}})}}]),n}(pe);function Dt(e){var t=zt();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function zt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ft='\nuniform sampler2D u_texture;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform vec2 u_textSize;\nuniform float u_stroke_width : 1;\nuniform vec4 u_stroke_color : [1, 1, 1, 1];\nuniform float u_stroke_opacity : 1;\nuniform float u_opacity : 1;\n\nvarying float v_size;\n#pragma include "picking"\nvoid main(){\nvec2 pos= v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;\nvec2 fragmentPosition = 2.0*gl_PointCoord - 1.0;\nfloat distance = length(fragmentPosition);\nfloat distanceSqrd = distance * distance;\nfloat radius = 1.;\nfloat r = 1.0 - smoothstep(radius-(radius*0.01),\n                         radius+(radius*0.01),\n                         distanceSqrd);\n  vec4 textureColor=texture2D(u_texture,pos);\n  if(v_color == vec4(1.0)){\n        gl_FragColor= vec4(textureColor.xyz, textureColor.w);\n  }else {\n        gl_FragColor= step(0.01, textureColor.z) * v_color;\n  }\n  gl_FragColor.a =gl_FragColor.a * u_opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Bt='precision highp float;\nattribute vec3 a_Position;\nattribute vec4 a_Color;\nattribute vec2 a_Uv;\nattribute float a_Size;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform mat4 u_ModelMatrix;\nuniform float u_stroke_width : 1;\nvarying float v_size;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n   v_color = a_Color;\n   v_uv = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   v_size = a_Size;\n\n   gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n\n  setPickingColor(a_PickingColor);\n\n}\n',Ut=function(e){v()(n,e);var t=Dt(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),e.texture=void 0,e}return h()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity;return{u_opacity:t||1,u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128]}}},{key:"buildModels",value:function(){var e=this;return this.initIconFontGlyphs(),this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",(function(){e.updateTexture(),e.layer.render()})),[this.layer.buildLayerModel({moduleName:"pointiconImage",vertexShader:Bt,fragmentShader:Ft,triangulation:Xe,primitive:l["gl"].POINTS,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:l["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:1,update:function(e,t,n,r){var o=e.size;return Array.isArray(o)?[o[0]]:[o]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:l["AttributeType"].Attribute,descriptor:{name:"a_Uv",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:2,update:function(t,n,r,o){var i=e.fontService.mapping,a=t.shape,s=e.fontService.getGlyph(a),u=i[s],l=u.x,c=u.y;return[l,c]}}})}},{key:"updateTexture",value:function(){var e=this.rendererService.createTexture2D,t=this.fontService.canvas;this.texture=e({data:t,mag:l["gl"].LINEAR,min:l["gl"].LINEAR,width:t.width,height:t.height})}},{key:"initIconFontGlyphs",value:function(){var e=this,t=this.layer.getLayerConfig(),n=t.fontWeight,r=void 0===n?"normal":n,o=t.fontFamily,i=void 0===o?"sans-serif":o,a=this.layer.getEncodedData(),s=[];a.forEach((function(t){var n=t.shape,r=void 0===n?"":n;r=r.toString();var o=e.fontService.getGlyph(r);-1===s.indexOf(o)&&s.push(o)})),this.fontService.setFontOptions({characterSet:s,fontWeight:r,fontFamily:i,fontSize:48})}}]),n}(pe);function Ht(e){var t=Vt();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function Vt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Gt='\nuniform sampler2D u_texture;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform vec2 u_textSize;\nuniform float u_stroke_width : 1;\nuniform vec4 u_stroke_color : [1, 1, 1, 1];\nuniform float u_stroke_opacity : 1;\nuniform float u_opacity : 1;\n\nvarying float v_size;\n#pragma include "picking"\nvoid main(){\nvec2 pos= v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;\nvec2 fragmentPosition = 2.0*gl_PointCoord - 1.0;\nfloat distance = length(fragmentPosition);\nfloat distanceSqrd = distance * distance;\nfloat radius = 1.;\nfloat r = 1.0 - smoothstep(radius-(radius*0.01),\n                         radius+(radius*0.01),\n                         distanceSqrd);\n  vec4 textureColor=texture2D(u_texture,pos);\n  if(v_color == vec4(1.0)){\n        gl_FragColor= vec4(textureColor.xyz, textureColor.w);\n  }else {\n        gl_FragColor= step(0.01, textureColor.z) * v_color;\n  }\n  gl_FragColor.a =gl_FragColor.a * u_opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',qt='precision highp float;\nattribute vec3 a_Position;\nattribute vec4 a_Color;\nattribute vec2 a_Uv;\nattribute float a_Size;\nvarying vec4 v_color;\nvarying vec2 v_uv;\nuniform mat4 u_ModelMatrix;\nuniform float u_stroke_width : 1;\nvarying float v_size;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n   v_color = a_Color;\n   v_uv = a_Uv;\n   vec4 project_pos = project_position(vec4(a_Position, 1.0));\n   v_size = a_Size;\n\n   gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n   gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n\n  setPickingColor(a_PickingColor);\n\n}\n',Xt=function(e){v()(n,e);var t=Ht(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),e.texture=void 0,e}return h()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity;return this.rendererService.getDirty()&&this.texture.update(),{u_opacity:t||1,u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128]}}},{key:"buildModels",value:function(){var e=this;return this.registerBuiltinAttributes(),this.updateTexture(),this.iconService.on("imageUpdate",(function(){e.updateTexture(),e.layer.render()})),[this.layer.buildLayerModel({moduleName:"pointImage",vertexShader:qt,fragmentShader:Gt,triangulation:Xe,primitive:l["gl"].POINTS,depth:{enable:!1},blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){var e=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:l["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:1,update:function(e,t,n,r){var o=e.size,i=void 0===o?5:o;return Array.isArray(i)?[i[0]]:[i]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:l["AttributeType"].Attribute,descriptor:{name:"a_Uv",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:2,update:function(t,n,r,o){var i=e.iconService.getIconMap(),a=t.shape,s=i[a]||{x:0,y:0},u=s.x,l=s.y;return[u,l]}}})}},{key:"updateTexture",value:function(){var e=this.rendererService.createTexture2D;this.texture=e({data:this.iconService.getCanvas(),mag:l["gl"].LINEAR,min:l["gl"].LINEAR,width:1024,height:this.iconService.canvasHeight||128})}}]),n}(pe);function Yt(e){var t=Wt();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function Wt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Zt='\nuniform float u_opacity : 1;\nvarying vec4 v_color;\n#pragma include "picking"\nvoid main() {\n  gl_FragColor = v_color;\n  gl_FragColor.a =gl_FragColor.a * u_opacity;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Kt='\nattribute vec3 a_Position;\nuniform mat4 u_ModelMatrix;\nattribute float a_Size;\nattribute vec4 a_Color;\nvarying vec4 v_color;\n#pragma include "projection"\n#pragma include "picking"\nvoid main() {\n  v_color = a_Color;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);\n  gl_Position = project_common_position_to_clipspace(project_pos);\n  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;\n    setPickingColor(a_PickingColor);\n}\n';function Qt(e){var t=e.coordinates;return{vertices:ge()(t),indices:[0],size:t.length}}var Jt=function(e){v()(n,e);var t=Yt(n);function n(){return d()(this,n),t.apply(this,arguments)}return h()(n,[{key:"getDefaultStyle",value:function(){return{blend:"additive"}}},{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.stroke,o=void 0===r?"rgb(0,0,0,0)":r,i=e.strokeWidth,a=void 0===i?1:i;return{u_opacity:n,u_stroke_width:a,u_stroke_color:Object(I["q"])(o)}}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"normalpoint",vertexShader:Kt,fragmentShader:Zt,triangulation:Qt,depth:{enable:!1},primitive:l["gl"].POINTS,blend:this.getBlend()})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:l["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:1,update:function(e,t,n,r){var o=e.size,i=void 0===o?1:o;return Array.isArray(i)?[i[0]]:[i]}}})}},{key:"defaultStyleOptions",value:function(){return{blend:l["BlendType"].additive}}}]),n}(pe);function $t(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=en(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function en(e,t){if(e){if("string"===typeof e)return tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tn(e,t):void 0}}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nn=function(){function e(t,n,r){d()(this,e),this.boxCells=[],this.xCellCount=void 0,this.yCellCount=void 0,this.boxKeys=void 0,this.bboxes=void 0,this.width=void 0,this.height=void 0,this.xScale=void 0,this.yScale=void 0,this.boxUid=void 0;var o=this.boxCells;this.xCellCount=Math.ceil(t/r),this.yCellCount=Math.ceil(n/r);for(var i=0;i<this.xCellCount*this.yCellCount;i++)o.push([]);this.boxKeys=[],this.bboxes=[],this.width=t,this.height=n,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/n,this.boxUid=0}return h()(e,[{key:"insert",value:function(e,t,n,r,o){this.forEachCell(t,n,r,o,this.insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(o)}},{key:"query",value:function(e,t,n,r,o){return this.queryHitTest(e,t,n,r,!1,o)}},{key:"hitTest",value:function(e,t,n,r,o){return this.queryHitTest(e,t,n,r,!0,o)}},{key:"insertBoxCell",value:function(e,t,n,r,o,i){this.boxCells[o].push(i)}},{key:"queryHitTest",value:function(e,t,n,r,o,i){if(n<0||e>this.width||r<0||t>this.height)return!o&&[];var a=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(o)return!0;for(var s=0;s<this.boxKeys.length;s++)a.push({key:this.boxKeys[s],x1:this.bboxes[4*s],y1:this.bboxes[4*s+1],x2:this.bboxes[4*s+2],y2:this.bboxes[4*s+3]});return i?a.filter(i):a}var u={hitTest:o,seenUids:{box:{},circle:{}}};return this.forEachCell(e,t,n,r,this.queryCell,a,u,i),o?a.length>0:a}},{key:"queryCell",value:function(e,t,n,r,o,i,a,s){var u=a.seenUids,l=this.boxCells[o];if(null!==l){var c,d=this.bboxes,f=$t(l);try{for(f.s();!(c=f.n()).done;){var h=c.value;if(!u.box[h]){u.box[h]=!0;var p=4*h;if(e<=d[p+2]&&t<=d[p+3]&&n>=d[p+0]&&r>=d[p+1]&&(!s||s(this.boxKeys[h]))){if(a.hitTest)return i.push(!0),!0;i.push({key:this.boxKeys[h],x1:d[p],y1:d[p+1],x2:d[p+2],y2:d[p+3]})}}}}catch(v){f.e(v)}finally{f.f()}}return!1}},{key:"forEachCell",value:function(e,t,n,r,o,i,a,s){for(var u=this.convertToXCellCoord(e),l=this.convertToYCellCoord(t),c=this.convertToXCellCoord(n),d=this.convertToYCellCoord(r),f=u;f<=c;f++)for(var h=l;h<=d;h++){var p=this.xCellCount*h+f;if(o.call(this,e,t,n,r,p,i,a,s))return}}},{key:"convertToXCellCoord",value:function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}},{key:"convertToYCellCoord",value:function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}}]),e}(),rn=nn,on=function(){function e(t,n){d()(this,e),this.width=void 0,this.height=void 0,this.grid=void 0,this.viewportPadding=100,this.screenRightBoundary=void 0,this.screenBottomBoundary=void 0,this.gridRightBoundary=void 0,this.gridBottomBoundary=void 0,this.width=t,this.height=n,this.viewportPadding=Math.max(t,n),this.grid=new rn(t+this.viewportPadding,n+this.viewportPadding,25),this.screenRightBoundary=t+this.viewportPadding,this.screenBottomBoundary=n+this.viewportPadding,this.gridRightBoundary=t+2*this.viewportPadding,this.gridBottomBoundary=n+2*this.viewportPadding}return h()(e,[{key:"placeCollisionBox",value:function(e){var t=e.x1+e.anchorPointX+this.viewportPadding,n=e.y1+e.anchorPointY+this.viewportPadding,r=e.x2+e.anchorPointX+this.viewportPadding,o=e.y2+e.anchorPointY+this.viewportPadding;return!this.isInsideGrid(t,n,r,o)||this.grid.hitTest(t,n,r,o)?{box:[]}:{box:[t,n,r,o]}}},{key:"insertCollisionBox",value:function(e,t){var n={featureIndex:t};this.grid.insert(n,e[0],e[1],e[2],e[3])}},{key:"project",value:function(e,t,n){var r=ye["d"].fromValues(t,n,0,1),o=ye["d"].create(),i=ye["a"].fromValues.apply(ye["a"],ge()(e));return ye["d"].transformMat4(o,r,i),{x:(o[0]/o[3]+1)/2*this.width+this.viewportPadding,y:(-o[1]/o[3]+1)/2*this.height+this.viewportPadding}}},{key:"isInsideGrid",value:function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}}]),e}();function an(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=sn(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function sn(e,t){if(e){if("string"===typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?un(e,t):void 0}}function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ln(e){var t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0;break;default:t=.5}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0;break;default:n=.5}return{horizontalAlign:t,verticalAlign:n}}function cn(e,t,n,r,o){if(o){var i=e[r],a=i.glyph;if(a)for(var s=t[a].advance*i.scale,u=(e[r].x+s)*o,l=n;l<=r;l++)e[l].x-=u}}function dn(e,t,n,r,o,i,a){var s,u=(t-n)*o,l=(-r*a+.5)*i,c=an(e);try{for(c.s();!(s=c.n()).done;){var d=s.value;d.x+=u,d.y+=l}}catch(f){c.e(f)}finally{c.f()}}function fn(e,t,n,r,o,i,a){var s=-8,u=0,l=s,c=0,d=e.positionedGlyphs,f="right"===i?1:"left"===i?0:.5,h=d.length;n.forEach((function(e){if(e.split("").forEach((function(e){var n=t[e],r=0;n&&(d.push({glyph:e,x:u,y:l+r,vertical:!1,scale:1,metrics:n}),u+=n.advance+a)})),d.length!==h){var n=u-a;c=Math.max(n,c),cn(d,t,h,d.length-1,f)}u=0,l+=r}));var p=ln(o),v=p.horizontalAlign,g=p.verticalAlign;dn(d,f,v,g,c,r,n.length);var _=l-s;e.top+=-g*_,e.bottom=e.top+_,e.left+=-v*c,e.right=e.left+c}function hn(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[0,0],s=e.split("\n"),u=[],l={positionedGlyphs:u,top:a[1],bottom:a[1],left:a[0],right:a[0],lineCount:s.length,text:e};return fn(l,t,s,n,r,o,i),!!u.length&&l}function pn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0],r=arguments.length>2?arguments[2]:void 0,o=e.positionedGlyphs,i=void 0===o?[]:o,a=[],s=an(i);try{for(s.s();!(t=s.n()).done;){var u=t.value,l=u.metrics,c=4,d=l.advance*u.scale/2,f=r?[u.x+d,u.y]:[0,0],h=r?[0,0]:[u.x+d+n[0],u.y+n[1]],p=(0-c)*u.scale-d+h[0],v=(0-c)*u.scale+h[1],g=p+l.width*u.scale,_=v+l.height*u.scale,m={x:p,y:v},y={x:g,y:v},b={x:p,y:_},x={x:g,y:_};a.push({tl:m,tr:y,bl:b,br:x,tex:l,glyphOffset:f})}}catch(w){s.e(w)}finally{s.f()}return a}function vn(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=gn(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function gn(e,t){if(e){if("string"===typeof e)return _n(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_n(e,t):void 0}}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mn(e){var t=yn();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function yn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var bn='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 48.0\nuniform sampler2D u_sdf_map;\nuniform float u_gamma_scale : 0.5;\n// uniform float u_font_size : 24.0;\nuniform float u_opacity : 1.0;\nuniform float u_stroke_opacity: 1.0;\nuniform vec4 u_stroke : [0, 0, 0, 1];\nuniform float u_strokeWidth : 2.0;\nuniform float u_halo_blur : 0.5;\nuniform float u_DevicePixelRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_uv;\nvarying float v_gamma_scale;\nvarying float v_fontScale;\n\n#pragma include "picking"\nvoid main() {\n  // get sdf from atlas\n  float dist = texture2D(u_sdf_map, v_uv).a;\n\n  // float fontScale = u_font_size / FONT_SIZE;\n\n  lowp float buff = (6.0 - u_strokeWidth / v_fontScale) / SDF_PX;\n  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;\n\n  highp float gamma_scaled = gamma * v_gamma_scale;\n\n  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), vec4(u_stroke.rgb, u_stroke.a * u_opacity), smoothstep(0., 0.5, 1. - dist));\n  gl_FragColor.a= gl_FragColor.a * alpha;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',xn='#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105\n#define FONT_SIZE 24.0\nattribute vec3 a_Position;\nattribute vec2 a_tex;\nattribute vec2 a_textOffsets;\nattribute vec4 a_Color;\nattribute float a_Size;\n\nuniform vec2 u_sdf_map_size;\nuniform mat4 u_ModelMatrix;\n\nvarying vec2 v_uv;\nvarying float v_gamma_scale;\nvarying vec4 v_color;\nvarying float v_fontScale;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  v_color = a_Color;\n  v_uv = a_tex / u_sdf_map_size;\n\n  // \u6587\u672c\u7f29\u653e\u6bd4\u4f8b\n  float fontScale = a_Size / FONT_SIZE;\n   v_fontScale = fontScale;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n\n  vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  gl_Position = vec4(projected_position.xy / projected_position.w\n    + a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);\n  v_gamma_scale = gl_Position.w;\n  setPickingColor(a_PickingColor);\n\n}\n';function wn(e){var t=this,n=e.id,r=[],o=[];if(!t.glyphInfoMap||!t.glyphInfoMap[n])return{vertices:[],indices:[],size:7};var i=t.glyphInfoMap[n].centroid,a=2===i.length?[i[0],i[1],0]:i;return t.glyphInfoMap[n].glyphQuads.forEach((function(e,t){r.push.apply(r,ge()(a).concat([e.tex.x,e.tex.y+e.tex.height,e.tl.x,e.tl.y],ge()(a),[e.tex.x+e.tex.width,e.tex.y+e.tex.height,e.tr.x,e.tr.y],ge()(a),[e.tex.x+e.tex.width,e.tex.y,e.br.x,e.br.y],ge()(a),[e.tex.x,e.tex.y,e.bl.x,e.bl.y])),o.push(0+4*t,1+4*t,2+4*t,2+4*t,3+4*t,0+4*t)})),{vertices:r,indices:o,size:7}}var Sn=function(e){v()(n,e);var t=mn(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),e.glyphInfo=void 0,e.glyphInfoMap={},e.texture=void 0,e.currentZoom=-1,e.extent=void 0,e.textureHeight=0,e.textCount=0,e.preTextStyle={},e}return h()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t,r=e.stroke,o=void 0===r?"#fff":r,i=e.strokeWidth,a=void 0===i?0:i,s=e.strokeOpacity,u=void 0===s?1:s,l=e.textAnchor,c=void 0===l?"center":l,d=e.textAllowOverlap,f=void 0!==d&&d,h=e.halo,p=void 0===h?.5:h,v=e.gamma,g=void 0===v?2:v,_=this.fontService,m=_.canvas,y=_.mapping;return Object.keys(y).length!==this.textCount&&(this.updateTexture(),this.textCount=Object.keys(y).length),this.preTextStyle={textAnchor:c,textAllowOverlap:f},{u_opacity:n,u_stroke_opacity:u,u_sdf_map:this.texture,u_stroke:Object(I["q"])(o),u_halo_blur:p,u_gamma_scale:g,u_sdf_map_size:[m.width,m.height],u_strokeWidth:a}}},{key:"buildModels",value:function(){var e=this;this.layer.on("remapping",(function(){e.initGlyph(),e.updateTexture(),e.reBuildModel()})),this.extent=this.textExtent();var t=this.layer.getLayerConfig(),n=t.textAnchor,r=void 0===n?"center":n,o=t.textAllowOverlap,i=void 0===o||o;return this.preTextStyle={textAnchor:r,textAllowOverlap:i},this.initGlyph(),this.updateTexture(),this.filterGlyphs(),[this.layer.buildLayerModel({moduleName:"pointText",vertexShader:xn,fragmentShader:bn,triangulation:wn.bind(this),depth:{enable:!1},blend:this.getBlend()})]}},{key:"needUpdate",value:function(){var e=this.layer.getLayerConfig(),t=e.textAllowOverlap,n=void 0!==t&&t,r=this.mapService.getZoom(),o=this.mapService.getBounds(),i=Object(I["i"])(this.extent,o);return(!n&&(Math.abs(this.currentZoom-r)>1||!i)||n!==this.preTextStyle.textAllowOverlap)&&(this.reBuildModel(),!0)}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:l["AttributeType"].Attribute,descriptor:{name:"a_textOffsets",buffer:{usage:l["gl"].STATIC_DRAW,data:[],type:l["gl"].FLOAT},size:2,update:function(e,t,n,r){return[n[5],n[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:l["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:1,update:function(e,t,n,r){var o=e.size,i=void 0===o?12:o;return Array.isArray(i)?[i[0]]:[i]}}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:l["AttributeType"].Attribute,descriptor:{name:"a_tex",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:2,update:function(e,t,n,r){return[n[3],n[4]]}}})}},{key:"textExtent",value:function(){var e=this.mapService.getBounds();return Object(I["p"])(e,.5)}},{key:"initTextFont",value:function(){var e=this.layer.getLayerConfig(),t=e.fontWeight,n=void 0===t?"400":t,r=e.fontFamily,o=void 0===r?"sans-serif":r,i=this.layer.getEncodedData(),a=[];i.forEach((function(e){var t=e.shape,n=void 0===t?"":t;n=n.toString();var r,o=vn(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;-1===a.indexOf(i)&&a.push(i)}}catch(s){o.e(s)}finally{o.f()}})),this.fontService.setFontOptions({characterSet:a,fontWeight:n,fontFamily:o})}},{key:"generateGlyphLayout",value:function(){var e=this,t=this.fontService.mapping,n=this.layer.getLayerConfig(),r=n.spacing,o=void 0===r?2:r,i=n.textAnchor,a=void 0===i?"center":i,s=n.textOffset,u=this.layer.getEncodedData();this.glyphInfo=u.map((function(n){var r=n.shape,i=void 0===r?"":r,u=n.coordinates,l=n.id,c=n.size,d=void 0===c?1:c,f=hn(i.toString(),t,d,a,"center",o,s),h=pn(f,s,!1);return n.shaping=f,n.glyphQuads=h,n.centroid=we(u),e.glyphInfoMap[l]={shaping:f,glyphQuads:h,centroid:we(u)},n}))}},{key:"filterGlyphs",value:function(){var e=this,t=this.layer.getLayerConfig(),n=t.padding,r=void 0===n?[4,4]:n,o=t.textAllowOverlap,i=void 0!==o&&o;if(!i){this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();var a=this.rendererService.getViewportSize(),s=a.width,u=a.height,l=new on(s,u),c=this.glyphInfo.filter((function(t){var n=t.shaping,o=t.id,i=void 0===o?0:o,a=t.centroid,s=t.size,u=s/24,c=e.mapService.lngLatToContainer(a),d=l.placeCollisionBox({x1:n.left*u-r[0],x2:n.right*u+r[0],y1:n.top*u-r[1],y2:n.bottom*u+r[1],anchorPointX:c.x,anchorPointY:c.y}),f=d.box;return!(!f||!f.length)&&(l.insertCollisionBox(f,i),!0)}));c.forEach((function(t){e.glyphInfoMap[t.id]=t}))}}},{key:"initGlyph",value:function(){this.initTextFont(),this.generateGlyphLayout()}},{key:"updateTexture",value:function(){var e=this.rendererService.createTexture2D,t=this.fontService.canvas;this.textureHeight=t.height,this.texture=e({data:t,mag:l["gl"].LINEAR,min:l["gl"].LINEAR,width:t.width,height:t.height})}},{key:"reBuildModel",value:function(){this.filterGlyphs(),this.layer.models=[this.layer.buildLayerModel({moduleName:"pointText",vertexShader:xn,fragmentShader:bn,triangulation:wn.bind(this),depth:{enable:!1},blend:this.getBlend()})]}}]),n}(pe),En={fill:Nt,image:Xt,normal:Jt,extrude:At,text:Sn,icon:Ut},jn=En;function Tn(e){var t=Pn();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function Pn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var kn=function(e){v()(n,e);var t=Tn(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),e.type="PointLayer",e}return h()(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new jn[e](this),this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getDefaultConfig",value:function(){var e=this.getModelType(),t={normal:{blend:"additive"},fill:{blend:"normal"},extrude:{},image:{},icon:{},text:{blend:"normal"}};return t[e]}},{key:"getModelType",value:function(){var e=this.getEncodedData(),t=this.getLayerConfig(),n=t.shape2d,r=t.shape3d,o=this.iconService.getIconMap(),i=e.find((function(e){return e.hasOwnProperty("shape")}));if(i){var a=i.shape;return"dot"===a?"normal":-1!==(null===n||void 0===n?void 0:n.indexOf(a))?"fill":-1!==(null===r||void 0===r?void 0:r.indexOf(a))?"extrude":o.hasOwnProperty(a)?"image":""!==this.fontService.getGlyph(a)?"icon":"text"}return"normal"}}]),n}(he);function On(e){var t=Cn();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function Cn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var An='uniform float u_opacity: 1.0;\nvarying vec4 v_Color;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_Color;\n  gl_FragColor.a *= u_opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Mn='precision highp float;\n\n#define ambientRatio 0.5\n#define diffuseRatio 0.3\n#define specularRatio 0.2\n\nattribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Normal;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\n\nvarying vec4 v_Color;\n\n#pragma include "projection"\n#pragma include "light"\n#pragma include "picking"\n\nvoid main() {\n  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);\n  vec4 project_pos = project_position(pos);\n\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  float lightWeight = calc_lighting(pos);\n  // v_Color = a_Color;\n  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);\n\n  setPickingColor(a_PickingColor);\n}\n',Rn=function(e){v()(n,e);var t=On(n);function n(){return d()(this,n),t.apply(this,arguments)}return h()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t;return{u_opacity:n}}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"polygonExtrude",vertexShader:Mn,fragmentShader:An,triangulation:Ze})]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"normal",type:l["AttributeType"].Attribute,descriptor:{name:"a_Normal",buffer:{usage:l["gl"].STATIC_DRAW,data:[],type:l["gl"].FLOAT},size:3,update:function(e,t,n,r,o){return o}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:l["AttributeType"].Attribute,descriptor:{name:"a_Size",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:1,update:function(e,t,n,r){var o=e.size,i=void 0===o?10:o;return Array.isArray(i)?[i[0]]:[i]}}})}}]),n}(pe);function Ln(e){var t=In();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function In(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Nn='uniform float u_opacity: 1.0;\nvarying vec4 v_Color;\n\n#pragma include "picking"\n\nvoid main() {\n  gl_FragColor = v_Color;\n  gl_FragColor.a *= u_opacity;\n  gl_FragColor = filterColor(gl_FragColor);\n}\n',Dn='attribute vec4 a_Color;\nattribute vec3 a_Position;\nattribute vec3 a_Normal;\nattribute float a_Size;\nuniform mat4 u_ModelMatrix;\n\nvarying vec4 v_Color;\n\n#pragma include "projection"\n#pragma include "picking"\n\nvoid main() {\n  v_Color = a_Color;\n  vec4 project_pos = project_position(vec4(a_Position, 1.0));\n  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));\n\n  setPickingColor(a_PickingColor);\n}\n\n',zn=function(e){v()(n,e);var t=Ln(n);function n(){return d()(this,n),t.apply(this,arguments)}return h()(n,[{key:"getUninforms",value:function(){var e=this.layer.getLayerConfig(),t=e.opacity,n=void 0===t?1:t;return{u_opacity:n}}},{key:"buildModels",value:function(){return[this.layer.buildLayerModel({moduleName:"polygon",vertexShader:Dn,fragmentShader:Nn,triangulation:We,depth:{enable:!1}})]}},{key:"registerBuiltinAttributes",value:function(){}}]),n}(pe),Fn={fill:zn,line:xt,extrude:Rn,text:Sn,point_fill:Nt,point_image:Xt,point_normal:Jt,point_extrude:At},Bn=Fn;function Un(e){var t=Hn();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _()(this,n)}}function Hn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Vn,Gn,qn,Xn,Yn,Wn,Zn,Kn,Qn=function(e){v()(n,e);var t=Un(n);function n(){var e;d()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),e.type="PolygonLayer",e}return h()(n,[{key:"buildModels",value:function(){var e=this.getModelType();this.layerModel=new Bn[e](this),this.models=this.layerModel.buildModels()}},{key:"getConfigSchema",value:function(){return{properties:{opacity:{type:"number",minimum:0,maximum:1}}}}},{key:"getModelType",value:function(){var e,t=this.styleAttributeService.getLayerStyleAttribute("shape"),n=null===t||void 0===t||null===(e=t.scale)||void 0===e?void 0:e.field;return"fill"===n?"fill":"extrude"===n?"extrude":"line"===n?"line":this.getPointModelType()}},{key:"getPointModelType",value:function(){var e=this.getEncodedData(),t=this.getLayerConfig(),n=t.shape2d,r=t.shape3d,o=this.iconService.getIconMap(),i=e.find((function(e){return e.hasOwnProperty("shape")}));if(i){var a=i.shape;return"dot"===a?"point_normal":-1!==(null===n||void 0===n?void 0:n.indexOf(a))?"point_fill":-1!==(null===r||void 0===r?void 0:r.indexOf(a))?"point_extrude":o.hasOwnProperty(a)?"point_image":"text"}return"fill"}}]),n}(he);function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var er,tr,nr,rr,or,ir,ar,sr,ur,lr,cr,dr,fr,hr,pr,vr,gr,_r,mr,yr,br=(Vn=Object(F["injectable"])(),Gn=Object(F["inject"])(l["TYPES"].IGlobalConfigService),qn=Object(F["inject"])(l["TYPES"].ILogService),Vn((Kn=function(){function e(){d()(this,e),j()(this,"configService",Wn,this),j()(this,"logger",Zn,this)}return h()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("DataMappingPlugin",(function(){n.generateMaping(e,{styleAttributeService:r})})),e.hooks.beforeRenderData.tap("DataMappingPlugin",(function(){return e.dataState.dataMappingNeedUpdate=!1,n.generateMaping(e,{styleAttributeService:r}),!0})),e.hooks.beforeRender.tap("DataMappingPlugin",(function(){var t=r.getLayerStyleAttributes()||[],o=r.getLayerStyleAttribute("filter"),i=e.getSource().data.dataArray,a=t.filter((function(e){return e.needRemapping})),s=i;(null===o||void 0===o?void 0:o.needRemapping)&&(null===o||void 0===o?void 0:o.scale)&&(s=i.filter((function(e){return n.applyAttributeMapping(o,e)[0]}))),a.length&&((null===o||void 0===o?void 0:o.needRemapping)?(e.setEncodedData(n.mapping(t,s)),o.needRemapping=!1):e.setEncodedData(n.mapping(a,s,e.getEncodedData())),n.logger.debug("remapping finished"),e.emit("remapping",null))}))}},{key:"generateMaping",value:function(e,t){var n=this,r=t.styleAttributeService,o=r.getLayerStyleAttributes()||[],i=r.getLayerStyleAttribute("filter"),a=e.getSource().data.dataArray,s=a;(null===i||void 0===i?void 0:i.scale)&&(s=a.filter((function(e){return n.applyAttributeMapping(i,e)[0]}))),e.setEncodedData(this.mapping(o,s))}},{key:"mapping",value:function(e,t,n){var r=this;return t.map((function(t,o){var i=n?n[o]:{},a=$n({id:t._id,coordinates:t.coordinates},i);return e.filter((function(e){return void 0!==e.scale})).forEach((function(e){var n=r.applyAttributeMapping(e,t);e.needRemapping=!1,"color"===e.name&&(n=n.map((function(e){return Object(I["q"])(e)}))),a[e.name]=Array.isArray(n)&&1===n.length?n[0]:n})),a}))}},{key:"applyAttributeMapping",value:function(e,t){var n;if(!e.scale)return[];var r=(null===e||void 0===e||null===(n=e.scale)||void 0===n?void 0:n.scalers)||[],o=[];return r.forEach((function(n){var r,i=n.field;(t.hasOwnProperty(i)||"variable"===(null===(r=e.scale)||void 0===r?void 0:r.type))&&o.push(t[i])})),e.mapping?e.mapping(o):[]}}]),e}(),Yn=Kn,Wn=O()(Yn.prototype,"configService",[Gn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zn=O()(Yn.prototype,"logger",[qn],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xn=Yn))||Xn),xr=n("rlAn"),wr=(er=Object(F["injectable"])(),er((nr=function(){function e(){d()(this,e),this.mapService=void 0}return h()(e,[{key:"apply",value:function(e){var t=this;this.mapService=e.getContainer().get(l["TYPES"].IMapService),e.hooks.init.tap("DataSourcePlugin",(function(){var n=e.sourceOption,r=n.data,o=n.options;e.setSource(new xr["default"](r,o)),t.updateClusterData(e)})),e.hooks.beforeRenderData.tap("DataSourcePlugin",(function(){var n=t.updateClusterData(e),r=e.dataState.dataSourceNeedUpdate;return e.dataState.dataSourceNeedUpdate=!1,n||r}))}},{key:"updateClusterData",value:function(e){var t=e.getSource(),n=t.cluster,r=t.clusterOptions,o=r.zoom,i=void 0===o?0:o,a=r.maxZoom,s=void 0===a?16:a,u=this.mapService.getZoom()-1;return!!(n&&Math.abs(i-u)>1&&s>i)&&(t.updateClusterData(Math.floor(u)),!0)}}]),e}(),tr=nr))||tr),Sr=n("7tbW"),Er=n.n(Sr),jr=n("4qC0"),Tr=n.n(jr),Pr=n("J2iB"),kr=n.n(Pr),Or=n("vBe5"),Cr=n("ziQ1"),Ar=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,Mr=(rr={},S()(rr,l["ScaleTypes"].LINEAR,Cr["b"]),S()(rr,l["ScaleTypes"].POWER,Cr["e"]),S()(rr,l["ScaleTypes"].LOG,Cr["c"]),S()(rr,l["ScaleTypes"].IDENTITY,Cr["a"]),S()(rr,l["ScaleTypes"].TIME,Cr["i"]),S()(rr,l["ScaleTypes"].QUANTILE,Cr["f"]),S()(rr,l["ScaleTypes"].QUANTIZE,Cr["g"]),S()(rr,l["ScaleTypes"].THRESHOLD,Cr["h"]),S()(rr,l["ScaleTypes"].CAT,Cr["d"]),rr),Rr=(or=Object(F["injectable"])(),ir=Object(F["inject"])(l["TYPES"].IGlobalConfigService),ar=Object(F["inject"])(l["TYPES"].ILogService),or((dr=function(){function e(){d()(this,e),j()(this,"configService",lr,this),j()(this,"logger",cr,this),this.scaleCache={},this.scaleOptions={}}return h()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("FeatureScalePlugin",(function(){n.scaleOptions=e.getScaleOptions();var t=r.getLayerStyleAttributes(),o=e.getSource().data.dataArray;0!==o.length&&n.caculateScalesForAttributes(t||[],o)})),e.hooks.beforeRenderData.tap("FeatureScalePlugin",(function(){n.scaleOptions=e.getScaleOptions();var t=r.getLayerStyleAttributes(),o=e.getSource().data.dataArray;return n.caculateScalesForAttributes(t||[],o),!0})),e.hooks.beforeRender.tap("FeatureScalePlugin",(function(){n.scaleOptions=e.getScaleOptions();var t=r.getLayerStyleAttributes();if(t){var o=e.getSource().data.dataArray;if(0===o.length)return;var i=t.filter((function(e){return e.needRescale}));i.length&&(n.caculateScalesForAttributes(i,o),n.logger.debug("rescale finished"))}}))}},{key:"isNumber",value:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},{key:"caculateScalesForAttributes",value:function(e,t){var n=this;this.scaleCache={},e.forEach((function(e){if(e.scale){var r=e.scale,o=e.name;r.names=n.parseFields(e.scale.field||[]);var i=[];r.names.forEach((function(r){i.push(n.getOrCreateScale(r,e,t))})),i.some((function(e){return e.type===l["StyleScaleType"].VARIABLE}))?(r.type=l["StyleScaleType"].VARIABLE,i.forEach((function(e){var t;if(!r.callback)if(r.values&&"text"!==r.values){var n;if("linear"===(null===(n=e.option)||void 0===n?void 0:n.type)&&r.values.length>2){var i=e.scale.ticks(r.values.length);"color"===o&&e.scale.domain(i)}e.scale.range(r.values)}else"cat"===(null===(t=e.option)||void 0===t?void 0:t.type)&&e.scale.range(e.option.domain)}))):(r.type=l["StyleScaleType"].CONSTANT,r.defaultValues=i.map((function(e,t){return e.scale(r.names[t])}))),r.scalers=i.map((function(e){return{field:e.field,func:e.scale,option:e.option}})),e.needRescale=!1}}))}},{key:"getOrCreateScale",value:function(e,t,n){[e,t.name].join("_");var r,o=null===(r=t.scale)||void 0===r?void 0:r.values,i=this.createScale(e,t.name,o,n);return i}},{key:"parseFields",value:function(e){return Array.isArray(e)?e:Tr()(e)?e.split("*"):[e]}},{key:"createScale",value:function(e,t,n,r){var o,i=this.scaleOptions[t]&&this.scaleOptions[t].field===e?this.scaleOptions[t]:this.scaleOptions[e],a={field:e,scale:void 0,type:l["StyleScaleType"].VARIABLE,option:i};if(!r||!r.length)return i&&i.type?a.scale=this.createDefaultScale(i):(a.scale=Cr["d"]([e]),a.type=l["StyleScaleType"].CONSTANT),a;var s=null===(o=r.find((function(t){return!kr()(t[e])})))||void 0===o?void 0:o[e];if(this.isNumber(e)||kr()(s)&&!i)a.scale=Cr["d"]([e]),a.type=l["StyleScaleType"].CONSTANT;else{var u=i&&i.type||this.getDefaultType(s);"text"===n&&(u=l["ScaleTypes"].CAT);var c=this.createDefaultScaleConfig(u,e,r);Object.assign(c,i),a.scale=this.createDefaultScale(c),a.option=c}return a}},{key:"getDefaultType",value:function(e){var t=l["ScaleTypes"].LINEAR;return"string"===typeof e&&(t=Ar.test(e)?l["ScaleTypes"].TIME:l["ScaleTypes"].CAT),t}},{key:"createDefaultScaleConfig",value:function(e,t,n){var r={type:e},o=(null===n||void 0===n?void 0:n.map((function(e){return e[t]})))||[];return e!==l["ScaleTypes"].CAT&&e!==l["ScaleTypes"].QUANTILE?r.domain=Object(Or["d"])(o):e===l["ScaleTypes"].CAT?r.domain=Er()(o):e===l["ScaleTypes"].QUANTILE&&(r.domain=o),r}},{key:"createDefaultScale",value:function(e){var t=e.type,n=e.domain,r=Mr[t]();return n&&r.domain(n),r}}]),e}(),ur=dr,lr=O()(ur.prototype,"configService",[ir],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cr=O()(ur.prototype,"logger",[ar],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sr=ur))||sr);function Lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lr(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nr,Dr,zr,Fr,Br,Ur,Hr=(fr=Object(F["injectable"])(),hr=Object(F["inject"])(l["TYPES"].ICameraService),pr=Object(F["inject"])(l["TYPES"].IRendererService),fr((yr=function(){function e(){d()(this,e),j()(this,"cameraService",_r,this),j()(this,"rendererService",mr,this)}return h()(e,[{key:"apply",value:function(e){e.hooks.beforeRender.tap("LayerAnimateStylePlugin",(function(){e.models.forEach((function(t){t.addUniforms(Ir({},e.layerModel.getAnimateUniforms()))}))}))}}]),e}(),gr=yr,_r=O()(gr.prototype,"cameraService",[hr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mr=O()(gr.prototype,"rendererService",[pr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vr=gr))||vr),Vr=(Nr=Object(F["injectable"])(),Nr(Dr=function(){function e(){d()(this,e)}return h()(e,[{key:"apply",value:function(e){e.hooks.init.tap("LayerModelPlugin",(function(){e.prepareBuildModel(),e.buildModels()})),e.hooks.beforeRenderData.tap("DataSourcePlugin",(function(){return e.prepareBuildModel(),e.buildModels(),e.layerModelNeedUpdate=!1,!1}))}}]),e}())||Dr),Gr=(zr=Object(F["injectable"])(),zr(Fr=function(){function e(){d()(this,e)}return h()(e,[{key:"apply",value:function(e){e.hooks.afterInit.tap("LayerStylePlugin",(function(){e.updateLayerConfig({});var t=e.getLayerConfig(),n=t.autoFit,r=t.fitBoundsOptions;n&&setTimeout((function(){e.fitBounds(r)}),100)}))}}]),e}())||Fr);function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yr={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},Wr={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},Zr={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},Kr={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5};function Qr(e){var t={u_DirectionalLights:new Array(3).fill(Xr({},Zr)),u_NumOfDirectionalLights:0,u_SpotLights:new Array(3).fill(Xr({},Kr)),u_NumOfSpotLights:0};return e&&e.length||(e=[Wr]),e.forEach((function(e,n){var r=e.type,o=void 0===r?"directional":r,i=x()(e,["type"]),a=Yr[o].lights,s=Yr[o].num,u=t[s];t[a][u]=Xr(Xr({},t[a][u]),i),t[s]++})),t}var Jr,$r,eo,to,no,ro,oo,io,ao,so,uo,lo,co,fo,ho,po,vo,go,_o,mo,yo,bo,xo,wo,So,Eo,jo=(Br=Object(F["injectable"])(),Br(Ur=function(){function e(){d()(this,e)}return h()(e,[{key:"apply",value:function(e){e.hooks.beforeRender.tap("LightingPlugin",(function(){var t=e.getLayerConfig(),n=t.enableLighting;n&&e.models.forEach((function(e){return e.addUniforms(Xr({},Qr()))}))}))}}]),e}())||Ur),To={NONE:0,ENCODE:1,HIGHLIGHT:2},Po=(Jr=Object(F["injectable"])(),Jr($r=function(){function e(){d()(this,e)}return h()(e,[{key:"apply",value:function(e,t){t.rendererService;var n=t.styleAttributeService;e.hooks.init.tap("PixelPickingPlugin",(function(){var t=e.getLayerConfig(),r=t.enablePicking;n.registerStyleAttribute({name:"pickingColor",type:l["AttributeType"].Attribute,descriptor:{name:"a_PickingColor",buffer:{data:[],type:l["gl"].FLOAT},size:3,update:function(e,t){var n=e.id;return r?Object(I["k"])(n):[0,0,0]}}})})),e.hooks.beforePickingEncode.tap("PixelPickingPlugin",(function(){var t=e.getLayerConfig(),n=t.enablePicking;n&&e.isVisible()&&e.models.forEach((function(e){return e.addUniforms({u_PickingStage:To.ENCODE})}))})),e.hooks.afterPickingEncode.tap("PixelPickingPlugin",(function(){var t=e.getLayerConfig(),n=t.enablePicking;n&&e.isVisible()&&e.models.forEach((function(e){return e.addUniforms({u_PickingStage:To.HIGHLIGHT})}))})),e.hooks.beforeHighlight.tap("PixelPickingPlugin",(function(t){var n=e.getLayerConfig(),r=n.highlightColor,o="string"===typeof r?Object(I["q"])(r):r||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:Object(I["j"])(new Uint8Array(t))}),e.models.forEach((function(e){return e.addUniforms({u_PickingStage:To.HIGHLIGHT,u_PickingColor:t,u_HighlightColor:o.map((function(e){return 255*e}))})}))})),e.hooks.beforeSelect.tap("PixelPickingPlugin",(function(t){var n=e.getLayerConfig(),r=n.selectColor,o="string"===typeof r?Object(I["q"])(r):r||[1,0,0,1];e.updateLayerConfig({pickedFeatureID:Object(I["j"])(new Uint8Array(t))}),e.models.forEach((function(e){return e.addUniforms({u_PickingStage:To.HIGHLIGHT,u_PickingColor:t,u_HighlightColor:o.map((function(e){return 255*e}))})}))}))}}]),e}())||$r),ko=(eo=Object(F["injectable"])(),to=Object(F["inject"])(l["TYPES"].ILogService),eo((io=function(){function e(){d()(this,e),j()(this,"logger",oo,this)}return h()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("RegisterStyleAttributePlugin",(function(){n.registerBuiltinAttributes(r)}))}},{key:"registerBuiltinAttributes",value:function(e){e.registerStyleAttribute({name:"position",type:l["AttributeType"].Attribute,descriptor:{name:"a_Position",buffer:{data:[],type:l["gl"].FLOAT},size:3,update:function(e,t,n){return 2===n.length?[n[0],n[1],0]:[n[0],n[1],n[2]]}}}),e.registerStyleAttribute({name:"filter",type:l["AttributeType"].Attribute,descriptor:{name:"filter",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:1,update:function(e,t){var n=e.filter;return n?[1]:[0]}}}),e.registerStyleAttribute({name:"color",type:l["AttributeType"].Attribute,descriptor:{name:"a_Color",buffer:{usage:l["gl"].DYNAMIC_DRAW,data:[],type:l["gl"].FLOAT},size:4,update:function(e,t){var n=e.color;return n&&n.length?n:[1,1,1,1]}}})}}]),e}(),ro=io,oo=O()(ro.prototype,"logger",[to],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),no=ro))||no),Oo=(ao=Object(F["injectable"])(),so=Object(F["inject"])(l["TYPES"].ICameraService),uo=Object(F["inject"])(l["TYPES"].ICoordinateSystemService),lo=Object(F["inject"])(l["TYPES"].IRendererService),ao((go=function(){function e(){d()(this,e),j()(this,"cameraService",ho,this),j()(this,"coordinateSystemService",po,this),j()(this,"rendererService",vo,this)}return h()(e,[{key:"apply",value:function(e){var t=this;e.hooks.beforeRender.tap("ShaderUniformPlugin",(function(){t.coordinateSystemService.refresh();var n=t.rendererService.getViewportSize(),r=n.width,o=n.height;e.models.forEach((function(n){var i;return n.addUniforms((i={},S()(i,l["CameraUniform"].ProjectionMatrix,t.cameraService.getProjectionMatrix()),S()(i,l["CameraUniform"].ViewMatrix,t.cameraService.getViewMatrix()),S()(i,l["CameraUniform"].ViewProjectionMatrix,t.cameraService.getViewProjectionMatrix()),S()(i,l["CameraUniform"].Zoom,t.cameraService.getZoom()),S()(i,l["CameraUniform"].ZoomScale,t.cameraService.getZoomScale()),S()(i,l["CameraUniform"].FocalDistance,t.cameraService.getFocalDistance()),S()(i,l["CameraUniform"].CameraPosition,t.cameraService.getCameraPosition()),S()(i,l["CoordinateUniform"].CoordinateSystem,t.coordinateSystemService.getCoordinateSystem()),S()(i,l["CoordinateUniform"].ViewportCenter,t.coordinateSystemService.getViewportCenter()),S()(i,l["CoordinateUniform"].ViewportCenterProjection,t.coordinateSystemService.getViewportCenterProjection()),S()(i,l["CoordinateUniform"].PixelsPerDegree,t.coordinateSystemService.getPixelsPerDegree()),S()(i,l["CoordinateUniform"].PixelsPerDegree2,t.coordinateSystemService.getPixelsPerDegree2()),S()(i,l["CoordinateUniform"].PixelsPerMeter,t.coordinateSystemService.getPixelsPerMeter()),S()(i,"u_ViewportSize",[r,o]),S()(i,"u_DevicePixelRatio",window.devicePixelRatio),S()(i,"u_ModelMatrix",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),S()(i,"u_PickingBuffer",e.getLayerConfig().pickingBuffer||0),i))}))}))}}]),e}(),fo=go,ho=O()(fo.prototype,"cameraService",[so],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),po=O()(fo.prototype,"coordinateSystemService",[uo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vo=O()(fo.prototype,"rendererService",[lo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),co=fo))||co),Co=(_o=Object(F["injectable"])(),_o(mo=function(){function e(){d()(this,e)}return h()(e,[{key:"apply",value:function(e){e.hooks.beforeRender.tap("UpdateModelPlugin",(function(){e.layerModel&&e.layerModel.needUpdate()}))}}]),e}())||mo),Ao=(yo=Object(F["injectable"])(),bo=Object(F["inject"])(l["TYPES"].ILogService),yo((Eo=function(){function e(){d()(this,e),j()(this,"logger",So,this)}return h()(e,[{key:"apply",value:function(e,t){var n=this,r=t.styleAttributeService;e.hooks.init.tap("UpdateStyleAttributePlugin",(function(){n.initStyleAttribute(e,{styleAttributeService:r})})),e.hooks.beforeRenderData.tap("styleAttributeService",(function(){return e.layerModelNeedUpdate=!0,!0})),e.hooks.beforeRender.tap("UpdateStyleAttributePlugin",(function(){e.layerModelNeedUpdate||n.updateStyleAtrribute(e,{styleAttributeService:r})}))}},{key:"updateStyleAtrribute",value:function(e,t){var n=this,r=t.styleAttributeService,o=r.getLayerStyleAttributes()||[],i=r.getLayerStyleAttribute("filter"),a=r.getLayerStyleAttribute("shape");if(i&&i.needRegenerateVertices||a&&a.needRegenerateVertices)return e.layerModelNeedUpdate=!0,void o.forEach((function(e){return e.needRegenerateVertices=!1}));o.filter((function(e){return e.needRegenerateVertices})).forEach((function(t){r.updateAttributeByFeatureRange(t.name,e.getEncodedData(),t.featureRange.startIndex,t.featureRange.endIndex),t.needRegenerateVertices=!1,n.logger.debug("regenerate vertex attributes: ".concat(t.name," finished"))}))}},{key:"initStyleAttribute",value:function(e,t){var n=this,r=t.styleAttributeService,o=r.getLayerStyleAttributes()||[];o.filter((function(e){return e.needRegenerateVertices})).forEach((function(t){r.updateAttributeByFeatureRange(t.name,e.getEncodedData(),t.featureRange.startIndex,t.featureRange.endIndex),t.needRegenerateVertices=!1,n.logger.debug("init vertex attributes: ".concat(t.name," finished"))}))}}]),e}(),wo=Eo,So=O()(wo.prototype,"logger",[bo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xo=wo))||xo);l["container"].bind(l["TYPES"].ILayerPlugin).to(wr).inRequestScope(),l["container"].bind(l["TYPES"].ILayerPlugin).to(ko).inRequestScope(),l["container"].bind(l["TYPES"].ILayerPlugin).to(Rr).inRequestScope(),l["container"].bind(l["TYPES"].ILayerPlugin).to(br).inRequestScope(),l["container"].bind(l["TYPES"].ILayerPlugin).to(Gr).inRequestScope(),l["container"].bind(l["TYPES"].ILayerPlugin).to(Ao).inRequestScope(),l["container"].bind(l["TYPES"].ILayerPlugin).to(Co).inRequestScope(),l["container"].bind(l["TYPES"].ILayerPlugin).to(K).inRequestScope(),l["container"].bind(l["TYPES"].ILayerPlugin).to(Oo).inRequestScope(),l["container"].bind(l["TYPES"].ILayerPlugin).to(Hr).inRequestScope(),l["container"].bind(l["TYPES"].ILayerPlugin).to(jo).inRequestScope(),l["container"].bind(l["TYPES"].ILayerPlugin).to(Po).inRequestScope(),l["container"].bind(l["TYPES"].ILayerPlugin).to(Vr).inRequestScope()},xp6e:function(e,t,n){"use strict";(function(e){function r(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{u(r.next(e))}catch(t){i(t)}}function s(e){try{u(r["throw"](e))}catch(t){i(t)}}function u(e){e.done?n(e.value):o(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(o=2&i[0]?r["return"]:i[0]?r["throw"]||((o=r["return"])&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}function i(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{while((void 0===t||t-- >0)&&!(r=i.next()).done)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=i["return"])&&n.call(i)}finally{if(o)throw o.error}}return a}function a(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function u(e,t){return t={exports:{}},e(t,t.exports),t.exports}n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return L}));var l=u((function(e,t){function n(e){return e&&"number"===typeof e.length&&e.length>=0&&e.length%1===0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t["default"]}));s(l);var c=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=t.pop();return e.call(this,t,r)}},e.exports=t["default"]}));s(c);var d=u((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fallback=a,n.wrap=s;var r,o=n.hasSetImmediate="function"===typeof setImmediate&&setImmediate,i=n.hasNextTick="object"===typeof e&&"function"===typeof e.nextTick;function a(e){setTimeout(e,0)}function s(e){return function(t){var n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];return e((function(){return t.apply(void 0,n)}))}}r=o?setImmediate:i?e.nextTick:a,n.default=s(r)}));s(d);d.fallback,d.wrap,d.hasSetImmediate,d.hasNextTick;var f=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=o(c),r=o(d);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,h.isAsync)(e)?function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=t.pop(),o=e.apply(this,t);return a(o,r)}:(0,n.default)((function(t,n){var r;try{r=e.apply(this,t)}catch(o){return n(o)}if(r&&"function"===typeof r.then)return a(r,n);n(null,r)}))}function a(e,t){return e.then((function(e){s(t,null,e)}),(function(e){s(t,e&&e.message?e:new Error(e))}))}function s(e,t,n){try{e(t,n)}catch(o){(0,r.default)((function(e){throw e}),o)}}e.exports=t["default"]}));s(f);var h=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=t.isAsyncGenerator=t.isAsync=void 0;var n=r(f);function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return"AsyncFunction"===e[Symbol.toStringTag]}function i(e){return"AsyncGenerator"===e[Symbol.toStringTag]}function a(e){return"function"===typeof e[Symbol.asyncIterator]}function s(e){if("function"!==typeof e)throw new Error("expected a function");return o(e)?(0,n.default)(e):e}t.default=s,t.isAsync=o,t.isAsyncGenerator=i,t.isAsyncIterable=a}));s(h);h.isAsyncIterable,h.isAsyncGenerator,h.isAsync;var p=u((function(e,t){function n(e,t){if(void 0===t&&(t=e.length),!t)throw new Error("arity is undefined");function n(){var n=this,r=[],o=arguments.length;while(o--)r[o]=arguments[o];return"function"===typeof r[t-1]?e.apply(this,r):new Promise((function(o,i){r[t-1]=function(e){var t=[],n=arguments.length-1;while(n-- >0)t[n]=arguments[n+1];if(e)return i(e);o(t.length>1?t:t[0])},e.apply(n,r)}))}return Object.defineProperty(n,"name",{configurable:!0,value:"awaitable("+e.name+")"}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t["default"]}));s(p);var v=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=i(l),r=i(h),o=i(p);function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((function(e,t,o){var i=(0,n.default)(t)?[]:{};e(t,(function(e,t,n){(0,r.default)(e)((function(e){var r,o=[],a=arguments.length-1;while(a-- >0)o[a]=arguments[a+1];o.length<2&&(r=o,o=r[0]),i[t]=o,n(e)}))}),(function(e){return o(e,i)}))}),3),e.exports=t["default"]}));s(v);var g=u((function(e,t){function n(e){function t(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];if(null!==e){var r=e;e=null,r.apply(this,t)}}return Object.assign(t,e),t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t["default"]}));s(g);var _=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()},e.exports=t["default"]}));s(_);var m=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var n=o(l),r=o(_);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}function a(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}function s(e){var t=e?Object.keys(e):[],n=-1,r=t.length;return function(){var o=t[++n];return n<r?{value:e[o],key:o}:null}}function u(e){if((0,n.default)(e))return i(e);var t=(0,r.default)(e);return t?a(t):s(e)}e.exports=t["default"]}));s(m);var y=u((function(e,t){function n(e){return function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];if(null===e)throw new Error("Callback was already called.");var r=e;e=null,r.apply(this,t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t["default"]}));s(y);var b=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=n,e.exports=t["default"]}));s(b);var x=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=r(b);function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,r,o){var i=!1,a=!1,s=!1,u=0,l=0;function c(){u>=t||s||i||(s=!0,e.next().then((function(e){var t=e.value,n=e.done;if(!a&&!i){if(s=!1,n)return i=!0,void(u<=0&&o(null));u++,r(t,l,d),l++,c()}})).catch(f))}function d(e,t){if(u-=1,!a)return e?f(e):!1===e?(i=!0,void(a=!0)):t===n.default||i&&u<=0?(i=!0,o(null)):void c()}function f(e){a||(s=!1,i=!0,o(e))}c()}e.exports=t["default"]}));s(x);var w=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=s(g),r=s(m),o=s(y),i=s(x),a=s(b);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t,s,u){if(u=(0,n.default)(u),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return u(null);if((0,h.isAsyncGenerator)(t))return(0,i.default)(t,e,s,u);if((0,h.isAsyncIterable)(t))return(0,i.default)(t[Symbol.asyncIterator](),e,s,u);var l=(0,r.default)(t),c=!1,d=!1,f=0,p=!1;function v(e,t){if(!d)if(f-=1,e)c=!0,u(e);else if(!1===e)c=!0,d=!0;else{if(t===a.default||c&&f<=0)return c=!0,u(null);p||g()}}function g(){p=!0;while(f<e&&!c){var t=l();if(null===t)return c=!0,void(f<=0&&u(null));f+=1,s(t.value,t.key,(0,o.default)(v))}p=!1}g()}},e.exports=t["default"]}));s(w);var S=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=i(w),r=i(h),o=i(p);function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,o,i){return(0,n.default)(t)(e,(0,r.default)(o),i)}t.default=(0,o.default)(a,4),e.exports=t["default"]}));s(S);var E=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=o(S),r=o(p);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,r){return(0,n.default)(e,1,t,r)}t.default=(0,r.default)(i,3),e.exports=t["default"]}));s(E);var j=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=o(v),r=o(E);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(0,n.default)(r.default,e,t)}e.exports=t["default"]})),T=s(j),P=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.args=[],this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return this.args=t,T(this.tasks)},e.prototype.tap=function(e,t){var n=this;this.tasks.push((function(r){t.apply(void 0,a(n.args)),r(null,e)}))},e}(),k=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=c(l),r=c(b),o=c(S),i=c(g),a=c(y),s=c(h),u=c(p);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){n=(0,i.default)(n);var o=0,s=0,u=e.length,l=!1;function c(e,t){!1===e&&(l=!0),!0!==l&&(e?n(e):++s!==u&&t!==r.default||n(null))}for(0===u&&n(null);o<u;o++)t(e[o],o,(0,a.default)(c))}function f(e,t,n){return(0,o.default)(e,1/0,t,n)}function v(e,t,r){var o=(0,n.default)(e)?d:f;return o(e,(0,s.default)(t),r)}t.default=(0,u.default)(v,3),e.exports=t["default"]}));s(k);var O=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=o(k),r=o(v);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(0,r.default)(n.default,e,t)}e.exports=t["default"]})),C=s(O),A=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.tasks=[]}return e.prototype.promise=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return C(this.tasks)},e.prototype.tapPromise=function(e,t){var n=this;this.tasks.push((function(i){return r(n,void 0,void 0,(function(){return o(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return n.sent(),i(null,e),[2]}}))}))}))},e}(),M=u((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=a(g),r=a(y),o=a(h),i=a(p);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(t=(0,n.default)(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var i=0;function a(t){var n=(0,o.default)(e[i++]);n.apply(void 0,t.concat([(0,r.default)(s)]))}function s(n){var r=[],o=arguments.length-1;while(o-- >0)r[o]=arguments[o+1];if(!1!==n)return n||i===e.length?t.apply(void 0,[n].concat(r)):void a(r)}a([])}t.default=(0,i.default)(s),e.exports=t["default"]})),R=s(M),L=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return R(this.tasks)},e.prototype.tap=function(e,t){0===this.tasks.length?this.tasks.push((function(e){var n=t();e(!!n&&null,n)})):this.tasks.push((function(n,r){var o=t();r(!!o&&null,e)}))},e}(),I=function(){function e(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];this.tasks=[]}return e.prototype.call=function(){for(var e=arguments,t=[],n=0;n<arguments.length;n++)t[n]=e[n];return T(this.tasks)},e.prototype.tap=function(e,t){this.tasks.push((function(n){var r=t();n(r,e)}))},e}()}).call(this,n("Q2Ig"))}}]);